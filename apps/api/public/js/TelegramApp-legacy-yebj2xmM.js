!function(){var t=["request"],e=["request"],n=["postEvent"],r=["request"],i=["postEvent"],o=["postEvent","version"],s=["openTelegramLink"],u=["available"],a=["defaults"],c=["request"],f=["invokeCustomMethod","requestPhoneAccess"],l=["requestContact"],p=["request"],h=["defaults"],d=["request"],v=["invokeCustomMethod"],_=["postEvent"],b=["request","createRequestId"],m=["postEvent"],g=["request"],y=["postEvent"],w=["isInlineMode","postEvent"],C=["isViewportStable"];function S(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==e.indexOf(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],-1===e.indexOf(n)&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function k(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var a=r&&r.prototype instanceof u?r:u,c=Object.create(a.prototype);return F(c,"_invoke",function(n,r,i){var o,u,a,c=0,f=i||[],l=!1,p={p:0,n:0,v:t,a:h,f:h.bind(t,4),d:function(e,n){return o=e,u=0,a=t,p.n=n,s}};function h(n,r){for(u=n,a=r,e=0;!l&&c&&!i&&e<f.length;e++){var i,o=f[e],h=p.p,d=o[2];n>3?(i=d===r)&&(a=o[(u=o[4])?5:(u=3,3)],o[4]=o[5]=t):o[0]<=h&&((i=n<2&&h<o[1])?(u=0,p.v=r,p.n=o[1]):h<d&&(i=n<3||o[0]>r||r>d)&&(o[4]=n,o[5]=r,p.n=d,u=0))}if(i||n>1)return s;throw l=!0,r}return function(i,f,d){if(c>1)throw TypeError("Generator is already running");for(l&&1===f&&h(f,d),u=f,a=d;(e=u<2?t:a)||!l;){o||(u?u<3?(u>1&&(p.n=-1),h(u,a)):p.n=a:p.v=a);try{if(c=2,o){if(u||(i="next"),e=o[i]){if(!(e=e.call(o,a)))throw TypeError("iterator result is not an object");if(!e.done)return e;a=e.value,u<2&&(u=0)}else 1===u&&(e=o.return)&&e.call(o),u<2&&(a=TypeError("The iterator does not provide a '"+i+"' method"),u=1);o=t}else if((e=(l=p.n<0)?a:n.call(r,p))!==s)break}catch(e){o=t,u=1,a=e}finally{c=1}}return{value:e,done:l}}}(n,i,o),!0),c}var s={};function u(){}function a(){}function c(){}e=Object.getPrototypeOf;var f=[][r]?e(e([][r]())):(F(e={},r,function(){return this}),e),l=c.prototype=u.prototype=Object.create(f);function p(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,F(t,i,"GeneratorFunction")),t.prototype=Object.create(l),t}return a.prototype=c,F(l,"constructor",c),F(c,"constructor",a),a.displayName="GeneratorFunction",F(c,i,"GeneratorFunction"),F(l),F(l,i,"Generator"),F(l,r,function(){return this}),F(l,"toString",function(){return"[object Generator]"}),(k=function(){return{w:o,m:p}})()}function F(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}F=function(t,e,n,r){function o(e,n){F(t,e,function(t){return this._invoke(e,n,t)})}e?i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n:(o("next",0),o("throw",1),o("return",2))},F(t,e,n,r)}function E(t,e,n,r,i,o,s){try{var u=t[o](s),a=u.value}catch(t){return void n(t)}u.done?e(a):Promise.resolve(a).then(r,i)}function x(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var o=t.apply(e,n);function s(t){E(o,r,i,s,u,"next",t)}function u(t){E(o,r,i,s,u,"throw",t)}s(void 0)})}}function A(t,e,n,r){var i=O(W(1&r?t.prototype:t),e,n);return 2&r&&"function"==typeof i?function(t){return i.apply(n,t)}:i}function O(){return O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var r=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=W(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}},O.apply(null,arguments)}function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach(function(e){q(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function q(t,e,n){return(e=R(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=$(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,R(r.key),r)}}function M(t,e,n){return e&&I(t.prototype,e),n&&I(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function R(t){var e=function(t,e){if("object"!=J(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=J(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==J(e)?e:e+""}function V(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B(t,e,n){return e=W(e),function(t,e){if(e&&("object"==J(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return L(t)}(t,G()?Reflect.construct(e,n||[],W(t).constructor):e.apply(t,n))}function L(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N(t,e)}function D(t){var e="function"==typeof Map?new Map:void 0;return D=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(G())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(t.bind.apply(t,r));return n&&N(i,n.prototype),i}(t,arguments,W(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),N(n,t)},D(t)}function G(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(G=function(){return!!t})()}function N(t,e){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},N(t,e)}function W(t){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},W(t)}function H(t){return function(t){if(Array.isArray(t))return K(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||$(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,s,u=[],a=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=o.call(n)).done)&&(u.push(r.value),u.length!==e);a=!0);}catch(t){c=!0,i=t}finally{try{if(!a&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return u}}(t,e)||$(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(t,e){if(t){if("string"==typeof t)return K(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(t,e):void 0}}function K(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function J(t){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}System.register(["./index-legacy-CEOCQCnd.js","./vendor-legacy-B8gM1TaO.js","./App-legacy-QJVPl7Ns.js"],function(F,E){"use strict";var O,j,I;return{setters:[function(t){O=t.j},function(t){j=t.b},function(t){I=t.A}],execute:function(){F("default",function(){var t,e=(r=!0,j.useMemo(function(){return $t(Un())},[r])),n="dark"===(null==e||null===(t=e.themeParams)||void 0===t?void 0:t.colorScheme)?"dark":"light";var r;return O.jsx(nt,{appearance:n,children:O.jsx(I,{})})});var E=function(t){return"object"===J(t)&&null!==t},R=function(t,e){if(t===e)return!0;if(null==t||null==e||!E(t)&&!E(e))return!1;if(E(t)&&E(e)){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var n in t){if(!Object.prototype.hasOwnProperty.call(t,n)||!Object.prototype.hasOwnProperty.call(e,n))return!1;if(!R(t[n],e[n]))return!1}return!0}return!1};function G(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e.push.apply(e,n)}return e}(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}),t}function W(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function $(){for(var t=[],e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(function(e){if(e)switch(J(e)){case"string":t.push(e);break;case"object":Object.keys(e).forEach(function(n){e[n]&&t.push(n)});break;default:t.push("".concat(e))}}),t.join(" ")}var K,Z=j.createContext({isRendered:!1}),Q=!("undefined"==typeof window||!window.document||!window.document.createElement),Y=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=null;return{get current(){return r},set current(t){r=t,e.forEach(function(e){return e&&function(t,e){e&&("function"==typeof e?e(t):e.current=t)}(t,e)})}}},X=function(){var t;if(Q)return null===(t=window.Telegram)||void 0===t?void 0:t.WebApp},tt=function(t){var e=j.useContext(Z).appearance,n=z(j.useState(t||e||(Q&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),2),r=n[0],i=n[1],o=j.useCallback(function(){var t=X();t&&i(t.colorScheme)},[]);return j.useEffect(function(){if(void 0!==t)return i(t),function(){};var e=X();return e?(e.onEvent("themeChanged",o),function(){return e.offEvent("themeChanged",o)}):function(t){if(!Q||!window.matchMedia)return function(){};var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){t(e.matches?"dark":"light")};return e.addEventListener("change",n),function(){return e.removeEventListener("change",n)}}(i)},[t]),r},et=function(t){if(void 0!==t)return t;var e,n=j.useContext(Z);return n.isRendered&&void 0!==n.platform?n.platform:(e=X())&&["ios","macos"].includes(e.platform)?"ios":"base"},nt=j.forwardRef(function(t,e){var n,r,i=t.platform,o=t.appearance,s=t.portalContainer,u=t.children,a=t.className,c=W(t,["platform","appearance","portalContainer","children","className"]),f=tt(o),l=function(t){if(void 0!==t)return t;var e=j.useContext(Z);return e.isRendered&&void 0!==e.portalContainer?e.portalContainer:j.useRef(null)}(s),p=et(i),h=(n={platform:p,appearance:f,portalContainer:l,isRendered:!0},r=j.useRef(n),R(r.current,n)||(r.current=n),r.current);return O.jsx("div",N(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){G(t,e,n[e])})}return t}({ref:Y(e,l),className:$("tgui-6a12827a138e8827","ios"===p&&"tgui-56dbb42c1dbd5e2b","dark"===f&&"tgui-865b921add8ee075",a)},c),{children:O.jsx(Z.Provider,{value:h,children:u})}))});function rt(t){if(K)return t();K=new Map;try{t()}finally{K.forEach(function(t){return t()}),K=void 0}}function it(t,e){e||(e={});var n=e.equals||Object.is,r=[],i=t,o=function(t){if(!n(i,t)){var e=i;i=t,function(t,e){K?K.set(t,e):e()}(a,function(){H(r).forEach(function(n){var r=z(n,2),i=r[0],o=r[1];i(t,e),o&&u(i,!0)})})}};function s(t){var e="object"!=J(t)?{once:t}:t;return{once:e.once||!1,signal:e.signal||!1}}var u=function(t,e){var n=s(e),i=r.findIndex(function(e){var r=z(e,2),i=r[0],o=r[1];return i===t&&o.once===n.once&&o.signal===n.signal});i>=0&&r.splice(i,1)},a=Object.assign(function(){return function(t){ot.length&&ot[ot.length-1].add(t)}(a),i},{destroy:function(){r=[]},set:o,reset:function(){o(t)},sub:function(t,e){return r.push([t,s(e)]),function(){return u(t,e)}},unsub:u,unsubAll:function(){r=r.filter(function(t){return t[1].signal})}});return a}var ot=[];function st(t,e){var n,r=new Set;function i(){return n||(n=it(s(),e))}function o(){i().set(s())}function s(){r.forEach(function(t){t.unsub(o,{signal:!0})});var e,n=new Set;ot.push(n);try{e=t()}finally{ot.pop()}return n.forEach(function(t){t.sub(o,{signal:!0})}),r=n,e}return Object.assign(function(){return i()()},{destroy:function(){i().destroy()},sub:function(){var t;return(t=i()).sub.apply(t,arguments)},unsub:function(){var t;(t=i()).unsub.apply(t,arguments)},unsubAll:function(){var t;(t=i()).unsubAll.apply(t,arguments)}})}function ut(t){var e,n,r;return{lang:null!==(e=null==t?void 0:t.lang)&&void 0!==e?e:void 0,message:null==t?void 0:t.message,abortEarly:null!==(n=null==t?void 0:t.abortEarly)&&void 0!==n?n:void 0,abortPipeEarly:null!==(r=null==t?void 0:t.abortPipeEarly)&&void 0!==r?r:void 0}}function at(t,e,n,r,i){var o,s,u,a,c,f,l,p,h=i&&"input"in i?i.input:n.value,d=null!==(o=null!==(s=null==i?void 0:i.expected)&&void 0!==s?s:t.expects)&&void 0!==o?o:null,v=null!==(u=null==i?void 0:i.received)&&void 0!==u?u:function(t){var e,n,r=J(t);return"string"===r?'"'.concat(t,'"'):"number"===r||"bigint"===r||"boolean"===r?"".concat(t):"object"===r||"function"===r?null!==(e=t&&(null===(n=Object.getPrototypeOf(t))||void 0===n||null===(n=n.constructor)||void 0===n?void 0:n.name))&&void 0!==e?e:"null":r}(h),_={kind:t.kind,type:t.type,input:h,expected:d,received:v,message:"Invalid ".concat(e,": ").concat(d?"Expected ".concat(d," but r"):"R","eceived ").concat(v),requirement:t.requirement,path:null==i?void 0:i.path,issues:null==i?void 0:i.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},b="schema"===t.kind,m=null!==(a=null!==(c=null!==(f=null!==(l=null!==(p=null==i?void 0:i.message)&&void 0!==p?p:t.message)&&void 0!==l?l:(t.reference,void _.lang))&&void 0!==f?f:b?void _.lang:null)&&void 0!==c?c:r.message)&&void 0!==a?a:void _.lang;void 0!==m&&(_.message="function"==typeof m?m(_):m),b&&(n.typed=!1),n.issues?n.issues.push(_):n.issues=[_]}function ct(t){return{version:1,vendor:"valibot",validate:function(e){return t["~run"]({value:e},ut())}}}function ft(t,e){return Object.hasOwn(t,e)&&"__proto__"!==e&&"prototype"!==e&&"constructor"!==e}var lt=function(t){function e(t){var n;return V(this,e),(n=B(this,e,[t[0].message])).name="ValiError",n.issues=t,n}return U(e,t),M(e)}(D(Error));function pt(t,e){return{kind:"validation",type:"check",reference:pt,async:!1,expects:null,requirement:t,message:e,"~run":function(t,e){return t.typed&&!this.requirement(t.value)&&at(this,"input",t,e),t}}}function ht(t){return{kind:"validation",type:"integer",reference:ht,async:!1,expects:null,requirement:Number.isInteger,message:t,"~run":function(t,e){return t.typed&&!this.requirement(t.value)&&at(this,"integer",t,e),t}}}function dt(t){return{kind:"transformation",type:"transform",reference:dt,async:!1,operation:t,"~run":function(t){return t.value=this.operation(t.value),t}}}function vt(t,e,n){return"function"==typeof t.fallback?t.fallback(e,n):t.fallback}function _t(t,e,n){return"function"==typeof t.default?t.default(e,n):t.default}function bt(t,e){return!t["~run"]({value:e},{abortEarly:!0}).issues}function mt(t,e){return{kind:"schema",type:"array",reference:mt,expects:"Array",async:!1,item:t,message:e,get"~standard"(){return ct(this)},"~run":function(t,e){var n=t.value;if(Array.isArray(n)){t.typed=!0,t.value=[];for(var r=0;r<n.length;r++){var i=n[r],o=this.item["~run"]({value:i},e);if(o.issues){var s,u={type:"array",origin:"value",input:n,key:r,value:i},a=T(o.issues);try{for(a.s();!(s=a.n()).done;){var c,f=s.value;f.path?f.path.unshift(u):f.path=[u],null===(c=t.issues)||void 0===c||c.push(f)}}catch(l){a.e(l)}finally{a.f()}if(t.issues||(t.issues=o.issues),e.abortEarly){t.typed=!1;break}}o.typed||(t.typed=!1),t.value.push(o.value)}}else at(this,"type",t,e);return t}}}function gt(t){return{kind:"schema",type:"boolean",reference:gt,expects:"boolean",async:!1,message:t,get"~standard"(){return ct(this)},"~run":function(t,e){return"boolean"==typeof t.value?t.typed=!0:at(this,"type",t,e),t}}}function yt(t){return{kind:"schema",type:"date",reference:yt,expects:"Date",async:!1,message:t,get"~standard"(){return ct(this)},"~run":function(t,e){return t.value instanceof Date?isNaN(t.value)?at(this,"type",t,e,{received:'"Invalid Date"'}):t.typed=!0:at(this,"type",t,e),t}}}function wt(t){return{kind:"schema",type:"function",reference:wt,expects:"Function",async:!1,message:t,get"~standard"(){return ct(this)},"~run":function(t,e){return"function"==typeof t.value?t.typed=!0:at(this,"type",t,e),t}}}function Ct(t,e){return{kind:"schema",type:"instance",reference:Ct,expects:t.name,async:!1,class:t,message:e,get"~standard"(){return ct(this)},"~run":function(t,e){return t.value instanceof this.class?t.typed=!0:at(this,"type",t,e),t}}}function St(t,e){return{kind:"schema",type:"loose_object",reference:St,expects:"Object",async:!1,entries:t,message:e,get"~standard"(){return ct(this)},"~run":function(t,e){var n=t.value;if(n&&"object"===J(n)){for(var r in t.typed=!0,t.value={},this.entries){var i=this.entries[r];if(r in n||("exact_optional"===i.type||"optional"===i.type||"nullish"===i.type)&&void 0!==i.default){var o=r in n?n[r]:_t(i),s=i["~run"]({value:o},e);if(s.issues){var u,a={type:"object",origin:"value",input:n,key:r,value:o},c=T(s.issues);try{for(c.s();!(u=c.n()).done;){var f,l=u.value;l.path?l.path.unshift(a):l.path=[a],null===(f=t.issues)||void 0===f||f.push(l)}}catch(h){c.e(h)}finally{c.f()}if(t.issues||(t.issues=s.issues),e.abortEarly){t.typed=!1;break}}s.typed||(t.typed=!1),t.value[r]=s.value}else if(void 0!==i.fallback)t.value[r]=vt(i);else if("exact_optional"!==i.type&&"optional"!==i.type&&"nullish"!==i.type&&(at(this,"key",t,e,{input:void 0,expected:'"'.concat(r,'"'),path:[{type:"object",origin:"key",input:n,key:r,value:n[r]}]}),e.abortEarly))break}if(!t.issues||!e.abortEarly)for(var p in n)ft(n,p)&&!(p in this.entries)&&(t.value[p]=n[p])}else at(this,"type",t,e);return t}}}function kt(t,e){return{kind:"schema",type:"nullish",reference:kt,expects:"(".concat(t.expects," | null | undefined)"),async:!1,wrapped:t,default:e,get"~standard"(){return ct(this)},"~run":function(t,e){return null!==t.value&&void 0!==t.value||(void 0!==this.default&&(t.value=_t(this,t,e)),null!==t.value&&void 0!==t.value)?this.wrapped["~run"](t,e):(t.typed=!0,t)}}}function Ft(t){return{kind:"schema",type:"number",reference:Ft,expects:"number",async:!1,message:t,get"~standard"(){return ct(this)},"~run":function(t,e){return"number"!=typeof t.value||isNaN(t.value)?at(this,"type",t,e):t.typed=!0,t}}}function Et(t,e){return{kind:"schema",type:"optional",reference:Et,expects:"(".concat(t.expects," | undefined)"),async:!1,wrapped:t,default:e,get"~standard"(){return ct(this)},"~run":function(t,e){return void 0===t.value&&(void 0!==this.default&&(t.value=_t(this,t,e)),void 0===t.value)?(t.typed=!0,t):this.wrapped["~run"](t,e)}}}function xt(t,e,n){return{kind:"schema",type:"record",reference:xt,expects:"Object",async:!1,key:t,value:e,message:n,get"~standard"(){return ct(this)},"~run":function(t,e){var n=t.value;if(n&&"object"===J(n)){for(var r in t.typed=!0,t.value={},n)if(ft(n,r)){var i=n[r],o=this.key["~run"]({value:r},e);if(o.issues){var s,u={type:"object",origin:"key",input:n,key:r,value:i},a=T(o.issues);try{for(a.s();!(s=a.n()).done;){var c,f=s.value;f.path=[u],null===(c=t.issues)||void 0===c||c.push(f)}}catch(b){a.e(b)}finally{a.f()}if(t.issues||(t.issues=o.issues),e.abortEarly){t.typed=!1;break}}var l=this.value["~run"]({value:i},e);if(l.issues){var p,h={type:"object",origin:"value",input:n,key:r,value:i},d=T(l.issues);try{for(d.s();!(p=d.n()).done;){var v,_=p.value;_.path?_.path.unshift(h):_.path=[h],null===(v=t.issues)||void 0===v||v.push(_)}}catch(b){d.e(b)}finally{d.f()}if(t.issues||(t.issues=l.issues),e.abortEarly){t.typed=!1;break}}o.typed&&l.typed||(t.typed=!1),o.typed&&(t.value[o.value]=l.value)}}else at(this,"type",t,e);return t}}}function At(t){return{kind:"schema",type:"string",reference:At,expects:"string",async:!1,message:t,get"~standard"(){return ct(this)},"~run":function(t,e){return"string"==typeof t.value?t.typed=!0:at(this,"type",t,e),t}}}function Ot(t){var e;if(t){var n,r=T(t);try{for(r.s();!(n=r.n()).done;){var i,o=n.value;if(e)(i=e).push.apply(i,H(o.issues));else e=o.issues}}catch(s){r.e(s)}finally{r.f()}}return e}function jt(t,e){return{kind:"schema",type:"union",reference:jt,expects:(n=t.map(function(t){return t.expects}),r="|",o=H(new Set(n)),o.length>1?"(".concat(o.join(" ".concat(r," ")),")"):null!==(i=o[0])&&void 0!==i?i:"never"),async:!1,options:t,message:e,get"~standard"(){return ct(this)},"~run":function(t,e){var n,r,i,o,s,u=T(this.options);try{for(u.s();!(s=u.n()).done;){var a=s.value["~run"]({value:t.value},e);if(a.typed){if(!a.issues){r=a;break}i?i.push(a):i=[a]}else o?o.push(a):o=[a]}}catch(c){u.e(c)}finally{u.f()}if(r)return r;if(i){if(1===i.length)return i[0];at(this,"type",t,e,{issues:Ot(i)}),t.typed=!0}else{if(1===(null===(n=o)||void 0===n?void 0:n.length))return o[0];at(this,"type",t,e,{issues:Ot(o)})}return t}};var n,r,i,o}function Pt(){return{kind:"schema",type:"unknown",reference:Pt,expects:"unknown",async:!1,get"~standard"(){return ct(this)},"~run":function(t){return t.typed=!0,t}}}function qt(t,e,n){var r=t["~run"]({value:e},ut(n));if(r.issues)throw new lt(r.issues);return r.value}function Tt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return P(P({},e[0]),{},{pipe:e,get"~standard"(){return ct(this)},"~run":function(t,n){for(var r=0,i=e;r<i.length;r++){var o=i[r];if("metadata"!==o.kind){if(t.issues&&("schema"===o.kind||"transformation"===o.kind)){t.typed=!1;break}t.issues&&(n.abortEarly||n.abortPipeEarly)||(t=o["~run"](t,n))}}return t}})}function It(t,e,n){var r=t["~run"]({value:e},ut(n));return{typed:r.typed,success:!r.issues,output:r.value,issues:r.issues}}var Mt=Object.defineProperty,Rt=function(t,e,n){return function(t,e,n){return e in t?Mt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n}(t,"symbol"!=J(e)?e+"":e,n)},Vt=Object.defineProperty,Bt=function(t,e,n){return function(t,e,n){return e in t?Vt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n}(t,"symbol"!=J(e)?e+"":e,n)};function Lt(t){return function(e){return e instanceof t}}function Ut(t,e){var n=function(n){function r(){var n;return V(this,r),(n=B(this,r,H("function"==typeof e?e.apply(void 0,arguments):"string"==typeof e?[e]:e||[]))).name=t,n}return U(r,n),M(r)}(D(Error));Bt(n,"is",Lt(n));var r=n;return Object.defineProperty(r,"name",{value:t}),r}var Dt=function(t){function e(){return V(this,e),B(this,e,arguments)}return U(e,t),M(e)}(Ut("CancelledError","Promise was canceled")),Gt=function(t){function e(){return V(this,e),B(this,e,arguments)}return U(e,t),M(e)}(function(t,e,n){var r=function(t){function n(){var t;V(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=B(this,n,[].concat(i)),Bt(L(t),"data"),t.data=e.apply(void 0,i),t}return U(n,t),M(n)}(Ut(t,n));Bt(r,"is",Lt(r));var i=r;return Object.defineProperty(i,"name",{value:t}),i}("TimeoutError",function(t){return{timeout:t}},function(t,e){return["Timeout reached: ".concat(t,"ms"),{cause:e}]})),Nt=Symbol("resolved");function Wt(t,e){return t.reject=e.reject,t.resolve=e.resolve,t}var Ht=function(t){function e(t,n){var r,i,o,s,u,a,c;V(this,e),"function"==typeof t?(s=t,u=n||{}):u=t||{};var f=function(){return!!c},l=function(){return!!a},p={},h=[],d=function(){h.forEach(function(t){return t()}),h.splice(0,h.length),p={}},v=new AbortController,_=function(){return l()||f()};return r=B(this,e,[function(t,e){var n=u,r=n.abortOnResolve,b=void 0===r||r,m=n.abortOnReject,g=void 0===m||m;o=function(e){var n,r;_()||(t(e),a=[e],null==(n=p.resolved)||n.forEach(function(t){return t(e)}),null==(r=p.finalized)||r.forEach(function(t){return t({kind:"resolved",result:e})}),d(),b&&v.abort(function(t){return{tag:Nt,value:t}}(e)))},i=function(t){var n,r;_()||(e(t),c=[t],null==(n=p.rejected)||n.forEach(function(e){return e(t)}),null==(r=p.finalized)||r.forEach(function(e){return e({kind:"rejected",reason:t})}),d(),g&&v.abort(t))};var y=u.abortSignal;if(y){if(y.aborted)return i(y.reason);var w=function(){i(y.reason)};y.addEventListener("abort",w,!0),h.push(function(){y.removeEventListener("abort",w,!0)})}var C=u.timeout;if(C){var S=setTimeout(function(){i(new Gt(C))},C);h.push(function(){clearTimeout(S)})}try{var k=function(){},F=s&&s(o,i,{abortSignal:v.signal,get isRejected(){return f()},get isResolved(){return l()},on:function(t,e){if(a||c){if("finalized"===t){var n=a?{kind:"resolved",result:a[0]}:{kind:"rejected",reason:c[0]};e(n)}else"resolved"===t&&a?e(a[0]):"rejected"===t&&c&&e(c[0]);return k}return p[t]||(p[t]=[]),p[t].push(e),function(){var n=p[t]||[],r=n.indexOf(e);r>=0&&n.splice(r,1)}},get result(){return null==a?void 0:a[0]},get rejectReason(){return null==c?void 0:c[0]},throwIfRejected:function(){if(c)throw c[0]}});F instanceof Promise&&F.catch(i)}catch(w){i(w)}}]),Rt(r,"reject"),Rt(r,"resolve"),r.reject=i,r.resolve=o,r}return U(e,t),M(e,[{key:"cancel",value:function(){this.reject(new Dt)}},{key:"catch",value:function(t){return this.then(void 0,t)}},{key:"finally",value:function(t){return Wt(A(e,"finally",this,3)([t]),this)}},{key:"then",value:function(t,n){return Wt(A(e,"then",this,3)([t,n]),this)}}],[{key:"fn",value:function(t,n){return new e(function(){var e=x(k().m(function e(n,r,i){var o,s;return k().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,o=n,e.n=1,t(i);case 1:o(e.v),e.n=3;break;case 2:e.p=2,s=e.v,r(s);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(t,n,r){return e.apply(this,arguments)}}(),n)}},{key:"resolve",value:function(t){return this.fn(function(){return t})}},{key:"reject",value:function(t){return new e(function(e,n){n(t)})}}])}(D(Promise));function zt(t){return t.replace(/[A-Z]/g,function(t){return"-".concat(t.toLowerCase())})}function $t(t){var e=function(t){return Object.entries(t).reduce(function(t,e){var n=z(e,2),r=n[0],i=n[1];return t[function(t){return t.replace(/_[a-z]/g,function(t){return t[1].toUpperCase()})}(r)]=i,t},{})}(t);for(var n in e){var r=e[n];r&&"object"==J(r)&&!(r instanceof Date)&&(e[n]=Array.isArray(r)?r.map($t):$t(r))}return e}function Kt(t){return"tapps/".concat(t)}function Jt(t,e){sessionStorage.setItem(Kt(t),JSON.stringify(e))}function Zt(t){var e=sessionStorage.getItem(Kt(t));try{return e?JSON.parse(e):void 0}catch(n){}}function Qt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.flat(1);return[r.push.bind(r),function(){r.forEach(function(t){t()})}]}function Yt(t,e,n,r,i,o,s,u,a){switch(arguments.length){case 1:return t;case 2:return function(){return e(t.apply(this,arguments))};case 3:return function(){return n(e(t.apply(this,arguments)))};case 4:return function(){return r(n(e(t.apply(this,arguments))))};case 5:return function(){return i(r(n(e(t.apply(this,arguments)))))};case 6:return function(){return o(i(r(n(e(t.apply(this,arguments))))))};case 7:return function(){return s(o(i(r(n(e(t.apply(this,arguments)))))))};case 8:return function(){return u(s(o(i(r(n(e(t.apply(this,arguments))))))))};case 9:return function(){return a(u(s(o(i(r(n(e(t.apply(this,arguments)))))))))}}}function Xt(t,e,n,r,i,o,s,u,a){switch(arguments.length){case 1:return t;case 2:return e(t);case 3:return n(e(t));case 4:return r(n(e(t)));case 5:return i(r(n(e(t))));case 6:return o(i(r(n(e(t)))));case 7:return s(o(i(r(n(e(t))))));case 8:return u(s(o(i(r(n(e(t)))))));case 9:return a(u(s(o(i(r(n(e(t))))))));default:for(var c=arguments[0],f=1;f<arguments.length;f++)c=arguments[f](c);return c}}var te=function(t,e){return function(){var n=Array.from(arguments);return function(e){return e.length>=t}(arguments)?e.apply(this,n):function(t){return e.apply(void 0,function(t,e,n){if(2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)(r||!(i in e))&&(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}([t],n,!1))}}},ee=function(t){return{_tag:"Left",left:t}},ne=function(t){return{_tag:"Right",right:t}},re=ee,ie=ne,oe=function(t){return"Left"===t._tag},se=function(t,e){return function(n){return oe(n)?t(n.left):e(n.right)}};function ue(t){return Yt(ie,t.of)}function ae(t){return Yt(re,t.of)}function ce(t){return function(e,n){return function(r){return t.map(r,se(e,n))}}}var fe=function(t,e){return Xt(t,le(e))},le=function(t){return function(e){return function(){return Promise.resolve().then(e).then(t)}}},pe=function(t){return function(e){return function(){return Promise.all([Promise.resolve().then(e),Promise.resolve().then(t)]).then(function(t){return(0,t[0])(t[1])})}}},he=function(t){return function(){return Promise.resolve(t)}},de=te(2,function(t,e){return function(){return Promise.resolve().then(t).then(function(t){return e(t)()})}}),ve="Task",_e={URI:ve,map:fe},be={of:he},me={URI:ve,map:fe,of:he,ap:function(t,e){return Xt(t,pe(e))},chain:de},ge=function(t,e,n,r){return new(n||(n=Promise))(function(e,i){function o(t){try{u(r.next(t))}catch(rn){i(rn)}}function s(t){try{u(r.throw(t))}catch(rn){i(rn)}}function u(t){t.done?e(t.value):function(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(o,s)}u((r=r.apply(t,[])).next())})},ye=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,r=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){s=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){s.label=u[1];break}if(6===u[0]&&s.label<i[1]){s.label=i[1],i=u;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(u);break}i[2]&&s.ops.pop(),s.trys.pop();continue}u=e.call(t,s)}catch(a){u=[6,a],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},we=ae(be),Ce=ue(be),Se=he,ke=ce(_e),Fe=ke,Ee=te(2,function(t){return function(e,n){return t.chain(e,function(e){return oe(e)?t.of(e):n(e.right)})}}(me)),xe=Ee;function Ae(t){var e=function(t){throw t};return"function"==typeof t?Ht.resolve(Xt(t,ke(e,function(t){return t}))()):Xt(t,se(e,function(t){return t}))}function Oe(t){return Object.assign(function(){return Ae(t.apply(void 0,arguments))},t)}var je=Object.assign(function(t,e){return Xt(function(t,e){return function(){return ge(void 0,0,void 0,function(){var n;return ye(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t().then(ne)];case 1:return[2,r.sent()];case 2:return n=r.sent(),[2,ee(e(n))];case 3:return[2]}})})}}(function(){return new Ht(function(e,n,r){return t(function(t){return e(ie(t))},function(t){return e(re(t))},r)},e)},function(t){return t}),xe(se(we,Ce)))},{fn:function(t,e){return je(function(e,n,r){var i=t(r);Xt("function"==typeof i?i:Se(i),Fe(n,e))()},e)}});var Pe=function(t){return{_tag:"Left",left:t}},qe=function(t){return{_tag:"Right",right:t}},Te=function(t){return"Left"===t._tag},Ie=function(t,e){try{return qe(t())}catch(mn){return Pe(e(mn))}};function Me(t){return Tt(At(),function(t){return Tt(At(),pt(function(t){try{return JSON.parse(t),!0}catch(e){return!1}},"Input is not a valid JSON value"),dt(JSON.parse),t)}(t))}function Re(t){return Tt(jt([At(),Ct(URLSearchParams)]),function(t){var e=function(e){var n={};return new URLSearchParams(e).forEach(function(t,e){var r=n[e];Array.isArray(r)?r.push(t):n[e]=void 0===r?t:[r,t]}),qt(t,n)};return Tt(jt([At(),Ct(URLSearchParams)]),pt(function(t){try{return e(t),!0}catch(n){return!1}},"The value doesn't match required schema"),dt(e))}(t))}function Ve(t){return function(e){return t.test(e)}}var Be=Ve(/^#[\da-f]{3}$/i),Le=Ve(/^#[\da-f]{4}$/i),Ue=Ve(/^#[\da-f]{6}$/i),De=Ve(/^#[\da-f]{8}$/i);function Ge(t){return[Ue,De,Be,Le].some(function(e){return e(t)})}function Ne(t){for(var e="#",n=0;n<t.length-1;n+=1)e+=t[1+n].repeat(2);return e}function We(t){var e=t.replace(/\s/g,"").toLowerCase();if(/^#[\da-f]{3}$/i.test(e))return qe(Ne(e.toLowerCase()+"f"));if(/^#[\da-f]{4}$/i.test(e))return qe(Ne(e.toLowerCase()));if(/^#[\da-f]{6}$/i.test(e))return qe(e.toLowerCase()+"ff");if(/^#[\da-f]{8}$/i.test(e))return qe(e.toLowerCase());var n=e.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||e.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(\d{1,3})\)$/);return n?qe(n.slice(1).reduce(function(t,e){return t+parseInt(e,10).toString(16).padStart(2,"0")},"#").padEnd(9,"f")):Pe(new Error('Value "'.concat(t,'" does not satisfy any of known RGB formats.')))}function He(){return St({added_to_attachment_menu:Et(gt()),allows_write_to_pm:Et(gt()),first_name:At(),id:Ft(),is_bot:Et(gt()),is_premium:Et(gt()),last_name:Et(At()),language_code:Et(At()),photo_url:Et(At()),username:Et(At())})}function ze(){return Re(St({auth_date:Tt(At(),dt(function(t){return new Date(1e3*Number(t))}),yt()),can_send_after:Et(Tt(At(),dt(Number),ht())),chat:Et(Me(St({id:Ft(),photo_url:Et(At()),type:At(),title:At(),username:Et(At())}))),chat_type:Et(At()),chat_instance:Et(At()),hash:At(),query_id:Et(At()),receiver:Et(Me(He())),start_param:Et(At()),signature:At(),user:Et(Me(He()))}))}function $e(){return xt(At(),Tt(jt([At(),Ft()]),dt(function(t){return"number"==typeof t?"#".concat((16777215&t).toString(16).padStart(6,"0")):t}),pt(Ge)))}function Ke(){return Re(function(){var t=Et(Tt(At(),dt(function(t){return"1"===t})));return St({tgWebAppBotInline:t,tgWebAppData:Et(ze()),tgWebAppDefaultColors:Et(Me($e())),tgWebAppFullscreen:t,tgWebAppPlatform:At(),tgWebAppShowSettings:t,tgWebAppStartParam:Et(At()),tgWebAppThemeParams:Me($e()),tgWebAppVersion:At()})}())}function Je(t){return Ie(function(){return qt(Ke(),t)},function(t){return t})}Oe(function(t){return function(t,e,n,r,i,o,s,u,a){switch(arguments.length){case 1:return t;case 2:return e(t);case 3:return n(e(t));case 4:return r(n(e(t)));case 5:return i(r(n(e(t))));case 6:return o(i(r(n(e(t)))));case 7:return s(o(i(r(n(e(t))))));case 8:return u(s(o(i(r(n(e(t)))))));case 9:return a(u(s(o(i(r(n(e(t))))))));default:for(var c=arguments[0],f=1;f<arguments.length;f++)c=arguments[f](c);return c}}(We(t),function(t){return function(e){return Te(e)?e:qe(t(e.right))}}(function(t){return t.slice(0,7)}))}),Oe(We),Oe(function(t){return Ie(function(){return qt(ze(),t)},function(t){return t})}),Oe(Je);var Ze=Object.defineProperty,Qe=function(t,e,n){return function(t,e,n){return e in t?Ze(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n}(t,"symbol"!=J(e)?e+"":e,n)};function Ye(t){return function(e){return e instanceof t}}function Xe(t,e){var n=function(n){function r(){var n;return V(this,r),(n=B(this,r,H("function"==typeof e?e.apply(void 0,arguments):"string"==typeof e?[e]:e||[]))).name=t,n}return U(r,n),M(r)}(D(Error));Qe(n,"is",Ye(n));var r=n;return Object.defineProperty(r,"name",{value:t}),r}function tn(t,e,n){var r=function(t){function n(){var t;V(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=B(this,n,[].concat(i)),Qe(t,"data"),t.data=e.apply(void 0,i),t}return U(n,t),M(n)}(Xe(t,n));Qe(r,"is",Ye(r));var i=r;return Object.defineProperty(i,"name",{value:t}),i}function en(t){return bt(St({TelegramWebviewProxy:St({postEvent:wt()})}),t)}function nn(t,e,n,r,i,o,s,u,a){switch(arguments.length){case 1:return t;case 2:return function(){return e(t.apply(this,arguments))};case 3:return function(){return n(e(t.apply(this,arguments)))};case 4:return function(){return r(n(e(t.apply(this,arguments))))};case 5:return function(){return i(r(n(e(t.apply(this,arguments)))))};case 6:return function(){return o(i(r(n(e(t.apply(this,arguments))))))};case 7:return function(){return s(o(i(r(n(e(t.apply(this,arguments)))))))};case 8:return function(){return u(s(o(i(r(n(e(t.apply(this,arguments))))))))};case 9:return function(){return a(u(s(o(i(r(n(e(t.apply(this,arguments)))))))))}}}function rn(t,e,n,r,i,o,s,u,a){switch(arguments.length){case 1:return t;case 2:return e(t);case 3:return n(e(t));case 4:return r(n(e(t)));case 5:return i(r(n(e(t))));case 6:return o(i(r(n(e(t)))));case 7:return s(o(i(r(n(e(t))))));case 8:return u(s(o(i(r(n(e(t)))))));case 9:return a(u(s(o(i(r(n(e(t))))))));default:for(var c=arguments[0],f=1;f<arguments.length;f++)c=arguments[f](c);return c}}var on=function(t,e){var n="number"==typeof t?function(e){return e.length>=t}:t;return function(){var t=Array.from(arguments);return n(arguments)?e.apply(this,t):function(n){return e.apply(void 0,function(t,e,n){if(2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)(r||!(i in e))&&(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}([n],t,!1))}}},sn=function(t){return{_tag:"Left",left:t}},un=function(t){return{_tag:"Right",right:t}},an=on(2,function(t,e){return cn(t)?t:e(t.right)}),cn=function(t){return"Left"===t._tag},fn=function(t,e){return function(n){return cn(n)?t(n.left):e(n.right)}},ln=fn,pn=fn,hn=an,dn={_tag:"None"},vn=function(t){return{_tag:"Some",value:t}};function _n(t){return nn(un,t.of)}function bn(t){return nn(sn,t.of)}var mn,gn=function(t,e){return rn(t,yn(e))},yn=function(t){return function(e){return function(){return Promise.resolve().then(e).then(t)}}},wn=function(t){return function(e){return function(){return Promise.all([Promise.resolve().then(e),Promise.resolve().then(t)]).then(function(t){return(0,t[0])(t[1])})}}},Cn=function(t){return function(){return Promise.resolve(t)}},Sn=on(2,function(t,e){return function(){return Promise.resolve().then(t).then(function(t){return e(t)()})}}),kn="Task",Fn={URI:kn,map:gn},En={of:Cn},xn={URI:kn,map:gn,of:Cn,ap:function(t,e){return rn(t,wn(e))},chain:Sn},An=bn(En),On=_n(En),jn=on(3,(mn=Fn,function(t,e,n){return mn.map(t,function(t,e){return function(n){return cn(n)?sn(t(n.left)):un(e(n.right))}}(e,n))})),Pn=on(2,function(t){return function(e,n){return t.chain(e,function(e){return cn(e)?t.of(e):n(e.right)})}}(xn)),qn=Pn,Tn=Pn,In=(Xe("MethodUnsupportedError",function(t,e){return['Method "'.concat(t,'" is unsupported in Mini Apps version ').concat(e)]}),Xe("MethodParameterUnsupportedError",function(t,e,n){return['Parameter "'.concat(e,'" of "').concat(t,'" method is unsupported in Mini Apps version ').concat(n)]}),function(t){function e(){return V(this,e),B(this,e,arguments)}return U(e,t),M(e)}(tn("LaunchParamsRetrieveError",function(t){return{errors:t}},function(t){return[["Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?","ðŸ“– Refer to docs for more information:","https://docs.telegram-mini-apps.com/packages/tma-js-bridge/environment","","Collected errors:"].concat(H(t.map(function(t){var e=t.source,n=t.error;return"Source: ".concat(e," / ").concat(n instanceof Error?n.message:String(n))}))).join("\n")]}))),Mn=(Xe("InvalidLaunchParamsError",function(t,e){return["Invalid value for launch params: ".concat(t),{cause:e}]}),function(t){function e(){return V(this,e),B(this,e,arguments)}return U(e,t),M(e)}(Xe("UnknownEnvError"))),Rn=function(t){function e(){return V(this,e),B(this,e,arguments)}return U(e,t),M(e)}(Xe("InvokeCustomMethodError",function(t){return["Server returned error: ".concat(t)]})),Vn="launchParams";function Bn(t){return t.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&")}var Ln=nn(Gn,hn(Je)),Un=Oe(Ln),Dn=nn(Gn,function(t){return function(e){return cn(e)?e:un(t(e.right))}}(function(t){var e=new URLSearchParams(t).get("tgWebAppData");return e?vn(e):dn}));function Gn(){for(var t=[],e=0,n=[[function(){return Bn(window.location.href)},"window.location.href"],[function(){var t=performance.getEntriesByType("navigation")[0];return t&&Bn(t.name)},"performance navigation entries"],[function(){return Zt(Vn)},"local storage"]];e<n.length;e++){var r=z(n[e],2),i=r[0],o=r[1],s=i();if(s){var u=rn(Je(s),ln(function(t){return t},function(){return!0}));if("boolean"==typeof u)return Jt(Vn,s),un(s);t.push({source:o,error:u})}else t.push({source:o,error:new Error("Source is empty")})}return sn(new In(t))}function Nn(t,e){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:t,eventData:e}),source:window.parent}))}function Wn(t,e,n){var r=[n],i=t[e];"function"==typeof i&&r.push(i);var o=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];r.forEach(function(t){return t.apply(void 0,e)})},s=Object.assign(function(){o.apply(void 0,arguments)},{unwrap:function(){var n=r.length;1!==n?2!==n?(r.unshift(1),$n(t,e,o)):$n(t,e,r[1]):delete t[e]}});zn(t,e,function(){return s},function(t){return r.push(t)})}function Hn(t,e){var n=t[e];zn(t,e,function(){return n},function(t){Object.entries(t).forEach(function(t){var e=z(t,2),r=e[0],i=e[1];n[r]=i})})}function zn(t,e,n,r){Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:n,set:r})}function $n(t,e,n){Object.defineProperty(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n})}Oe(Gn);var Kn={clipboard_text_received:St({req_id:At(),data:kt(At())}),custom_method_invoked:St({req_id:At(),result:Et(Pt()),error:Et(At())}),popup_closed:kt(St({button_id:kt(At(),function(){})}),{}),viewport_changed:kt(St({height:Ft(),width:kt(Ft(),function(){return window.innerWidth}),is_state_stable:gt(),is_expanded:gt()}),function(){return{height:window.innerHeight,is_state_stable:!0,is_expanded:!0}}),theme_changed:St({theme_params:$e()})};function Jn(t){if(t.source===window.parent){var e;try{e=qt(Me(St({eventType:At(),eventData:Et(Pt())})),t.data)}catch(u){return}var n,r=e,i=r.eventType,o=r.eventData,s=Kn[i];try{n=s?qt(s,o):o}catch(ni){return or().forceError(['An error occurred processing the "'.concat(i,'" event from the Telegram application.'),"Please, file an issue here:","https://github.com/Telegram-Mini-Apps/tma.js/issues/new/choose"].join("\n"),e,ni)}Xn(i,n)}}var Zn=function(t,e){var n=new Map,r=function(t){return{all:t=t||new Map,on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(t){t(n)}),(r=t.get("*"))&&r.slice().map(function(t){t(e,n)})}}}(),i=function(t,i){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=n.get(t)||new Map;n.set(t,s);var u=s.get(i)||[];s.set(i,u);var a=u.findIndex(function(t){return t[1]===o});if(a>=0&&(r.off(t,u[a][0]),u.splice(a,1),!u.length&&(s.delete(i),!s.size))){var c=n.size;n.delete(t),c&&!n.size&&e()}};return{on:function(e,o,s){!n.size&&t();var u=function(){i(e,o,s)},a=function(){s&&u(),"*"===e?o({name:arguments.length<=0?void 0:arguments[0],payload:arguments.length<=1?void 0:arguments[1]}):o.apply(void 0,arguments)};r.on(e,a);var c=n.get(e)||new Map;n.set(e,c);var f=c.get(o)||[];return c.set(o,f),f.push([a,s||!1]),u},off:i,emit:r.emit,clear:function(){var t=n.size;r.all.clear(),n.clear(),t&&e()}}}(function(){var t=window;!t.TelegramGameProxy&&(t.TelegramGameProxy={}),Wn(t.TelegramGameProxy,"receiveEvent",Nn),Hn(t,"TelegramGameProxy"),!t.Telegram&&(t.Telegram={}),!t.Telegram.WebView&&(t.Telegram.WebView={}),Wn(t.Telegram.WebView,"receiveEvent",Nn),Hn(t.Telegram,"WebView"),Wn(t,"TelegramGameProxy_receiveEvent",Nn),window.addEventListener("message",Jn)},function(){[["TelegramGameProxy_receiveEvent"],["TelegramGameProxy","receiveEvent"],["Telegram","WebView","receiveEvent"]].forEach(function(t){var e,n=window,r=[void 0,n],i=T(t);try{for(i.s();!(e=i.n()).done;){var o=e.value;if(!(r=[r[1],r[1][o]])[1])return}}catch(c){i.e(c)}finally{i.f()}var s=z(r,2),u=s[0],a=s[1];"unwrap"in a&&(a.unwrap(),u&&u!==n&&!Object.keys(u).length&&delete n[t[0]])}),window.removeEventListener("message",Jn)}),Qn=Zn.on,Yn=Zn.off,Xn=Zn.emit,tr=it(!1),er=it("https://web.telegram.org"),nr=st(tr),rr=st(er),ir=it(function(){var t;(t=window.parent).postMessage.apply(t,arguments)}),or=it(function(t,e){e||(e={});var n=e,r=n.textColor,i=n.bgColor,o=n.shouldLog,s=void 0===o||o,u="boolean"==typeof s?function(){return s}:s,a=function(e,n){if(n||u()){for(var o,s="font-weight:bold;padding:0 5px;border-radius:100px",a=z({log:["#0089c3","white","INFO"],error:["#ff0000F0","white","ERR"],warn:["#D38E15","white","WARN"]}[e],3),c=a[0],f=a[1],l=a[2],p=arguments.length,h=new Array(p>2?p-2:0),d=2;d<p;d++)h[d-2]=arguments[d];(o=console)[e].apply(o,["%c".concat(l," ").concat(Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date),"%c %c").concat(t),"".concat(s,";background-color:").concat(c,";color:").concat(f),"","".concat(s,";").concat(r?"color:".concat(r,";"):"").concat(i?"background-color:".concat(i):"")].concat(h))}};return[["log","forceLog"],["warn","forceWarn"],["error","forceError"]].reduce(function(t,e){var n=z(e,2),r=n[0],i=n[1];return t[r]=a.bind(void 0,r,!1),t[i]=a.bind(void 0,r,!0),t},{})}("Bridge",{bgColor:"#9147ff",textColor:"white",shouldLog:nr}));function sr(t,e){or().log("Posting event:",e?{eventType:t,eventData:e}:{eventType:t});var n=window,r=JSON.stringify({eventType:t,eventData:e});return function(){try{return window.self!==window.top}catch(t){return!0}}()?(function(){ir().apply(void 0,arguments)}(r,rr()),un(void 0)):en(n)?(n.TelegramWebviewProxy.postEvent(t,JSON.stringify(e)),un(void 0)):bt(St({external:St({notify:wt()})}),n)?(n.external.notify(r),un(void 0)):sn(new Mn)}function ur(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.capture,i=void 0===r?function(){return!0}:r,o=n.postEvent,s=void 0===o?sr:o,u=it(),a=z(Qt(),2),c=a[0],f=a[1];(Array.isArray(e)?e:[e]).forEach(function(t){c(Qn(t,function(n){(Array.isArray(e)?i({event:t,payload:n}):i(n))&&u.set([n])}))});var l=function(t){return f(),t};return rn(x(k().m(function e(){return k().w(function(e){for(;;)if(0===e.n)return e.a(2,s(t,n.params))},e)})),Tn(function(){return je(function(t,e,n){var r=u();if(r)return t(r[0]);var i=function(e){e&&t(e[0])};u.sub(i),n.on("finalized",function(){u.unsub(i)})},n)}),jn(l,l))}function ar(t){return function(e){return e.req_id===t}}function cr(t){return t.split(".").map(Number)}var fr={"6.0":["iframe_ready","iframe_will_reload","web_app_close","web_app_data_send","web_app_expand","web_app_open_link","web_app_ready","web_app_request_theme","web_app_request_viewport","web_app_setup_main_button","web_app_setup_closing_behavior"],6.1:["web_app_open_tg_link","web_app_open_invoice","web_app_setup_back_button","web_app_set_background_color","web_app_set_header_color","web_app_trigger_haptic_feedback"],6.2:["web_app_open_popup"],6.4:["web_app_close_scan_qr_popup","web_app_open_scan_qr_popup","web_app_read_text_from_clipboard",{method:"web_app_open_link",param:"try_instant_view"}],6.7:["web_app_switch_inline_query"],6.9:["web_app_invoke_custom_method","web_app_request_write_access","web_app_request_phone",{method:"web_app_set_header_color",param:"color"}],"6.10":["web_app_setup_settings_button"],7.2:["web_app_biometry_get_info","web_app_biometry_open_settings","web_app_biometry_request_access","web_app_biometry_request_auth","web_app_biometry_update_token"],7.6:[{method:"web_app_open_link",param:"try_browser"},{method:"web_app_close",param:"return_back"}],7.7:["web_app_setup_swipe_behavior"],7.8:["web_app_share_to_story"],"7.10":["web_app_setup_secondary_button","web_app_set_bottom_bar_color",{method:"web_app_setup_main_button",param:"has_shine_effect"}],"8.0":["web_app_request_safe_area","web_app_request_content_safe_area","web_app_request_fullscreen","web_app_exit_fullscreen","web_app_set_emoji_status","web_app_add_to_home_screen","web_app_check_home_screen","web_app_request_emoji_status_access","web_app_check_location","web_app_open_location_settings","web_app_request_file_download","web_app_request_location","web_app_send_prepared_message","web_app_start_accelerometer","web_app_start_device_orientation","web_app_start_gyroscope","web_app_stop_accelerometer","web_app_stop_device_orientation","web_app_stop_gyroscope","web_app_toggle_orientation_lock"],"9.0":["web_app_device_storage_clear","web_app_device_storage_get_key","web_app_device_storage_save_key","web_app_secure_storage_clear","web_app_secure_storage_get_key","web_app_secure_storage_restore_key","web_app_secure_storage_save_key"],9.1:["web_app_hide_keyboard"]};function lr(t,e){return Object.keys(fr).find(function(n){return fr[n].some(function(n){return e?"object"==J(n)&&n.method===t&&n.param===e:n===t})})||null}function pr(t,e,n){var r=n?lr(t,e):lr(t);return!!r&&function(t,e){for(var n=cr(t),r=cr(e),i=Math.max(n.length,r.length),o=0;o<i;o+=1){var s=n[o]||0,u=r[o]||0;if(s!==u)return s>u?1:-1}return 0}(r,n||e)<=0}Oe(function(t){return function(t,e){try{return un(t())}catch(K){return sn(e(K))}}(function(){return decodeURIComponent(atob(t).replace(/-/g,"+").replace(/_/g,"/").split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""))},function(t){return t})}),Oe(function(t){var e=function(t){return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,function(t,e){return String.fromCharCode(parseInt("0x".concat(e)))})).replace(/\+/g,"-").replace(/\//g,"_")}("string"==typeof t?t:JSON.stringify(t));return e.length>512?sn(new Error("Value is too long for start parameter")):un(e)});var hr=Object.defineProperty,dr=function(t,e,n){return function(t,e,n){return e in t?hr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n}(t,"symbol"!=J(e)?e+"":e,n)};function vr(t,e,n,r,i,o,s,u,a){switch(arguments.length){case 1:return t;case 2:return function(){return e(t.apply(this,arguments))};case 3:return function(){return n(e(t.apply(this,arguments)))};case 4:return function(){return r(n(e(t.apply(this,arguments))))};case 5:return function(){return i(r(n(e(t.apply(this,arguments)))))};case 6:return function(){return o(i(r(n(e(t.apply(this,arguments))))))};case 7:return function(){return s(o(i(r(n(e(t.apply(this,arguments)))))))};case 8:return function(){return u(s(o(i(r(n(e(t.apply(this,arguments))))))))};case 9:return function(){return a(u(s(o(i(r(n(e(t.apply(this,arguments)))))))))}}}function _r(t,e,n,r,i,o,s,u,a){switch(arguments.length){case 1:return t;case 2:return e(t);case 3:return n(e(t));case 4:return r(n(e(t)));case 5:return i(r(n(e(t))));case 6:return o(i(r(n(e(t)))));case 7:return s(o(i(r(n(e(t))))));case 8:return u(s(o(i(r(n(e(t)))))));case 9:return a(u(s(o(i(r(n(e(t))))))));default:for(var c=arguments[0],f=1;f<arguments.length;f++)c=arguments[f](c);return c}}var br=function(t,e){var n="number"==typeof t?function(e){return e.length>=t}:t;return function(){var t=Array.from(arguments);return n(arguments)?e.apply(this,t):function(n){return e.apply(void 0,function(t,e,n){if(2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)(r||!(i in e))&&(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}([n],t,!1))}}},mr=function(t){return{_tag:"Left",left:t}},gr=function(t){return{_tag:"Right",right:t}},yr={};function wr(t){return function(e,n){return function(r){return t.chain(r,function(r){return t.map(n(r),function(t){var n;return Object.assign({},r,((n={})[e]=t,n))})})}}}var Cr=mr,Sr=gr,kr=br(2,function(t,e){return Tr(t)?t:e(t.right)}),Fr=function(t,e){return _r(t,Ar(e))},Er=function(t,e){return _r(t,jr(e))},xr="Either",Ar=function(t){return function(e){return Tr(e)?e:Sr(t(e.right))}},Or={URI:xr,map:Fr},jr=function(t){return function(e){return Tr(e)?e:Tr(t)?t:Sr(e.right(t.right))}},Pr={URI:xr,map:Fr,ap:Er},qr={URI:xr,map:Fr,ap:Er,chain:kr},Tr=function(t){return"Left"===t._tag},Ir=function(t,e){return function(n){return Tr(n)?t(n.left):e(n.right)}},Mr=Ir,Rr=Sr(yr),Vr=wr(qr);function Br(t){return"function"==typeof t?t():t}function Lr(t,e){return st(function(){return pr(t,Br(e))})}var Ur={_tag:"None"},Dr=function(t){return{_tag:"Some",value:t}},Gr=function(t){return function(e){return $r(e)?Ur:Dr(t(e.value))}},Nr=Dr,Wr=function(t){return function(e){return $r(e)||$r(t)?Ur:Dr(e.value(t.value))}},Hr=br(2,function(t,e){return $r(t)?Ur:e(t.value)}),zr={URI:"Option",map:function(t,e){return _r(t,Gr(e))},ap:function(t,e){return _r(t,Wr(e))},chain:Hr},$r=function(t){return"None"===t._tag},Kr=function(t,e){return function(n){return $r(n)?t():e(n.value)}},Jr=Nr(yr),Zr=wr(zr);function Qr(t){return vr(Sr,t.of)}function Yr(t){return vr(Cr,t.of)}function Xr(t){return function(t,e){return function(n){return function(r){return t.map(r,function(t){return e.map(t,n)})}}}(t,Or)}function ti(t){return function(t,e){return function(n){return function(r){return t.ap(t.map(r,function(t){return function(n){return e.ap(t,n)}}),n)}}}(t,Pr)}function ei(t){return function(e,n){return function(r){return t.map(r,Mr(e,n))}}}var ni,ri=function(t,e){return _r(t,oi(e))},ii=function(t,e){return _r(t,si(e))},oi=function(t){return function(e){return function(){return Promise.resolve().then(e).then(t)}}},si=function(t){return function(e){return function(){return Promise.all([Promise.resolve().then(e),Promise.resolve().then(t)]).then(function(t){return(0,t[0])(t[1])})}}},ui=function(t){return function(){return Promise.resolve(t)}},ai=br(2,function(t,e){return function(){return Promise.resolve().then(t).then(function(t){return e(t)()})}}),ci="Task",fi={URI:ci,map:ri},li={of:ui},pi={URI:ci,map:ri,ap:ii},hi={URI:ci,map:ri,of:ui,ap:ii,chain:ai},di=function(t,e,n,r){return new(n||(n=Promise))(function(e,i){function o(t){try{u(r.next(t))}catch(un){i(un)}}function s(t){try{u(r.throw(t))}catch(un){i(un)}}function u(t){t.done?e(t.value):function(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(o,s)}u((r=r.apply(t,[])).next())})},vi=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(u){return function(a){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&u[0]?r.return:u[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,u[1])).done)return i;switch(r=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return s.label++,{value:u[1],done:!1};case 5:s.label++,r=u[1],u=[0];continue;case 7:u=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===u[0]||2===u[0])){s=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){s.label=u[1];break}if(6===u[0]&&s.label<i[1]){s.label=i[1],i=u;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(u);break}i[2]&&s.ops.pop(),s.trys.pop();continue}u=e.call(t,s)}catch(a){u=[6,a],r=0}finally{n=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,a])}}},_i=Yr(li),bi=Qr(li),mi=ui,gi=ei(fi),yi=Xr(fi),wi=br(3,(ni=fi,function(t,e,n){return ni.map(t,function(t,e){return function(n){return Tr(n)?Cr(t(n.left)):Sr(e(n.right))}}(e,n))})),Ci=ti(pi),Si=br(2,function(t){return function(e,n){return t.chain(e,function(e){return Tr(e)?t.of(e):n(e.right)})}}(hi)),ki={URI:"TaskEither",map:function(t,e){return _r(t,yi(e))},ap:function(t,e){return _r(t,Ci(e))},chain:Si},Fi=bi(yr),Ei=wr(ki),xi=Si,Ai=Si;function Oi(t){return[t]}var ji=function(t){function e(){return V(this,e),B(this,e,arguments)}return U(e,t),M(e)}(tn("ValidationError",function(t,e){return{input:t,issues:e}},"Validation error")),Pi=function(t){function e(){return V(this,e),B(this,e,arguments)}return U(e,t),M(e)}(Xe("CSSVarsBoundError","CSS variables are already bound")),qi=function(t){function e(){return V(this,e),B(this,e,arguments)}return U(e,t),M(e)}(Xe("NotAvailableError",Oi)),Ti=(Xe("InvalidEnvError",Oi),function(t){function e(){return V(this,e),B(this,e,arguments)}return U(e,t),M(e)}(Xe("FunctionNotAvailableError",Oi))),Ii=function(t){function e(){return V(this,e),B(this,e,arguments)}return U(e,t),M(e)}(Xe("InvalidArgumentsError",function(t,e){return[t,{cause:e}]})),Mi=function(t){function e(){return V(this,e),B(this,e,arguments)}return U(e,t),M(e)}(Xe("ConcurrentCallError",Oi)),Ri=function(t){function e(){return V(this,e),B(this,e,arguments)}return U(e,t),M(e)}(Xe("SetEmojiStatusError",function(t){return["Failed to set emoji status: ".concat(t)]})),Vi=function(t){function e(){return V(this,e),B(this,e,arguments)}return U(e,t),M(e)}(Xe("AccessDeniedError",Oi)),Bi=function(t){function e(){return V(this,e),B(this,e,arguments)}return U(e,t),M(e)}(Xe("FullscreenFailedError",Oi)),Li=function(t){function e(){return V(this,e),B(this,e,arguments)}return U(e,t),M(e)}(Xe("ShareMessageError",Oi)),Ui=function(t){function e(){return V(this,e),B(this,e,arguments)}return U(e,t),M(e)}(Xe("UnknownThemeParamsKeyError",function(t){return["Unknown theme params key passed: ".concat(t)]}));function Di(t,e){var n=st(function(){return Br(e.version)||"100"}),r=st(function(){return Br(e.isTma)}),i=e.requires,o=e.returns,s=i?"object"==J(i)?i:{every:[i]}:void 0,u=function(t){if(!e.supports)return!0;var r=e.supports[t];return pr(r.method,r.param,n())},a=function(){if(s)for(var t=(z("every"in s?["every",s.every]:["some",s.some],2)),e=t[0],r=t[1],i=0;i<r.length;i++){var o=r[i],u="function"==typeof o?o():pr(o,n())?void 0:"it is unsupported in Mini Apps version ".concat(n());if(u&&("every"===e||i===r.length-1))return u}},c=function(){for(var t in e.supports){var r;if((r=e.supports[t]).shouldCheck.apply(r,arguments)&&!u(t))return"option ".concat(t," is not supported in Mini Apps version ").concat(n())}},f=st(function(){return!a()}),l=st(function(){return"0.0"!==n()}),p=st(function(){return!e.isMounted||e.isMounted()}),h=st(function(){return r()&&l()&&f()&&p()}),d=function(t){var n=new Ti(t);return["task","promise"].includes(e.returns)?_i(n):Cr(n)},v=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return"plain"===o?function(t,e){try{return Sr(t())}catch(n){return Cr(e(n))}}(function(){return t.apply(void 0,r)},function(t){return t}):"promise"===o?function(t,e){return function(){return di(void 0,0,void 0,function(){var n;return vi(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,t().then(gr)];case 1:return[2,r.sent()];case 2:return n=r.sent(),[2,mr(e(n))];case 3:return[2]}})})}}(function(){return t.apply(void 0,r)},function(t){return t}):t.apply(void 0,r)};return Object.assign(function(){var t,n="Unable to call function:";if(!r())return d("".concat(n," it can't be called outside Mini Apps"));if(!l())return d("".concat(n," the SDK was not initialized. Use the SDK init() function"));var i=a();if(i)return d("".concat(n," ").concat(i));var o=c.apply(void 0,arguments);if(o)return d("".concat(n," ").concat(o));if(!p()){var s=null!=(t=e.isMounting)&&t.call(e)?"mounting. Wait for the mount completion":"unmounted. Use the mount() method";return d("".concat(n," the component is ").concat(s))}return v.apply(void 0,arguments)},t,{isAvailable:h,ifAvailable:function(){return h()?Dr(v.apply(void 0,arguments)):Ur}},s?{isSupported:f}:{},e.supports?{supports:u}:{})}function Gi(t){return function(e){return Di(e,t)}}function Ni(t){return Object.assign(Oe(t),{ifAvailable:function(){return _r(t.ifAvailable.apply(t,arguments),Kr(function(){return{ok:!1}},function(t){return{ok:!0,data:Ae(t)}}))}})}function Wi(t){var e={};for(var n in t){var r=t[n];void 0!==r&&(e[n]=r)}return e}function Hi(t,e){var n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every(function(n){return Object.prototype.hasOwnProperty.call(e,n)&&t[n]===e[n]})}var zi=function(){return M(function t(e){var n=this,r=e.initialState,i=e.onChange;V(this,t),dr(this,"_state"),dr(this,"state"),dr(this,"setState",function(t){var e=P(P({},n.state()),Wi(t));Hi(e,n.state())||n._state.set(e)}),this._state=it(r,{equals:Hi}),this.state=st(this._state),this.state.sub(i)},[{key:"getter",value:function(t){var e=this;return st(function(){return e._state()[t]})}},{key:"hasDiff",value:function(t){return!Hi(P(P({},this.state()),Wi(t)),this.state())}}])}(),$i=M(function t(e){var n=this,r=e.onMounted,i=e.restoreState,o=e.initialState,s=e.onUnmounted,u=e.isPageReload;V(this,t),dr(this,"_isMounted",it(!1)),dr(this,"isMounted",st(this._isMounted)),dr(this,"mount"),dr(this,"unmount"),this.mount=function(){if(n.isMounted())return Sr(void 0);var t=Br(u)?i():void 0;return _r(t?Sr(t):"function"==typeof o?o():Sr(o),Ar(function(t){rt(function(){n._isMounted.set(!0),null==r||r(t)})}))},this.unmount=function(){n._isMounted()&&rt(function(){n._isMounted.set(!1),null==s||s()})}}),Ki=function(){return M(function t(e){var n=this,r=e.isTma,i=e.storage,o=e.onClick,s=e.offClick,u=e.initialState,a=e.isPageReload,c=e.postEvent,f=e.payload,l=e.method,p=e.version;V(this,t),dr(this,"isMounted"),dr(this,"isSupported"),dr(this,"state"),dr(this,"stateSetters"),dr(this,"stateBoolSetters"),dr(this,"setStateFp"),dr(this,"setState"),dr(this,"onClickFp"),dr(this,"onClick"),dr(this,"offClickFp"),dr(this,"offClick"),dr(this,"mountFp"),dr(this,"mount"),dr(this,"unmount");var h=new zi({initialState:u,onChange:function(t){i.set(t)}}),d=new $i({initialState:u,isPageReload:a,onMounted:h.setState,restoreState:i.get}),v={version:p,requires:l,isTma:r},_=Gi(P(P({},v),{},{returns:"plain"})),b=Gi(P(P({},v),{},{returns:"either",isMounted:d.isMounted}));this.isMounted=d.isMounted,this.isSupported=Lr(l,p),this.state=h.state,this.setStateFp=b(function(t){var e=P(P({},n.state()),Wi(t));return h.hasDiff(e)?_r(c(l,f(e)),Ar(function(){h.setState(e)})):Sr(void 0)}),this.setState=Ni(this.setStateFp),this.onClickFp=_(o),this.onClick=Ni(this.onClickFp),this.offClickFp=_(s),this.offClick=Ni(this.offClickFp),this.mountFp=_(function(){var t=function(){};return _r(d.mount(),Mr(t,t))}),this.mount=Ni(this.mountFp),this.unmount=d.unmount,this.stateSetters=function(t){var e=b(function(e){return n.setStateFp(q({},t,e))});return[Ni(e),e]},this.stateBoolSetters=function(t){var e=z(n.stateSetters(t),2)[1],r=b(function(){return e(!1)}),i=b(function(){return e(!0)});return[[Ni(r),r],[Ni(i),i]]}},[{key:"stateGetter",value:function(t){var e=this;return st(function(){return e.state()[t]})}}])}(),Ji=M(function t(e){var n,r,i;V(this,t),dr(this,"isVisible"),dr(this,"isMounted"),dr(this,"isSupported"),dr(this,"hideFp"),dr(this,"hide"),dr(this,"showFp"),dr(this,"show"),dr(this,"onClickFp"),dr(this,"onClick"),dr(this,"offClickFp"),dr(this,"offClick"),dr(this,"mountFp"),dr(this,"mount"),dr(this,"unmount");var o=new Ki(P(P({},e),{},{method:"web_app_setup_back_button",payload:function(t){return{is_visible:t.isVisible}},initialState:{isVisible:!1}}));this.isVisible=o.stateGetter("isVisible"),this.isMounted=o.isMounted,this.isSupported=o.isSupported,n=z(o.stateBoolSetters("isVisible"),2),r=z(n[0],2),this.hide=r[0],this.hideFp=r[1],i=z(n[1],2),this.show=i[0],this.showFp=i[1],this.onClick=o.onClick,this.onClickFp=o.onClickFp,this.offClick=o.offClick,this.offClickFp=o.offClickFp,this.mount=o.mount,this.mountFp=o.mountFp,this.unmount=o.unmount});function Zi(){return{isTma:st(function(){return en(window)||rn(Gn(),pn(function(){return!1},function(){return!0}))})}}function Qi(t){return{get:function(){return Zt(t)},set:function(e){Jt(t,e)}}}function Yi(){var t=performance.getEntriesByType("navigation")[0];return!!t&&"reload"===t.type}function Xi(t){return function(e){return P(P({},e),Br(t))}}function to(t){return Xi({storage:Qi(t),isPageReload:Yi})}function eo(t,e){return it(t,e)}var no=eo(sr),ro=function(){return no().apply(void 0,arguments)},io=Xi({postEvent:ro}),oo=eo("0.0"),so=Xi({version:oo});function uo(t,e){return P(P({},_r(Zi(),io,so,to(t))),{},{onClick:function(t,n){return Qn(e,t,n)},offClick:function(t,n){Yn(e,t,n)}})}new Ji(uo("backButton","back_button_pressed"));var ao=M(function t(e){var n=this,r=e.initialState,i=e.onMounted,o=e.restoreState,s=e.onUnmounted,u=e.isPageReload;V(this,t),dr(this,"_isMounted",it(!1)),dr(this,"isMounted",st(this._isMounted)),dr(this,"mount"),dr(this,"unmount"),this.mount=function(t){if(n._isMounted())return bi(void 0);var e=Br(u)?o():void 0;return _r(e?bi(e):r(t),yi(function(t){n._isMounted()||rt(function(){n._isMounted.set(!0),null==i||i(t)})}))},this.unmount=function(){n._isMounted()&&rt(function(){n._isMounted.set(!1),null==s||s()})}}),co=new qi("Biometry is not available");function fo(t){var e=!1,n=!1,r="",i=!1,o="",s=!1;return t.available&&(e=!0,n=t.token_saved,r=t.device_id,i=t.access_requested,o=t.type,s=t.access_granted),{available:e,tokenSaved:n,deviceId:r,type:o,accessGranted:s,accessRequested:i}}var lo=M(function t(e){var n=this,r=e.version,i=e.request,o=e.postEvent,s=e.storage,u=e.onInfoReceived,a=e.offInfoReceived,c=e.isTma,f=e.isPageReload;V(this,t),dr(this,"isAvailable"),dr(this,"isSupported"),dr(this,"isMounted"),dr(this,"state"),dr(this,"authenticateFp"),dr(this,"authenticate"),dr(this,"openSettingsFp"),dr(this,"openSettings"),dr(this,"requestAccessFp"),dr(this,"requestAccess"),dr(this,"updateTokenFp"),dr(this,"updateToken"),dr(this,"mountFp"),dr(this,"mount"),dr(this,"unmount");var l=function(t){p.setState(fo(t))},p=new zi({initialState:{available:!1,type:"unknown",accessGranted:!1,accessRequested:!1,deviceId:"",tokenSaved:!1},onChange:s.set}),h=new ao({initialState:function(t){return _r(i("web_app_biometry_get_info","biometry_info_received",t),yi(fo))},isPageReload:f,onMounted:function(t){p.setState(t),u(l)},onUnmounted:function(){a(l)},restoreState:s.get}),d={version:r,requires:"web_app_biometry_request_auth",isTma:c},v=Gi(P(P({},d),{},{returns:"either"})),_=Gi(P(P({},d),{},{returns:"task"})),b=Gi(P(P({},d),{},{isMounted:h.isMounted,returns:"task"}));this.isAvailable=p.getter("available"),this.isMounted=h.isMounted,this.isSupported=Lr("web_app_biometry_request_auth",r),this.state=p.state,this.unmount=h.unmount,this.mountFp=_(h.mount),this.authenticateFp=b(function(t){return n.isAvailable()?_r(i("web_app_biometry_request_auth","biometry_auth_requested",P(P({},t),{},{params:{reason:((t||{}).reason||"").trim()}})),yi(function(t){return p.setState({token:t.token}),t})):_i(co)}),this.openSettingsFp=v(function(){return o("web_app_biometry_open_settings")}),this.requestAccessFp=b(function(t){return _r(i("web_app_biometry_request_access","biometry_info_received",P(P({},t),{},{params:{reason:((t||{}).reason||"").trim()}})),xi(function(t){var e=fo(t);return e.available?(p.setState(e),bi(e.accessRequested)):_i(co)}))}),this.updateTokenFp=b(function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _r(i("web_app_biometry_update_token","biometry_token_updated",P(P({},e),{},{params:{token:e.token||"",reason:null==(t=e.reason)?void 0:t.trim()}})),yi(function(t){return t.status}))}),this.authenticate=Ni(this.authenticateFp),this.openSettings=Ni(this.openSettingsFp),this.requestAccess=Ni(this.requestAccessFp),this.updateToken=Ni(this.updateTokenFp),this.mount=Ni(this.mountFp)}),po=Xi({request:function(t,e,n){return ur(t,e,P({postEvent:ro},n))}});new lo(P(P({},_r(Zi(),io,so,po,to("biometry"))),{},{offInfoReceived:function(t){Yn("biometry_info_received",t)},onInfoReceived:function(t){return Qn("biometry_info_received",t)}}));var ho=M(function t(e){var n=this,r=e.postEvent,i=e.storage,o=e.isTma,s=e.isPageReload;V(this,t),dr(this,"isConfirmationEnabled"),dr(this,"isMounted"),dr(this,"mountFp"),dr(this,"mount"),dr(this,"unmount"),dr(this,"disableConfirmationFp"),dr(this,"disableConfirmation"),dr(this,"enableConfirmationFp"),dr(this,"enableConfirmation");var u=new zi({initialState:{isConfirmationEnabled:!1},onChange:function(t){i.set(t)}}),a=new $i({onMounted:u.setState,restoreState:i.get,initialState:{isConfirmationEnabled:!1},isPageReload:s}),c={requires:"web_app_setup_closing_behavior",isTma:o},f=Gi(P(P({},c),{},{returns:"plain"})),l=Gi(P(P({},c),{},{returns:"either",isMounted:a.isMounted})),p=function(t){return t===n.isConfirmationEnabled()?Sr(void 0):(u.setState({isConfirmationEnabled:t}),r("web_app_setup_closing_behavior",{need_confirmation:t}))};this.isConfirmationEnabled=u.getter("isConfirmationEnabled"),this.isMounted=a.isMounted,this.disableConfirmationFp=l(function(){return p(!1)}),this.enableConfirmationFp=l(function(){return p(!0)}),this.mountFp=f(function(){var t=function(){};return _r(a.mount(),Mr(t,t))}),this.unmount=a.unmount,this.disableConfirmation=Ni(this.disableConfirmationFp),this.enableConfirmation=Ni(this.enableConfirmationFp),this.mount=Ni(this.mountFp)});new ho(_r(Zi(),to("closingBehavior"),io));var vo=M(function t(e){var n=this,r=e.version,i=e.isTma,o=e.invokeCustomMethod;V(this,t),dr(this,"isSupported"),dr(this,"deleteItemFp"),dr(this,"deleteItem"),dr(this,"getItemFp"),dr(this,"getItem"),dr(this,"getItemsFp"),dr(this,"getItems"),dr(this,"getKeysFp"),dr(this,"getKeys"),dr(this,"setItemFp"),dr(this,"setItem"),dr(this,"clearFp"),dr(this,"clear");var s=Gi({version:r,requires:"web_app_invoke_custom_method",isTma:i,returns:"task"});this.isSupported=Lr("web_app_invoke_custom_method",r),this.deleteItemFp=s(function(t,e){var n=Array.isArray(t)?t:[t];return _r(n.length?o("deleteStorageValues",{keys:n},e):bi(void 0),yi(function(){}))}),this.getItemFp=s(function(t,e){return _r(n.getItemsFp([t],e),yi(function(e){return e[t]||""}))}),this.getItemsFp=s(function(t,e){return _r(t.length?o("getStorageValues",{keys:t},e):bi({}),yi(function(e){return P(P({},t.reduce(function(t,e){return t[e]="",t},{})),qt(xt(At(),At()),e))}))}),this.getKeysFp=s(function(t){return _r(o("getStorageKeys",{},t),yi(function(t){return qt(mt(At()),t)}))}),this.setItemFp=s(function(t,e,n){return _r(o("saveStorageValue",{key:t,value:e},n),yi(function(){}))}),this.clearFp=s(function(t){return _r(n.getKeysFp(t),xi(n.deleteItemFp))}),this.deleteItem=Ni(this.deleteItemFp),this.getItem=Ni(this.getItemFp),this.getItems=Ni(this.getItemsFp),this.getKeys=Ni(this.getKeysFp),this.setItem=Ni(this.setItemFp),this.clear=Ni(this.clearFp)}),_o=eo(0);function bo(){return _o.set(_o()+1),_o().toString()}var mo=Xi({invokeCustomMethod:function(t,e,n){return function(t,e,n,r){return rn(ur("web_app_invoke_custom_method","custom_method_invoked",P(P({},r||{}),{},{params:{method:t,params:e,req_id:n},capture:ar(n)})),qn(function(t){var e=t.result,n=t.error;return n?An(new Rn(n)):On(e)}))}(t,e,bo(),P(P({},n||{}),{},{postEvent:ro}))}});new vo(_r(Zi(),so,mo));var go=function(e){var n=e.request;return Di(function(t){return _r(n("web_app_request_emoji_status_access","emoji_status_access_requested",t),yi(function(t){return t.status}))},P(P({},S(e,t)),{},{requires:"web_app_request_emoji_status_access",returns:"task"}))}(_r(Zi(),so,po));Ni(go);var yo=function(t){var n=t.request;return Di(function(t,e){return _r(n("web_app_set_emoji_status",["emoji_status_set","emoji_status_failed"],P({params:{custom_emoji_id:t,duration:(e||{}).duration}},e)),Ai(function(t){return t&&"error"in t?_i(new Ri(t.error)):bi(void 0)}))},P(P({},S(t,e)),{},{requires:"web_app_set_emoji_status",returns:"task"}))}(_r(Zi(),po,so));Ni(yo);var wo=M(function t(e){var n=e.postEvent,r=e.isTma,i=e.version;V(this,t),dr(this,"isSupported"),dr(this,"impactOccurredFp"),dr(this,"impactOccurred"),dr(this,"notificationOccurredFp"),dr(this,"notificationOccurred"),dr(this,"selectionChangedFp"),dr(this,"selectionChanged");var o="web_app_trigger_haptic_feedback",s=Gi({requires:o,isTma:r,version:i,returns:"plain"});this.isSupported=Lr(o,i),this.impactOccurredFp=s(function(t){return n(o,{type:"impact",impact_style:t})}),this.notificationOccurredFp=s(function(t){return n(o,{type:"notification",notification_type:t})}),this.selectionChangedFp=s(function(){return n(o,{type:"selection_change"})}),this.impactOccurred=Ni(this.impactOccurredFp),this.notificationOccurred=Ni(this.notificationOccurredFp),this.selectionChanged=Ni(this.selectionChangedFp)});new wo(_r(Zi(),io,so));var Co=function(t){var e=t.postEvent;return Di(function(){return e("web_app_add_to_home_screen")},P(P({},S(t,n)),{},{requires:"web_app_add_to_home_screen",returns:"either"}))}(_r(Zi(),so,io));Ni(Co);var So=function(t){var e=t.request;return Di(function(t){return _r(e("web_app_check_home_screen","home_screen_checked",t),yi(function(t){return t.status||"unknown"}))},P(P({},S(t,r)),{},{requires:"web_app_check_home_screen",returns:"task"}))}(_r(Zi(),so,po));Ni(So);var ko=function(){return M(function t(e){var n=this,r=e.retrieveInitData;V(this,t),dr(this,"_state",it()),dr(this,"_raw",it()),dr(this,"state",st(this._state)),dr(this,"authDate",this.fromState("auth_date")),dr(this,"canSendAfter",this.fromState("can_send_after")),dr(this,"canSendAfterDate",st(function(){var t=n.authDate(),e=n.canSendAfter();return e&&t?new Date(t.getTime()+1e3*e):void 0})),dr(this,"chat",this.fromState("chat")),dr(this,"chatType",this.fromState("chat_type")),dr(this,"chatInstance",this.fromState("chat_instance")),dr(this,"hash",this.fromState("hash")),dr(this,"queryId",this.fromState("query_id")),dr(this,"raw",st(this._raw)),dr(this,"receiver",this.fromState("receiver")),dr(this,"signature",this.fromState("signature")),dr(this,"startParam",this.fromState("start_param")),dr(this,"user",this.fromState("user")),dr(this,"restoreFp"),dr(this,"restore"),this.restoreFp=function(){return _r(r(),Ar(Kr(function(){},function(t){var e=t.raw,r=t.obj;n._state.set(r),n._raw.set(e)})))},this.restore=Oe(this.restoreFp)},[{key:"fromState",value:function(t){var e=this;return st(function(){var n=e._state();return n?n[t]:void 0})}}])}();new ko({retrieveInitData:function(){return _r(Rr,Vr("obj",function(){return _r(Ln(),Ar(function(t){var e=t.tgWebAppData;return e?Dr(e):Ur}))}),Vr("raw",Dn),Ar(function(t){var e=t.obj,n=t.raw;return _r(Jr,Zr("obj",function(){return e}),Zr("raw",function(){return n}))}))}});var Fo=M(function t(e){var n=this,r=e.version,i=e.request,o=e.isTma;V(this,t),dr(this,"isOpened"),dr(this,"isSupported"),dr(this,"openSlugFp"),dr(this,"openSlug"),dr(this,"openUrlFp"),dr(this,"openUrl");var s=Gi({version:r,isTma:o,requires:"web_app_open_invoice",returns:"task"}),u=it(!1),a=function(){u.set(!1)};this.isSupported=Lr("web_app_open_invoice",r),this.isOpened=st(u),this.openSlugFp=s(function(t,e){return _r(n.isOpened()?_i(new Mi("Invoice is already opened")):bi(void 0),xi(function(){return u.set(!0),i("web_app_open_invoice","invoice_closed",P(P({},e),{},{params:{slug:t},capture:function(e){return t===e.slug}}))}),wi(function(t){return a(),t},function(t){return a(),t.status}))}),this.openUrlFp=s(function(t,e){var r=new URL(t,window.location.href),i=r.hostname,o=r.pathname;if("t.me"!==i)return _i(new Ii("Link has unexpected hostname: ".concat(i)));var s=o.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/);return s?n.openSlugFp(s[2],e):_i(new Ii('Expected to receive a link with a pathname in format "/invoice/{slug}" or "/${slug}"'))}),this.openUrl=Ni(this.openUrlFp),this.openSlug=Ni(this.openSlugFp)});new Fo(_r(Zi(),po,so));var Eo=function(t){var e=t.postEvent;return Di(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"==typeof t)try{t=new URL(t)}catch(r){return Cr(new Ii('"'.concat(t.toString(),'" is invalid URL'),r))}return e("web_app_open_link",{url:t.toString(),try_browser:n.tryBrowser,try_instant_view:n.tryInstantView})},P(P({},S(t,i)),{},{returns:"either"}))}(_r(Zi(),io));Ni(Eo);var xo=function(t){var e=t.postEvent,n=t.version;return Di(function(t){var r=t.toString();return r.match(/^https:\/\/t.me\/.+/)?pr("web_app_open_tg_link",Br(n))?(t=new URL(t),e("web_app_open_tg_link",{path_full:t.pathname+t.search})):(window.location.href=r,Sr(void 0)):Cr(new Ii('"'.concat(r,'" is invalid URL')))},P(P({},S(t,o)),{},{returns:"either"}))}(_r(Zi(),io,so));Ni(xo);var Ao=function(t){var e=t.openTelegramLink;return Di(function(t,n){return e("https://t.me/share/url?"+new URLSearchParams({url:t,text:n||""}).toString().replace(/\+/g,"%20"))},P(P({},S(t,s)),{},{returns:"either"}))}(P(P({},Zi()),{},{openTelegramLink:xo}));function Oo(t){var e,n,r=!1;return t.available&&(r=!0,e=t.access_requested,n=t.access_granted),{available:r,accessGranted:n||!1,accessRequested:e||!1}}Ni(Ao);var jo=M(function t(e){var n=e.version,r=e.request,i=e.postEvent,o=e.storage,s=e.isTma,a=e.isPageReload;V(this,t),dr(this,"state"),dr(this,"isAvailable"),dr(this,"isAccessGranted"),dr(this,"isAccessRequested"),dr(this,"isMounted"),dr(this,"isSupported"),dr(this,"openSettingsFp"),dr(this,"openSettings"),dr(this,"requestLocationFp"),dr(this,"requestLocation"),dr(this,"mountFp"),dr(this,"mount"),dr(this,"unmount");var c=new zi({initialState:{available:!1,accessGranted:!1,accessRequested:!1},onChange:o.set}),f=new ao({isPageReload:a,restoreState:o.get,onMounted:c.setState,initialState:function(t){return _r(r("web_app_check_location","location_checked",t),yi(Oo))}}),l={version:n,requires:"web_app_check_location",isTma:s},p=Gi(P(P({},l),{},{returns:"either"})),h=Gi(P(P({},l),{},{returns:"task"})),d=Gi(P(P({},l),{},{returns:"task",isMounted:f.isMounted}));this.isAvailable=c.getter("available"),this.isAccessRequested=c.getter("accessRequested"),this.isAccessGranted=c.getter("accessGranted"),this.isSupported=Lr("web_app_check_location",n),this.isMounted=f.isMounted,this.state=c.state,this.unmount=f.unmount,this.mountFp=h(f.mount),this.openSettingsFp=p(function(){return i("web_app_open_location_settings")}),this.requestLocationFp=d(function(t){return _r(r("web_app_request_location","location_requested",t),yi(function(t){if(!t.available)return c.setState({available:!1}),null;t.available;return S(t,u)}))}),this.mount=Ni(this.mountFp),this.openSettings=Ni(this.openSettingsFp),this.requestLocation=Ni(this.requestLocationFp)});new jo(_r(Zi(),io,so,po,to("locationManager")));var Po=M(function t(e){var n,r,i,o,s,u,c,f,l,p,h,d,v,_,b,m=e.defaults,g=S(e,a);V(this,t),dr(this,"bgColor"),dr(this,"hasShineEffect"),dr(this,"isEnabled"),dr(this,"isLoaderVisible"),dr(this,"isVisible"),dr(this,"isMounted"),dr(this,"state"),dr(this,"text"),dr(this,"textColor"),dr(this,"showFp"),dr(this,"show"),dr(this,"hideFp"),dr(this,"hide"),dr(this,"enableFp"),dr(this,"enable"),dr(this,"enableShineEffectFp"),dr(this,"enableShineEffect"),dr(this,"disableFp"),dr(this,"disable"),dr(this,"disableShineEffectFp"),dr(this,"disableShineEffect"),dr(this,"setBgColorFp"),dr(this,"setBgColor"),dr(this,"setTextColorFp"),dr(this,"setTextColor"),dr(this,"setTextFp"),dr(this,"setText"),dr(this,"showLoaderFp"),dr(this,"showLoader"),dr(this,"hideLoaderFp"),dr(this,"hideLoader"),dr(this,"setParamsFp"),dr(this,"setParams"),dr(this,"mountFp"),dr(this,"mount"),dr(this,"unmount"),dr(this,"onClickFp"),dr(this,"onClick"),dr(this,"offClickFp"),dr(this,"offClick");var y=new Ki(P(P({},g),{},{version:"100",initialState:{hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,text:"Continue"},method:"web_app_setup_main_button",payload:function(t){return{has_shine_effect:t.hasShineEffect,is_visible:t.isVisible,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,text:t.text,color:t.bgColor,text_color:t.textColor}}})),w=function(t,e){var n=y.stateGetter(t);return st(function(){return n()||Br(e)})};this.bgColor=w("bgColor",m.bgColor),this.textColor=w("textColor",m.textColor),this.hasShineEffect=y.stateGetter("hasShineEffect"),this.isEnabled=y.stateGetter("isEnabled"),this.isLoaderVisible=y.stateGetter("isLoaderVisible"),this.text=y.stateGetter("text"),this.isVisible=y.stateGetter("isVisible"),this.isMounted=y.isMounted,this.state=y.state,n=z(y.stateSetters("bgColor"),2),this.setBgColor=n[0],this.setBgColorFp=n[1],r=z(y.stateSetters("textColor"),2),this.setTextColor=r[0],this.setTextColorFp=r[1],i=z(y.stateBoolSetters("hasShineEffect"),2),o=z(i[0],2),this.disableShineEffect=o[0],this.disableShineEffectFp=o[1],s=z(i[1],2),this.enableShineEffect=s[0],this.enableShineEffectFp=s[1],u=z(y.stateBoolSetters("isEnabled"),2),c=z(u[0],2),this.disable=c[0],this.disableFp=c[1],f=z(u[1],2),this.enable=f[0],this.enableFp=f[1],l=z(y.stateBoolSetters("isLoaderVisible"),2),p=z(l[0],2),this.hideLoader=p[0],this.hideLoaderFp=p[1],h=z(l[1],2),this.showLoader=h[0],this.showLoaderFp=h[1],d=z(y.stateSetters("text"),2),this.setText=d[0],this.setTextFp=d[1],v=z(y.stateBoolSetters("isVisible"),2),_=z(v[0],2),this.hide=_[0],this.hideFp=_[1],b=z(v[1],2),this.show=b[0],this.showFp=b[1],this.setParams=y.setState,this.setParamsFp=y.setStateFp,this.onClick=y.onClick,this.onClickFp=y.onClickFp,this.offClick=y.offClick,this.offClickFp=y.offClickFp,this.mount=y.mount,this.mountFp=y.mountFp,this.unmount=y.unmount});function qo(t,e,n){return _r(uo(t,e),function(t){return P(P({},t),{},{defaults:n})})}var To=eo({});function Io(t,e){document.documentElement.style.setProperty(t,e)}function Mo(t){document.documentElement.style.removeProperty(t)}var Ro=Oe(function(t){return _r(We(t),Ar(function(t){return Math.sqrt([.299,.587,.114].reduce(function(e,n,r){var i=parseInt(t.slice(1+2*r,1+2*(r+1)),16);return e+i*i*n},0))<120}))}),Vo=M(function t(e){var n=this,r=e.initialState,i=e.onChange,o=e.offChange,s=e.isTma,u=e.storage,a=e.isPageReload;V(this,t),dr(this,"accentTextColor"),dr(this,"bgColor"),dr(this,"buttonColor"),dr(this,"buttonTextColor"),dr(this,"bottomBarBgColor"),dr(this,"destructiveTextColor"),dr(this,"headerBgColor"),dr(this,"hintColor"),dr(this,"linkColor"),dr(this,"secondaryBgColor"),dr(this,"sectionBgColor"),dr(this,"sectionHeaderTextColor"),dr(this,"sectionSeparatorColor"),dr(this,"subtitleTextColor"),dr(this,"textColor"),dr(this,"_isCssVarsBound",it(!1)),dr(this,"isCssVarsBound",st(this._isCssVarsBound)),dr(this,"bindCssVarsFp"),dr(this,"bindCssVars"),dr(this,"state"),dr(this,"isDark",st(function(){var t=n.bgColor();return!t||Ro(t)})),dr(this,"isMounted"),dr(this,"mountFp"),dr(this,"mount"),dr(this,"unmount");var c=new zi({initialState:{},onChange:u.set}),f=function(t){c.setState(t.theme_params)},l=new $i({initialState:function(){return Sr(Br(r))},isPageReload:a,onMounted:function(t){c.setState(t),i(f)},onUnmounted:function(){o(f)},restoreState:u.get}),p={isTma:s,returns:"either"},h=Gi(p),d=Gi(P(P({},p),{},{isMounted:l.isMounted}));this.accentTextColor=c.getter("accent_text_color"),this.bgColor=c.getter("bg_color"),this.buttonColor=c.getter("button_color"),this.buttonTextColor=c.getter("button_text_color"),this.bottomBarBgColor=c.getter("bottom_bar_bg_color"),this.destructiveTextColor=c.getter("destructive_text_color"),this.headerBgColor=c.getter("header_bg_color"),this.hintColor=c.getter("hint_color"),this.linkColor=c.getter("link_color"),this.secondaryBgColor=c.getter("secondary_bg_color"),this.sectionBgColor=c.getter("section_bg_color"),this.sectionHeaderTextColor=c.getter("section_header_text_color"),this.sectionSeparatorColor=c.getter("section_separator_color"),this.subtitleTextColor=c.getter("subtitle_text_color"),this.textColor=c.getter("text_color"),this.state=c.state,this.isMounted=l.isMounted,this.bindCssVarsFp=d(function(t){if(n._isCssVarsBound())return Cr(new Pi);t||(t=function(t){return"--tg-theme-".concat(function(t){return t.replace(/_([a-z])/g,function(t,e){return"-".concat(e.toLowerCase())})}(t))});var e=function(t){Object.entries(c.state()).forEach(function(e){var n=z(e,2),r=n[0],i=n[1];i&&t(r,i)})},r=function(){e(function(e,n){Io(t(e),n)})};return r(),c.state.sub(r),n._isCssVarsBound.set(!0),Sr(function(){e(Mo),c.state.unsub(r),n._isCssVarsBound.set(!1)})}),this.mountFp=h(l.mount),this.unmount=l.unmount,this.bindCssVars=Ni(this.bindCssVarsFp),this.mount=Ni(this.mountFp)}),Bo=new Vo(P(P({},_r(Zi(),to("themeParams"))),{},{offChange:function(t){Yn("theme_changed",t)},onChange:function(t){Qn("theme_changed",t)},initialState:To}));new Po(qo("mainButton","main_button_pressed",{bgColor:st(function(){return Bo.buttonColor()||"#2481cc"}),textColor:st(function(){return Bo.buttonTextColor()||"#ffffff"})}));var Lo=M(function t(e){var n,r,i,o=this,s=e.storage,u=e.isPageReload,a=e.version,c=e.postEvent,f=e.isTma,l=e.theme,p=e.onVisibilityChanged,h=e.offVisibilityChanged;V(this,t),dr(this,"isSupported"),dr(this,"isDark",st(function(){var t=o.bgColorRgb();return!!t&&Ro(t)})),dr(this,"isActive"),dr(this,"state"),dr(this,"isCssVarsBound"),dr(this,"bindCssVarsFp"),dr(this,"bindCssVars"),dr(this,"isMounted"),dr(this,"mountFp"),dr(this,"mount"),dr(this,"unmount"),dr(this,"bgColor"),dr(this,"bgColorRgb"),dr(this,"setBgColorFp"),dr(this,"setBgColor"),dr(this,"headerColor"),dr(this,"headerColorRgb"),dr(this,"setHeaderColorFp"),dr(this,"setHeaderColor"),dr(this,"bottomBarColor"),dr(this,"bottomBarColorRgb"),dr(this,"setBottomBarColorFp"),dr(this,"setBottomBarColor"),dr(this,"closeFp"),dr(this,"close"),dr(this,"readyFp"),dr(this,"ready");var d=function(t){b.setState({isActive:t.is_visible})},v=function(t){[[o.headerColor,"web_app_set_header_color"],[o.bgColor,"web_app_set_background_color"],[o.bottomBarColor,"web_app_set_bottom_bar_color"]].forEach(function(e){var n=z(e,2),r=n[0],i=n[1],o=r();if(!(Ue(o)||"web_app_set_header_color"===i&&["bg_color","secondary_bg_color"].includes(o))){var s=t[o];s&&c(i,{color:s})}})},_=new $i({initialState:function(){return Sr({bgColor:"bg_color",headerColor:"header_bg_color",bottomBarColor:"bottom_bar_bg_color",isActive:!0})},isPageReload:u,onMounted:function(t){p(d),l.sub(v),b.setState(t)},onUnmounted:function(){h(d),l.unsub(v)},restoreState:s.get});this.isMounted=_.isMounted,this.mountFp=Di(function(){var t=function(){};return _r(_.mount(),Mr(t,t))},{isTma:f,returns:"plain"}),this.mount=Ni(this.mountFp),this.unmount=_.unmount;var b=new zi({initialState:{bgColor:"bg_color",bottomBarColor:"bottom_bar_bg_color",headerColor:"bg_color",isActive:!1},onChange:s.set});this.state=b.state;var m=function(t){return Ue(t)?t:Br(l)[t]};this.isActive=b.getter("isActive"),this.isSupported=st(function(){return["web_app_set_header_color","web_app_set_background_color","web_app_set_bottom_bar_color"].some(function(t){return pr(t,Br(a))})});var g=it(!1);this.isCssVarsBound=st(g),this.bindCssVarsFp=Di(function(t){if(g())return Cr(new Pi);var e=z(Qt(function(){g.set(!1)}),2),n=e[0],r=e[1],i=function(t,e){var r=function(){Io(t,e()||null)};r(),n(e.sub(r),Mo.bind(null,t))};return t||(t=function(t){return"--tg-".concat(zt(t))}),i(t("bgColor"),o.bgColorRgb),i(t("bottomBarColor"),o.bottomBarColorRgb),i(t("headerColor"),o.headerColorRgb),g.set(!0),Sr(r)},{isTma:f,returns:"either",isMounted:this.isMounted}),this.bindCssVars=Ni(this.bindCssVarsFp);var y=function(t){var e=b.getter(t),n=function(t){return st(function(){return m(t())})}(e),r={headerColor:"web_app_set_header_color",bgColor:"web_app_set_background_color",bottomBarColor:"web_app_set_bottom_bar_color"}[t],i=Di(function(n){if(n===e())return Sr(void 0);if("web_app_set_header_color"===r&&("bg_color"===n||"secondary_bg_color"===n))return _r(c("web_app_set_header_color",{color_key:n}),Ar(function(){b.setState(q({},t,n))}));var i=m(n);return _r(i?c(r,{color:i}):Cr(new Ui(n)),Ar(function(){b.setState(q({},t,i))}))},{isTma:f,version:a,requires:r,isMounted:o.isMounted,returns:"either",supports:"headerColor"===t?{rgb:{method:"web_app_set_header_color",param:"color",shouldCheck:Ue}}:void 0});return[e,n,Ni(i),i]};n=z(y("bgColor"),4),this.bgColor=n[0],this.bgColorRgb=n[1],this.setBgColor=n[2],this.setBgColorFp=n[3],r=z(y("headerColor"),4),this.headerColor=r[0],this.headerColorRgb=r[1],this.setHeaderColor=r[2],this.setHeaderColorFp=r[3],i=z(y("bottomBarColor"),4),this.bottomBarColor=i[0],this.bottomBarColorRgb=i[1],this.setBottomBarColor=i[2],this.setBottomBarColorFp=i[3];var w=Gi({isTma:f,returns:"either"});this.closeFp=w(function(t){return c("web_app_close",{return_back:t})}),this.close=Ni(this.closeFp),this.readyFp=w(function(){return c("web_app_ready")}),this.ready=Ni(this.readyFp)}),Uo=new Lo(P(P({},_r(Zi(),io,so,to("miniApp"))),{},{offVisibilityChanged:function(t){Yn("visibility_changed",t)},onVisibilityChanged:function(t){Qn("visibility_changed",t)},theme:Bo.state}));var Do=M(function t(e){var n=this,r=e.version,i=e.isTma,o=e.request;V(this,t),dr(this,"isOpened"),dr(this,"isSupported"),dr(this,"showFp"),dr(this,"show");var s=it(!1),u=function(){s.set(!1)},a=Gi({version:r,isTma:i,requires:"web_app_open_popup",returns:"task"});this.isSupported=Lr("web_app_open_popup",r),this.isOpened=st(s),this.showFp=a(function(t){return _r(n.isOpened()?_i(new Mi("A popup is already opened")):bi(void 0),Ai(function(){return mi(function(t){var e=t.message.trim(),n=(t.title||"").trim(),r=t.buttons||[];if(n.length>64)return Cr(new Ii("Invalid title: ".concat(n)));if(!e||e.length>256)return Cr(new Ii("Invalid message: ".concat(e)));if(r.length>3)return Cr(new Ii("Invalid buttons count: ".concat(r.length)));var i=[];if(r.length)for(var o=0;o<r.length;o++){var s=r[o],u=s.id||"";if(u.length>64)return Cr(new Ii("Button with index ".concat(o," has invalid id: ").concat(u)));if(s.type&&"default"!==s.type&&"destructive"!==s.type)i.push({type:s.type,id:u});else{var a=s.text.trim();if(!a||a.length>64)return Cr(new Ii("Button with index ".concat(o," has invalid text: ").concat(a)));i.push({type:s.type,text:a,id:u})}}else i.push({type:"close",id:""});return Sr({title:n,message:e,buttons:i})}(t))}),xi(function(e){return s.set(!0),o("web_app_open_popup","popup_closed",P(P({},t),{},{params:e}))}),wi(function(t){return u(),t},function(t){return u(),t.button_id}))}),this.show=Ni(this.showFp)});new Do(_r(Zi(),po,so));var Go=function(t){var e=t.request;return Di(function(t){return _r(e("web_app_request_phone","phone_requested",t),yi(function(t){return t.status}))},P(P({},S(t,c)),{},{requires:"web_app_request_phone",returns:"task"}))}(_r(Zi(),so,po));Ni(Go);var No=function(t){var e=t.invokeCustomMethod,n=t.requestPhoneAccess,r=S(t,f),i=function(t){return _r(function(t){return _r(e("getRequestedContact",{},P(P({},t),{},{timeout:(t||{}).timeout||5e3})),Ai(function(t){var e=It(At(),t);if(!e.success)return _i(new ji(t,e.issues));if(!e.output)return bi(void 0);var n=It(Re(St({contact:Me(St({user_id:Ft(),phone_number:At(),first_name:At(),last_name:Et(At())})),auth_date:Tt(At(),dt(function(t){return new Date(1e3*Number(t))}),yt()),hash:At()})),e.output);return n.success?bi({raw:e.output,parsed:n.output}):_i(new ji(e.output,n.issues))}))}(t),gi(function(t){return ji.is(t)?Cr(t):Sr(void 0)},function(t){return Sr(t)}))};return Di(function(t){return je.fn(function(t){return _r(i(t),xi(function(e){return e?bi(e):_r(n(t),Ai(function(e){return"sent"===e?function(t){return je(function(){var t=x(k().m(function t(e,n,r){var o,s;return k().w(function(t){for(;;)switch(t.n){case 0:o=50;case 1:if(r.isRejected){t.n=7;break}return t.n=2,i(r)();case 2:if("Left"!==(s=t.v)._tag){t.n=3;break}return t.a(2,n(s.left));case 3:if(!s.right){t.n=4;break}return t.a(2,e(s.right));case 4:return t.n=5,new Promise(function(t){return setTimeout(t,o)});case 5:o+=50;case 6:t.n=1;break;case 7:return t.a(2)}},t)}));return function(e,n,r){return t.apply(this,arguments)}}(),t)}(t):_i(new Vi("User denied access"))}))}))},t)},P(P({},r),{},{returns:"task",requires:"web_app_request_phone"}))}(P(P({},_r(Zi(),mo,so)),{},{requestPhoneAccess:Go}));Ni(No);var Wo,Ho=(Wo=P(P({},_r(Zi(),so)),{},{requestContact:function(t){return _r(No(t),yi(function(t){return t.parsed}))}}),Di(Wo.requestContact,P(P({},S(Wo,l)),{},{returns:"task",requires:"web_app_request_phone"})));Ni(Ho);var zo=function(t){var e=t.request;return Di(function(t){return _r(e("web_app_request_write_access","write_access_requested",t),yi(function(t){return t.status}))},P(P({},S(t,p)),{},{requires:"web_app_request_write_access",returns:"task"}))}(_r(Zi(),so,po));Ni(zo);var $o=M(function t(e){var n=this,r=e.version,i=e.onClosed,o=e.onTextReceived,s=e.isTma,u=e.postEvent;V(this,t),dr(this,"isOpened"),dr(this,"isSupported"),dr(this,"captureFp"),dr(this,"capture"),dr(this,"closeFp"),dr(this,"close"),dr(this,"openFp"),dr(this,"open");var a={version:r,requires:"web_app_open_scan_qr_popup",isTma:s},c=Gi(P(P({},a),{},{returns:"either"})),f=Gi(P(P({},a),{},{returns:"task"})),l=it(!1),p=function(){l.set(!1)};this.isSupported=Lr("web_app_open_scan_qr_popup",r),this.isOpened=st(l),this.captureFp=f(function(t){var e;return _r(n.openFp(P(P({},t),{},{onCaptured:function(r){t.capture(r)&&(e=r,n.close())}})),yi(function(){return e}))}),this.closeFp=c(function(){return _r(u("web_app_close_scan_qr_popup"),Ar(p))}),this.openFp=f(function(t){return _r(n.isOpened()?_i(new Mi("The QR Scanner is already opened")):x(k().m(function e(){return k().w(function(e){for(;;)if(0===e.n)return e.a(2,u("web_app_open_scan_qr_popup",{text:t.text}))},e)})),Ai(function(){var e=z(Qt(),2),n=e[0],r=e[1],s=function(t){return r(),t};return _r(je(function(e){n(i(e),o(t.onCaptured))},t),wi(s,s))}))}),this.open=Ni(this.openFp),this.capture=Ni(this.captureFp),this.close=Ni(this.closeFp)});new $o(P(P({},_r(Zi(),io,so)),{},{onClosed:function(t){return Qn("scan_qr_popup_closed",t)},onTextReceived:function(t){return Qn("qr_text_received",function(e){t(e.data)})}}));var Ko=M(function t(e){var n,r,i,o,s,u,a,c,f,l,p,d,v,_,b,m,g=e.defaults,y=S(e,h);V(this,t),dr(this,"isSupported"),dr(this,"position"),dr(this,"bgColor"),dr(this,"hasShineEffect"),dr(this,"isEnabled"),dr(this,"isLoaderVisible"),dr(this,"isVisible"),dr(this,"isMounted"),dr(this,"state"),dr(this,"text"),dr(this,"textColor"),dr(this,"showFp"),dr(this,"show"),dr(this,"hideFp"),dr(this,"hide"),dr(this,"enableFp"),dr(this,"enable"),dr(this,"enableShineEffectFp"),dr(this,"enableShineEffect"),dr(this,"disableFp"),dr(this,"disable"),dr(this,"disableShineEffectFp"),dr(this,"disableShineEffect"),dr(this,"setBgColorFp"),dr(this,"setBgColor"),dr(this,"setTextColorFp"),dr(this,"setTextColor"),dr(this,"setTextFp"),dr(this,"setText"),dr(this,"setPositionFp"),dr(this,"setPosition"),dr(this,"showLoaderFp"),dr(this,"showLoader"),dr(this,"hideLoaderFp"),dr(this,"hideLoader"),dr(this,"setParamsFp"),dr(this,"setParams"),dr(this,"mountFp"),dr(this,"mount"),dr(this,"unmount"),dr(this,"onClickFp"),dr(this,"onClick"),dr(this,"offClickFp"),dr(this,"offClick");var w=new Ki(P(P({},y),{},{initialState:{hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,text:"Cancel",position:"left"},method:"web_app_setup_secondary_button",payload:function(t){return{has_shine_effect:t.hasShineEffect,is_visible:t.isVisible,is_active:t.isEnabled,is_progress_visible:t.isLoaderVisible,text:t.text,color:t.bgColor,text_color:t.textColor,position:t.position}}})),C=function(t,e){var n=w.stateGetter(t);return st(function(){return n()||Br(e)})};this.isSupported=Lr("web_app_setup_secondary_button",y.version),this.bgColor=C("bgColor",g.bgColor),this.textColor=C("textColor",g.textColor),this.position=w.stateGetter("position"),this.hasShineEffect=w.stateGetter("hasShineEffect"),this.isEnabled=w.stateGetter("isEnabled"),this.isLoaderVisible=w.stateGetter("isLoaderVisible"),this.text=w.stateGetter("text"),this.isVisible=w.stateGetter("isVisible"),this.isMounted=w.isMounted,this.state=w.state,n=z(w.stateSetters("position"),2),this.setPosition=n[0],this.setPositionFp=n[1],r=z(w.stateSetters("bgColor"),2),this.setBgColor=r[0],this.setBgColorFp=r[1],i=z(w.stateSetters("textColor"),2),this.setTextColor=i[0],this.setTextColorFp=i[1],o=z(w.stateBoolSetters("hasShineEffect"),2),s=z(o[0],2),this.disableShineEffect=s[0],this.disableShineEffectFp=s[1],u=z(o[1],2),this.enableShineEffect=u[0],this.enableShineEffectFp=u[1],a=z(w.stateBoolSetters("isEnabled"),2),c=z(a[0],2),this.disable=c[0],this.disableFp=c[1],f=z(a[1],2),this.enable=f[0],this.enableFp=f[1],l=z(w.stateBoolSetters("isLoaderVisible"),2),p=z(l[0],2),this.hideLoader=p[0],this.hideLoaderFp=p[1],d=z(l[1],2),this.showLoader=d[0],this.showLoaderFp=d[1],v=z(w.stateSetters("text"),2),this.setText=v[0],this.setTextFp=v[1],_=z(w.stateBoolSetters("isVisible"),2),b=z(_[0],2),this.hide=b[0],this.hideFp=b[1],m=z(_[1],2),this.show=m[0],this.showFp=m[1],this.setParams=w.setState,this.setParamsFp=w.setStateFp,this.onClick=w.onClick,this.onClickFp=w.onClickFp,this.offClick=w.offClick,this.offClickFp=w.offClickFp,this.mount=w.mount,this.mountFp=w.mountFp,this.unmount=w.unmount});new Ko(qo("secondaryButton","secondary_button_pressed",{bgColor:st(function(){return Uo.bottomBarColorRgb()||"#000000"}),textColor:st(function(){return Bo.buttonColor()||"#2481cc"})}));var Jo=M(function t(e){var n,r,i;V(this,t),dr(this,"isVisible"),dr(this,"isMounted"),dr(this,"isSupported"),dr(this,"hideFp"),dr(this,"hide"),dr(this,"showFp"),dr(this,"show"),dr(this,"onClickFp"),dr(this,"onClick"),dr(this,"offClickFp"),dr(this,"offClick"),dr(this,"mountFp"),dr(this,"mount"),dr(this,"unmount");var o=new Ki(P(P({},e),{},{method:"web_app_setup_settings_button",payload:function(t){return{is_visible:t.isVisible}},initialState:{isVisible:!1}}));this.isVisible=o.stateGetter("isVisible"),this.isMounted=o.isMounted,this.isSupported=o.isSupported,n=z(o.stateBoolSetters("isVisible"),2),r=z(n[0],2),this.hide=r[0],this.hideFp=r[1],i=z(n[1],2),this.show=i[0],this.showFp=i[1],this.onClick=o.onClick,this.onClickFp=o.onClickFp,this.offClick=o.offClick,this.offClickFp=o.offClickFp,this.mount=o.mount,this.mountFp=o.mountFp,this.unmount=o.unmount});new Jo(uo("settingsButton","settings_button_pressed"));var Zo=M(function t(e){var n=e.postEvent,r=e.storage,i=e.isTma,o=e.isPageReload,s=e.version;V(this,t),dr(this,"isSupported"),dr(this,"isVerticalEnabled"),dr(this,"isMounted"),dr(this,"mountFp"),dr(this,"mount"),dr(this,"unmount"),dr(this,"disableVerticalFp"),dr(this,"disableVertical"),dr(this,"enableVerticalFp"),dr(this,"enableVertical");var u={isVerticalEnabled:!0},a=new zi({initialState:u,onChange:function(t){r.set(t)}}),c=new $i({initialState:u,isPageReload:o,onMounted:a.setState,restoreState:r.get}),f={requires:"web_app_setup_swipe_behavior",isTma:i,version:s},l=Gi(P(P({},f),{},{returns:"plain"})),p=Gi(P(P({},f),{},{isMounted:c.isMounted,returns:"either"})),h=function(t){var e={isVerticalEnabled:t};return a.hasDiff(e)?_r(n("web_app_setup_swipe_behavior",{allow_vertical_swipe:t}),Ar(function(){a.setState(e)})):Sr(void 0)};this.isSupported=Lr("web_app_setup_swipe_behavior",s),this.isVerticalEnabled=a.getter("isVerticalEnabled"),this.isMounted=c.isMounted,this.disableVerticalFp=p(function(){return h(!1)}),this.enableVerticalFp=p(function(){return h(!0)}),this.mountFp=l(function(){var t=function(){};return _r(c.mount(),Mr(t,t))}),this.unmount=c.unmount,this.disableVertical=Ni(this.disableVerticalFp),this.enableVertical=Ni(this.enableVerticalFp),this.mount=Ni(this.mountFp)});new Zo(_r(Zi(),io,so,to("swipeBehavior")));var Qo=function(t){var e=t.request;return Di(function(t,n,r){return _r(e("web_app_request_file_download","file_download_requested",P(P({},r),{},{params:{url:t,file_name:n}})),xi(function(t){return"downloading"===t.status?bi(void 0):_i(new Vi("User denied the action"))}))},P(P({},S(t,d)),{},{requires:"web_app_request_file_download",returns:"task"}))}(_r(Zi(),po,so));Ni(Qo);var Yo=function(t){var e=t.invokeCustomMethod;return Di(function(t){return _r(e("getCurrentTime",{},t),xi(function(t){var e=It(Tt(Ft(),ht(),dt(function(t){return new Date(1e3*t)}),yt()),t);return e.success?bi(e.output):_i(new ji(t,e.issues))}))},P(P({},S(t,v)),{},{requires:"web_app_invoke_custom_method",returns:"task"}))}(_r(Zi(),mo,so));Ni(Yo);var Xo=function(t){var e=t.postEvent;return Di(function(){return e("web_app_hide_keyboard")},P(P({},S(t,_)),{},{returns:"either",requires:"web_app_hide_keyboard"}))}(_r(Zi(),io,so));Ni(Xo);var ts=function(t){var e=t.request,n=t.createRequestId;return Di(function(t){var r=n();return _r(e("web_app_read_text_from_clipboard","clipboard_text_received",P(P({},t),{},{params:{req_id:r},capture:ar(r)})),yi(function(t){var e=t.data;return void 0===e?null:e}))},P(P({},S(t,b)),{},{requires:"web_app_read_text_from_clipboard",returns:"task"}))}(P(P({},_r(Zi(),so,po)),{},{createRequestId:bo}));Ni(ts);var es=function(t){var e=t.postEvent;return Di(function(t){var n=new Blob([t]).size;return!n||n>4096?Cr(new Ii(n?"Maximum size of data to send is 4096 bytes":"Attempted to send empty data")):e("web_app_data_send",{data:t})},P(P({},S(t,m)),{},{returns:"either"}))}(_r(Zi(),io));Ni(es);var ns=function(t){var e=t.request;return Di(function(t,n){return _r(e("web_app_send_prepared_message",["prepared_message_failed","prepared_message_sent"],P(P({},n),{},{params:{id:t}})),xi(function(t){return t&&"error"in t?_i(new Li(t.error)):bi(void 0)}))},P(P({},S(t,g)),{},{requires:"web_app_send_prepared_message",returns:"task"}))}(_r(Zi(),po,so));Ni(ns);var rs=function(t){var e=t.postEvent;return Di(function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e("web_app_share_to_story",{text:n.text,media_url:t,widget_link:n.widgetLink})},P(P({},S(t,y)),{},{requires:"web_app_share_to_story",returns:"either"}))}(_r(Zi(),io,so));Ni(rs);var is=eo(!1);var os=function(t){var e=t.isInlineMode,n=t.postEvent;return Di(function(t,e){return n("web_app_switch_inline_query",{query:t,chat_types:e||[]})},P(P({},S(t,w)),{},{requires:{every:["web_app_switch_inline_query",function(){return Br(e)?void 0:"The application must be launched in the inline mode"}]},returns:"either"}))}(P(P({},_r(Zi(),io,so)),{},{isInlineMode:is}));Ni(os);var ss=M(function t(e){var n=this,r=e.storage,i=e.isPageReload,o=e.onContentSafeAreaInsetsChanged,s=e.onSafeAreaInsetsChanged,u=e.onViewportChanged,a=e.onFullscreenChanged,c=e.offContentSafeAreaInsetsChanged,f=e.offFullscreenChanged,l=e.offSafeAreaInsetsChanged,p=e.offViewportChanged,h=e.request,d=e.isViewportStable,v=e.isFullscreen,_=e.isTma,b=e.version,m=e.postEvent;V(this,t),dr(this,"state"),dr(this,"height"),dr(this,"stableHeight"),dr(this,"width"),dr(this,"isExpanded"),dr(this,"isStable",st(function(){return n.height()===n.stableHeight()})),dr(this,"contentSafeAreaInsets"),dr(this,"contentSafeAreaInsetTop"),dr(this,"contentSafeAreaInsetLeft"),dr(this,"contentSafeAreaInsetRight"),dr(this,"contentSafeAreaInsetBottom"),dr(this,"safeAreaInsets"),dr(this,"safeAreaInsetTop"),dr(this,"safeAreaInsetLeft"),dr(this,"safeAreaInsetRight"),dr(this,"safeAreaInsetBottom"),dr(this,"isFullscreen"),dr(this,"requestFullscreenFp"),dr(this,"requestFullscreen"),dr(this,"exitFullscreenFp"),dr(this,"exitFullscreen"),dr(this,"isCssVarsBound"),dr(this,"bindCssVarsFp"),dr(this,"bindCssVars"),dr(this,"isMounted"),dr(this,"mountFp"),dr(this,"mount"),dr(this,"expandFp"),dr(this,"expand");var g={top:0,right:0,left:0,bottom:0},y=new zi({initialState:{contentSafeAreaInsets:g,height:0,isExpanded:!1,isFullscreen:!1,safeAreaInsets:g,stableHeight:0,width:0},onChange:r.set}),w=function(t){y.setState({isExpanded:t.is_expanded,height:t.height,width:t.width,stableHeight:t.is_state_stable?t.height:void 0})},k=function(t){y.setState({isFullscreen:t.is_fullscreen})},F=function(t){y.setState({safeAreaInsets:t})},E=function(t){y.setState({contentSafeAreaInsets:t})},x=new ao({initialState:function(t){var e=function(e){return function(){var n=z("safe-area"===e?["web_app_request_safe_area","safe_area_changed"]:["web_app_request_content_safe_area","content_safe_area_changed"],2),r=n[0],i=n[1];return pr(r,Br(b))?h(r,i,t):bi({top:0,left:0,right:0,bottom:0})}},n=function(t){return function(){return"boolean"==typeof t?bi(t):mi(t())}};return _r(Fi,Ei("safeAreaInsets",e("safe-area")),Ei("contentSafeAreaInsets",e("content-safe-area")),Ei("isFullscreen",n(v)),Ei("isViewportStable",n(d)),Ai(function(e){var n=e.isViewportStable,r=S(e,C);return n?bi(P(P({},r),{},{height:window.innerHeight,isExpanded:!0,stableHeight:window.innerHeight,width:window.innerWidth})):_r(h("web_app_request_viewport","viewport_changed",t),yi(function(t){return P(P({},r),{},{height:t.height,isExpanded:t.is_expanded,stableHeight:t.is_state_stable?t.height:0,width:t.width})}))}))},isPageReload:i,onMounted:function(t){u(w),a(k),s(F),o(E),y.setState(t)},onUnmounted:function(){p(w),f(k),l(F),c(E)},restoreState:r.get}),A=function(t){return st(function(){return n.safeAreaInsets()[t]})},O=function(t){return st(function(){return n.contentSafeAreaInsets()[t]})};this.state=y.state,this.height=y.getter("height"),this.stableHeight=y.getter("stableHeight"),this.width=y.getter("width"),this.isExpanded=y.getter("isExpanded"),this.safeAreaInsets=y.getter("safeAreaInsets"),this.safeAreaInsetTop=A("top"),this.safeAreaInsetBottom=A("bottom"),this.safeAreaInsetLeft=A("left"),this.safeAreaInsetRight=A("right"),this.contentSafeAreaInsets=y.getter("contentSafeAreaInsets"),this.contentSafeAreaInsetTop=O("top"),this.contentSafeAreaInsetBottom=O("bottom"),this.contentSafeAreaInsetLeft=O("left"),this.contentSafeAreaInsetRight=O("right");var j=Gi({isTma:_,returns:"task"}),q=Gi({isTma:_,returns:"either"}),T=Gi({isTma:_,requires:"web_app_request_fullscreen",version:b,returns:"task"}),I=function(t){return T(function(e){return _r(h(t?"web_app_request_fullscreen":"web_app_exit_fullscreen",["fullscreen_changed","fullscreen_failed"],e),xi(function(t){return"error"in t&&"ALREADY_FULLSCREEN"!==t.error?_i(new Bi(t.error)):(y.setState({isFullscreen:!("is_fullscreen"in t)||t.is_fullscreen}),bi(void 0))}))})};this.isMounted=x.isMounted,this.mountFp=j(x.mount),this.mount=Ni(this.mountFp),this.isFullscreen=y.getter("isFullscreen"),this.requestFullscreenFp=I(!0),this.requestFullscreen=Ni(this.requestFullscreenFp),this.exitFullscreenFp=I(!1),this.exitFullscreen=Ni(this.exitFullscreenFp);var M=it(!1);this.isCssVarsBound=st(M),this.bindCssVarsFp=q(function(t){if(M())return Cr(new Pi);t||(t=function(t){return"--tg-viewport-".concat(zt(t))});var e=[["height",n.height],["stableHeight",n.stableHeight],["width",n.width],["safeAreaInsetTop",n.safeAreaInsetTop],["safeAreaInsetBottom",n.safeAreaInsetBottom],["safeAreaInsetLeft",n.safeAreaInsetLeft],["safeAreaInsetRight",n.safeAreaInsetRight],["contentSafeAreaInsetTop",n.contentSafeAreaInsetTop],["contentSafeAreaInsetBottom",n.contentSafeAreaInsetBottom],["contentSafeAreaInsetLeft",n.contentSafeAreaInsetLeft],["contentSafeAreaInsetRight",n.contentSafeAreaInsetRight]].reduce(function(e,n){var r=z(n,2),i=r[0],o=r[1],s=t(i);if(s){var u=function(){Io(s,"".concat(o(),"px"))};e.push({update:u,removeListener:o.sub(u),cssVar:s})}return e},[]);return e.forEach(function(t){t.update()}),M.set(!0),Sr(function(){e.forEach(function(t){t.removeListener(),Mo(t.cssVar)}),M.set(!1)})}),this.bindCssVars=Ni(this.bindCssVarsFp),this.expandFp=q(function(){return m("web_app_expand")}),this.expand=Ni(this.expandFp)});!function(){var t=function(t){return{on:function(e){Qn(t,e)},off:function(e){Yn(t,e)}}},e=t("viewport_changed"),n=t("fullscreen_changed"),r=t("safe_area_changed"),i=t("content_safe_area_changed");new ss(P(P({},_r(Zi(),to("viewport"),so,io,po)),{},{isFullscreen:function(){return _r(Ln(),Ar(function(t){return!!t.tgWebAppFullscreen}))},isViewportStable:function(){return _r(Ln(),Ar(function(t){return["macos","tdesktop","unigram","webk","weba","web"].includes(t.tgWebAppPlatform)}))},offContentSafeAreaInsetsChanged:i.off,offFullscreenChanged:n.off,offSafeAreaInsetsChanged:r.off,offViewportChanged:e.off,onContentSafeAreaInsetsChanged:i.on,onFullscreenChanged:n.on,onSafeAreaInsetsChanged:r.on,onViewportChanged:e.on}))}(),Oe(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.version,n=t.isInlineMode,r=t.themeParams;if(e&&"boolean"==typeof n&&r)oo.set(e),is.set(n),To.set(r);else{var i=_r(Ln(),Ir(function(t){return t},function(t){oo.set(e||t.tgWebAppVersion),is.set("boolean"==typeof n?n:!!t.tgWebAppBotInline),To.set(r||t.tgWebAppThemeParams)}));if(i)return Cr(i)}t.postEvent&&no.set(t.postEvent);var o=Qt(Qn("reload_iframe",function(){or().log("Received a request to reload the page"),function(){Ae(ro.apply(void 0,arguments))}("iframe_will_reload"),window.location.reload()})),s=z(o,2),u=s[0],a=s[1],c=t.acceptCustomStyles;if(void 0===c||c){var f=document.createElement("style");f.id="telegram-custom-styles",document.head.appendChild(f),u(Qn("set_custom_style",function(t){f.innerHTML=t}),function(){document.head.removeChild(f)})}return _r(ro("iframe_ready",{reload_supported:!0}),Ar(function(){return or().log("The package was initialized"),a}))})}}})}();
//# sourceMappingURL=TelegramApp-legacy-yebj2xmM.js.map
