{"version":3,"file":"index-legacy-CNZW1SBF.js","sources":["../../../../node_modules/.pnpm/match-sorter@8.1.0/node_modules/match-sorter/dist/match-sorter.esm.js","../../../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.2.0/node_modules/@heroicons/react/24/outline/esm/AdjustmentsHorizontalIcon.js","../../../web/src/pages/Settings/CollectionsPage.tsx","../../../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.2.0/node_modules/@heroicons/react/24/outline/esm/ArchiveBoxIcon.js","../../../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.2.0/node_modules/@heroicons/react/24/outline/esm/BuildingOffice2Icon.js","../../../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.2.0/node_modules/@heroicons/react/24/outline/esm/CheckIcon.js","../../../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.2.0/node_modules/@heroicons/react/24/outline/esm/DocumentDuplicateIcon.js","../../../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.2.0/node_modules/@heroicons/react/24/outline/esm/IdentificationIcon.js","../../../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.2.0/node_modules/@heroicons/react/24/outline/esm/KeyIcon.js","../../../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.2.0/node_modules/@heroicons/react/24/outline/esm/MapPinIcon.js","../../../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.2.0/node_modules/@heroicons/react/24/outline/esm/PauseIcon.js","../../../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.2.0/node_modules/@heroicons/react/24/outline/esm/PlayIcon.js","../../../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.2.0/node_modules/@heroicons/react/24/outline/esm/RectangleStackIcon.js","../../../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.2.0/node_modules/@heroicons/react/24/outline/esm/ShieldCheckIcon.js","../../../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.2.0/node_modules/@heroicons/react/24/outline/esm/Squares2X2Icon.js","../../../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.2.0/node_modules/@heroicons/react/24/outline/esm/TruckIcon.js","../../../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.2.0/node_modules/@heroicons/react/24/outline/esm/UserGroupIcon.js","../../../../node_modules/.pnpm/remove-accents@0.5.0/node_modules/remove-accents/index.js","../../../../node_modules/.pnpm/@radix-ui+react-tabs@1.1.13_@types+react-dom@18.3.7_@types+react@18.3.24__@types+react@_9a0a28c0fe72a405cc6b65427e0d242f/node_modules/@radix-ui/react-tabs/dist/index.mjs","../../../web/src/components/ui/tabs.tsx","../../../web/src/components/ActionBar.tsx","../../../web/src/components/CopyableId.tsx","../../../web/src/pages/Settings/CollectionForm.tsx","../../../web/src/services/fleets.ts","../../../web/src/pages/Settings/FleetVehicleDialog.tsx","../../../web/src/columns/fleetVehicleColumns.tsx","../../../web/src/pages/Settings/badgeStyles.ts","../../../web/src/pages/Settings/FleetVehiclesTab.tsx","../../../web/src/pages/Settings/TaskSettingsTab.tsx","../../../web/src/services/analytics.ts","../../../web/src/pages/AnalyticsDashboard.tsx","../../../web/src/services/healthcheck.ts","../../../web/src/pages/Settings/HealthCheckTab.tsx","../../../web/src/columns/collectionColumns.tsx","../../../web/src/columns/settingsUserColumns.tsx","../../../web/src/columns/settingsEmployeeColumns.tsx","../../../web/src/utils/employeeRow.ts","../../../web/src/pages/Settings/UserForm.tsx"],"sourcesContent":["import removeAccents from 'remove-accents';\n\n/**\n * @name match-sorter\n * @license MIT license.\n * @copyright (c) 2020 Kent C. Dodds\n * @author Kent C. Dodds <me@kentcdodds.com> (https://kentcdodds.com)\n */\nconst rankings = {\n  CASE_SENSITIVE_EQUAL: 7,\n  EQUAL: 6,\n  STARTS_WITH: 5,\n  WORD_STARTS_WITH: 4,\n  CONTAINS: 3,\n  ACRONYM: 2,\n  MATCHES: 1,\n  NO_MATCH: 0\n};\nconst defaultBaseSortFn = (a, b) => String(a.rankedValue).localeCompare(String(b.rankedValue));\n\n/**\n * Takes an array of items and a value and returns a new array with the items that match the given value\n * @param {Array} items - the items to sort\n * @param {String} value - the value to use for ranking\n * @param {Object} options - Some options to configure the sorter\n * @return {Array} - the new sorted array\n */\nfunction matchSorter(items, value, options = {}) {\n  const {\n    keys,\n    threshold = rankings.MATCHES,\n    baseSort = defaultBaseSortFn,\n    sorter = matchedItems => matchedItems.sort((a, b) => sortRankedValues(a, b, baseSort))\n  } = options;\n  const matchedItems = items.reduce(reduceItemsToRanked, []);\n  return sorter(matchedItems).map(({\n    item\n  }) => item);\n  function reduceItemsToRanked(matches, item, index) {\n    const rankingInfo = getHighestRanking(item, keys, value, options);\n    const {\n      rank,\n      keyThreshold = threshold\n    } = rankingInfo;\n    if (rank >= keyThreshold) {\n      matches.push({\n        ...rankingInfo,\n        item,\n        index\n      });\n    }\n    return matches;\n  }\n}\nmatchSorter.rankings = rankings;\n\n/**\n * Gets the highest ranking for value for the given item based on its values for the given keys\n * @param {*} item - the item to rank\n * @param {Array} keys - the keys to get values from the item for the ranking\n * @param {String} value - the value to rank against\n * @param {Object} options - options to control the ranking\n * @return {{rank: Number, keyIndex: Number, keyThreshold: Number}} - the highest ranking\n */\nfunction getHighestRanking(item, keys, value, options) {\n  if (!keys) {\n    // if keys is not specified, then we assume the item given is ready to be matched\n    const stringItem = item;\n    return {\n      // ends up being duplicate of 'item' in matches but consistent\n      rankedValue: stringItem,\n      rank: getMatchRanking(stringItem, value, options),\n      keyIndex: -1,\n      keyThreshold: options.threshold\n    };\n  }\n  const valuesToRank = getAllValuesToRank(item, keys);\n  return valuesToRank.reduce(({\n    rank,\n    rankedValue,\n    keyIndex,\n    keyThreshold\n  }, {\n    itemValue,\n    attributes\n  }, i) => {\n    let newRank = getMatchRanking(itemValue, value, options);\n    let newRankedValue = rankedValue;\n    const {\n      minRanking,\n      maxRanking,\n      threshold\n    } = attributes;\n    if (newRank < minRanking && newRank >= rankings.MATCHES) {\n      newRank = minRanking;\n    } else if (newRank > maxRanking) {\n      newRank = maxRanking;\n    }\n    if (newRank > rank) {\n      rank = newRank;\n      keyIndex = i;\n      keyThreshold = threshold;\n      newRankedValue = itemValue;\n    }\n    return {\n      rankedValue: newRankedValue,\n      rank,\n      keyIndex,\n      keyThreshold\n    };\n  }, {\n    rankedValue: item,\n    rank: rankings.NO_MATCH,\n    keyIndex: -1,\n    keyThreshold: options.threshold\n  });\n}\nfunction* indexesOf(testString, stringToRank) {\n  let index = -1;\n  while ((index = testString.indexOf(stringToRank, index + 1)) > -1) {\n    yield index;\n  }\n  return -1;\n}\n\n/**\n * Gives a rankings score based on how well the two strings match.\n * @param {String} testString - the string to test against\n * @param {String} stringToRank - the string to rank\n * @param {Object} options - options for the match (like keepDiacritics for comparison)\n * @returns {Number} the ranking for how well stringToRank matches testString\n */\nfunction getMatchRanking(testString, stringToRank, options) {\n  testString = prepareValueForComparison(testString, options);\n  stringToRank = prepareValueForComparison(stringToRank, options);\n\n  // too long\n  if (stringToRank.length > testString.length) {\n    return rankings.NO_MATCH;\n  }\n\n  // case sensitive equals\n  if (testString === stringToRank) {\n    return rankings.CASE_SENSITIVE_EQUAL;\n  }\n\n  // Lower casing before further comparison\n  testString = testString.toLowerCase();\n  stringToRank = stringToRank.toLowerCase();\n\n  // Use indexOf to check for equality/includes\n  const indexesOfStringToRankInTestString = indexesOf(testString, stringToRank);\n  const firstIndexOfStringToRankInTestStringResult = indexesOfStringToRankInTestString.next();\n  const indexOfStringToRankInTestString = firstIndexOfStringToRankInTestStringResult.value;\n\n  // case insensitive equals\n  if (testString.length === stringToRank.length && indexOfStringToRankInTestString === 0) {\n    return rankings.EQUAL;\n  }\n\n  // starts with\n  if (indexOfStringToRankInTestString === 0) {\n    return rankings.STARTS_WITH;\n  }\n\n  // word starts with\n  let indexOfStringToRankInTestStringResult = firstIndexOfStringToRankInTestStringResult;\n  while (!indexOfStringToRankInTestStringResult.done) {\n    if (indexOfStringToRankInTestStringResult.value > 0 && testString[indexOfStringToRankInTestStringResult.value - 1] === ' ') {\n      return rankings.WORD_STARTS_WITH;\n    }\n    indexOfStringToRankInTestStringResult = indexesOfStringToRankInTestString.next();\n  }\n\n  // contains\n  if (indexOfStringToRankInTestString > 0) {\n    return rankings.CONTAINS;\n  } else if (stringToRank.length === 1) {\n    // If the only character in the given stringToRank\n    //   isn't even contained in the testString, then\n    //   it's definitely not a match.\n    return rankings.NO_MATCH;\n  }\n\n  // acronym\n  if (getAcronym(testString).includes(stringToRank)) {\n    return rankings.ACRONYM;\n  }\n\n  // will return a number between rankings.MATCHES and\n  // rankings.MATCHES + 1 depending  on how close of a match it is.\n  return getClosenessRanking(testString, stringToRank);\n}\n\n/**\n * Generates an acronym for a string.\n *\n * Segment starts ︱ at the beginning of the phrase, after a **space**, or after a **hyphen**.\n * We capture the first non-delimiter character of every segment and skip runs of delimiters.\n *\n * @example\n *   getAcronym('The Tail-spin Test')  // → \"TTsT\"\n *   getAcronym('edge-case')           // → \"ec\"\n *   getAcronym('multiple  spaces')    // → \"ms\"\n *\n * @param {String} string the string for which to produce the acronym\n * @returns {String} the acronym\n */\nfunction getAcronym(string) {\n  let acronym = '';\n  let prev = ' '; // virtual delimiter so the very first char qualifies\n\n  for (let i = 0; i < string.length; i++) {\n    const ch = string.charAt(i);\n    const prevWasDelimiter = prev === ' ' || prev === '-';\n    const currIsDelimiter = ch === ' ' || ch === '-';\n    if (prevWasDelimiter && !currIsDelimiter) {\n      acronym += ch;\n    }\n    prev = ch;\n  }\n  return acronym;\n}\n\n/**\n * Returns a score based on how spread apart the\n * characters from the stringToRank are within the testString.\n * A number close to rankings.MATCHES represents a loose match. A number close\n * to rankings.MATCHES + 1 represents a tighter match.\n * @param {String} testString - the string to test against\n * @param {String} stringToRank - the string to rank\n * @returns {Number} the number between rankings.MATCHES and\n * rankings.MATCHES + 1 for how well stringToRank matches testString\n */\nfunction getClosenessRanking(testString, stringToRank) {\n  let matchingInOrderCharCount = 0;\n  let charNumber = 0;\n  function findMatchingCharacter(matchChar, string, index) {\n    for (let j = index, J = string.length; j < J; j++) {\n      const stringChar = string[j];\n      if (stringChar === matchChar) {\n        matchingInOrderCharCount += 1;\n        return j + 1;\n      }\n    }\n    return -1;\n  }\n  function getRanking(spread) {\n    const spreadPercentage = 1 / spread;\n    const inOrderPercentage = matchingInOrderCharCount / stringToRank.length;\n    const ranking = rankings.MATCHES + inOrderPercentage * spreadPercentage;\n    return ranking;\n  }\n  const firstIndex = findMatchingCharacter(stringToRank[0], testString, 0);\n  if (firstIndex < 0) {\n    return rankings.NO_MATCH;\n  }\n  charNumber = firstIndex;\n  for (let i = 1, I = stringToRank.length; i < I; i++) {\n    const matchChar = stringToRank[i];\n    charNumber = findMatchingCharacter(matchChar, testString, charNumber);\n    const found = charNumber > -1;\n    if (!found) {\n      return rankings.NO_MATCH;\n    }\n  }\n  const spread = charNumber - firstIndex;\n  return getRanking(spread);\n}\n\n/**\n * Sorts items that have a rank, index, and keyIndex\n * @param {Object} a - the first item to sort\n * @param {Object} b - the second item to sort\n * @return {Number} -1 if a should come first, 1 if b should come first, 0 if equal\n */\nfunction sortRankedValues(a, b, baseSort) {\n  const aFirst = -1;\n  const bFirst = 1;\n  const {\n    rank: aRank,\n    keyIndex: aKeyIndex\n  } = a;\n  const {\n    rank: bRank,\n    keyIndex: bKeyIndex\n  } = b;\n  const same = aRank === bRank;\n  if (same) {\n    if (aKeyIndex === bKeyIndex) {\n      // use the base sort function as a tie-breaker\n      return baseSort(a, b);\n    } else {\n      return aKeyIndex < bKeyIndex ? aFirst : bFirst;\n    }\n  } else {\n    return aRank > bRank ? aFirst : bFirst;\n  }\n}\n\n/**\n * Prepares value for comparison by stringifying it, removing diacritics (if specified)\n * @param {String} value - the value to clean\n * @param {Object} options - {keepDiacritics: whether to remove diacritics}\n * @return {String} the prepared value\n */\nfunction prepareValueForComparison(value, {\n  keepDiacritics\n}) {\n  // value might not actually be a string at this point (we don't get to choose)\n  // so part of preparing the value for comparison is ensure that it is a string\n  value = `${value}`; // toString\n  if (!keepDiacritics) {\n    value = removeAccents(value);\n  }\n  return value;\n}\n\n/**\n * Gets value for key in item at arbitrarily nested keypath\n * @param {Object} item - the item\n * @param {Object|Function} key - the potentially nested keypath or property callback\n * @return {Array} - an array containing the value(s) at the nested keypath\n */\nfunction getItemValues(item, key) {\n  if (typeof key === 'object') {\n    key = key.key;\n  }\n  let value;\n  if (typeof key === 'function') {\n    value = key(item);\n  } else if (item == null) {\n    value = null;\n  } else if (Object.hasOwnProperty.call(item, key)) {\n    value = item[key];\n  } else if (key.includes('.')) {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n    return getNestedValues(key, item);\n  } else {\n    value = null;\n  }\n\n  // because `value` can also be undefined\n  if (value == null) {\n    return [];\n  }\n  if (Array.isArray(value)) {\n    return value;\n  }\n  return [String(value)];\n}\n\n/**\n * Given path: \"foo.bar.baz\"\n * And item: {foo: {bar: {baz: 'buzz'}}}\n *   -> 'buzz'\n * @param path a dot-separated set of keys\n * @param item the item to get the value from\n */\nfunction getNestedValues(path, item) {\n  const keys = path.split('.');\n  let values = [item];\n  for (let i = 0, I = keys.length; i < I; i++) {\n    const nestedKey = keys[i];\n    let nestedValues = [];\n    for (let j = 0, J = values.length; j < J; j++) {\n      const nestedItem = values[j];\n      if (nestedItem == null) continue;\n      if (Object.hasOwnProperty.call(nestedItem, nestedKey)) {\n        const nestedValue = nestedItem[nestedKey];\n        if (nestedValue != null) {\n          nestedValues.push(nestedValue);\n        }\n      } else if (nestedKey === '*') {\n        // ensure that values is an array\n        nestedValues = nestedValues.concat(nestedItem);\n      }\n    }\n    values = nestedValues;\n  }\n  if (Array.isArray(values[0])) {\n    // keep allowing the implicit wildcard for an array of strings at the end of\n    // the path; don't use `.flat()` because that's not available in node.js v10\n    const result = [];\n    return result.concat(...values);\n  }\n  // Based on our logic it should be an array of strings by now...\n  // assuming the user's path terminated in strings\n  return values;\n}\n\n/**\n * Gets all the values for the given keys in the given item and returns an array of those values\n * @param item - the item from which the values will be retrieved\n * @param keys - the keys to use to retrieve the values\n * @return objects with {itemValue, attributes}\n */\nfunction getAllValuesToRank(item, keys) {\n  const allValues = [];\n  for (let j = 0, J = keys.length; j < J; j++) {\n    const key = keys[j];\n    const attributes = getKeyAttributes(key);\n    const itemValues = getItemValues(item, key);\n    for (let i = 0, I = itemValues.length; i < I; i++) {\n      allValues.push({\n        itemValue: itemValues[i],\n        attributes\n      });\n    }\n  }\n  return allValues;\n}\nconst defaultKeyAttributes = {\n  maxRanking: Infinity,\n  minRanking: -Infinity\n};\n/**\n * Gets all the attributes for the given key\n * @param key - the key from which the attributes will be retrieved\n * @return object containing the key's attributes\n */\nfunction getKeyAttributes(key) {\n  if (typeof key === 'string') {\n    return defaultKeyAttributes;\n  }\n  return {\n    ...defaultKeyAttributes,\n    ...key\n  };\n}\n\n/*\neslint\n  no-continue: \"off\",\n*/\n\nexport { defaultBaseSortFn, matchSorter, rankings };\n","import * as React from \"react\";\nfunction AdjustmentsHorizontalIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(AdjustmentsHorizontalIcon);\nexport default ForwardRef;","// Назначение: страница управления коллекциями настроек\n// Основные модули: React, match-sorter, Tabs, services/collections\nimport React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { matchSorter, rankings } from 'match-sorter';\nimport { useTranslation } from 'react-i18next';\nimport { z } from 'zod';\n\nimport { Button } from '@/components/ui/button';\nimport {\n  Tabs,\n  TabsList,\n  TabsTrigger,\n  TabsContent,\n} from '../../components/Tabs';\nimport ActionBar from '../../components/ActionBar';\nimport Breadcrumbs from '../../components/Breadcrumbs';\nimport CopyableId from '../../components/CopyableId';\nimport DataTable from '../../components/DataTable';\nimport Spinner from '../../components/Spinner';\nimport {\n  fetchCollectionItems,\n  fetchAllCollectionItems,\n  createCollectionItem,\n  updateCollectionItem,\n  removeCollectionItem,\n  CollectionItem,\n  toCollectionObject,\n  fetchCollectionObjects,\n} from '../../services/collections';\nimport CollectionForm, { CollectionFormState } from './CollectionForm';\nimport ConfirmDialog from '../../components/ConfirmDialog';\nimport EmployeeCardForm from '../../components/EmployeeCardForm';\nimport Modal from '../../components/Modal';\nimport FleetVehiclesTab from './FleetVehiclesTab';\nimport TaskSettingsTab from './TaskSettingsTab';\nimport AnalyticsDashboard from '../AnalyticsDashboard';\nimport ArchivePage from '../Archive';\nimport LogsPage from '../Logs';\nimport StoragePage from '../Storage';\nimport HealthCheckTab from './HealthCheckTab';\nimport {\n  collectionColumns,\n  collectionObjectColumns,\n  type CollectionTableRow,\n} from '../../columns/collectionColumns';\nimport { settingsUserColumns } from '../../columns/settingsUserColumns';\nimport {\n  settingsEmployeeColumns,\n  type EmployeeRow,\n} from '../../columns/settingsEmployeeColumns';\nimport {\n  fetchUsers,\n  createUser as createUserApi,\n  updateUser as updateUserApi,\n  deleteUser as deleteUserApi,\n  type UserDetails,\n} from '../../services/users';\nimport { fetchRoles, type Role } from '../../services/roles';\nimport { formatRoleName } from '../../utils/roleDisplay';\nimport { buildEmployeeRow } from '../../utils/employeeRow';\nimport UserForm, { UserFormData } from './UserForm';\nimport type { User } from '../../types/user';\nimport { useAuth } from '../../context/useAuth';\nimport {\n  SETTINGS_BADGE_CLASS,\n  SETTINGS_BADGE_EMPTY,\n  SETTINGS_BADGE_WRAPPER_CLASS,\n} from './badgeStyles';\nimport { hasAccess, ACCESS_ADMIN } from '../../utils/access';\nimport { showToast } from '../../utils/toast';\nimport {\n  BuildingOffice2Icon,\n  Squares2X2Icon,\n  IdentificationIcon,\n  UserGroupIcon,\n  TruckIcon,\n  KeyIcon,\n  ClipboardDocumentListIcon,\n  AdjustmentsHorizontalIcon,\n  ChartPieIcon,\n  ArchiveBoxIcon,\n  DocumentTextIcon,\n  RectangleStackIcon,\n  ShieldCheckIcon,\n  MapPinIcon,\n} from '@heroicons/react/24/outline';\n\nconst moduleTabs = [\n  {\n    key: 'directories',\n    label: 'Справочники',\n    description: 'Структура компании и доступы',\n    icon: AdjustmentsHorizontalIcon,\n  },\n  {\n    key: 'reports',\n    label: 'Отчёты',\n    description: 'Аналитика процессов и KPI',\n    icon: ChartPieIcon,\n  },\n  {\n    key: 'archive',\n    label: 'Архив',\n    description: 'История задач и записей',\n    icon: ArchiveBoxIcon,\n  },\n  {\n    key: 'logs',\n    label: 'Логи',\n    description: 'Журнал действий и событий',\n    icon: DocumentTextIcon,\n  },\n  {\n    key: 'storage',\n    label: 'Файлы',\n    description: 'Управление вложениями',\n    icon: RectangleStackIcon,\n  },\n  {\n    key: 'health',\n    label: 'Мониторинг',\n    description: 'Проверка прокси, Redis и MongoDB',\n    icon: ShieldCheckIcon,\n  },\n] as const;\n\ntype SettingsModuleKey = (typeof moduleTabs)[number]['key'];\n\nconst isValidModuleKey = (value: string | null): value is SettingsModuleKey =>\n  moduleTabs.some((module) => module.key === value);\n\nconst types = [\n  {\n    key: 'departments',\n    label: 'Департамент',\n    description: 'Структура компании и направления',\n  },\n  {\n    key: 'divisions',\n    label: 'Отдел',\n    description: 'Команды внутри департаментов',\n  },\n  {\n    key: 'positions',\n    label: 'Должность',\n    description: 'Роли и рабочие позиции',\n  },\n  {\n    key: 'objects',\n    label: 'Объект',\n    description: 'Адреса и координаты площадок',\n  },\n  {\n    key: 'employees',\n    label: 'Сотрудник',\n    description: 'Карточки и доступы сотрудников',\n  },\n  {\n    key: 'fleets',\n    label: 'Автопарк',\n    description: 'Транспорт и связанный состав',\n  },\n  {\n    key: 'users',\n    label: 'Пользователь',\n    description: 'Учётные записи в системе',\n  },\n  {\n    key: 'tasks',\n    label: 'Задачи',\n    description: 'Поля формы и темы публикаций',\n  },\n] as const;\n\ntype CollectionKey = (typeof types)[number]['key'];\n\nconst createInitialQueries = (): Record<CollectionKey, string> =>\n  types.reduce(\n    (acc, type) => {\n      acc[type.key as CollectionKey] = '';\n      return acc;\n    },\n    {} as Record<CollectionKey, string>,\n  );\n\nconst emptyUser: UserFormData = {\n  telegram_id: undefined,\n  username: '',\n  name: '',\n  phone: '',\n  mobNumber: '',\n  email: '',\n  role: 'user',\n  access: 1,\n  roleId: '',\n  departmentId: '',\n  divisionId: '',\n  positionId: '',\n};\n\nconst emptyItemForm: ItemForm = {\n  name: '',\n  value: '',\n  meta: undefined,\n  address: '',\n  latitude: '',\n  longitude: '',\n};\n\nconst tabIcons: Record<\n  CollectionKey,\n  React.ComponentType<React.SVGProps<SVGSVGElement>>\n> = {\n  departments: BuildingOffice2Icon,\n  divisions: Squares2X2Icon,\n  positions: IdentificationIcon,\n  objects: MapPinIcon,\n  employees: UserGroupIcon,\n  fleets: TruckIcon,\n  users: KeyIcon,\n  tasks: ClipboardDocumentListIcon,\n};\n\nconst renderBadgeList = (items: string[]) => {\n  if (!items.length) {\n    return (\n      <span className={SETTINGS_BADGE_CLASS} title={SETTINGS_BADGE_EMPTY}>\n        {SETTINGS_BADGE_EMPTY}\n      </span>\n    );\n  }\n  return (\n    <div className={SETTINGS_BADGE_WRAPPER_CLASS}>\n      {items.map((item, index) => (\n        <span\n          key={`${item}-${index}`}\n          className={SETTINGS_BADGE_CLASS}\n          title={item}\n        >\n          {item}\n        </span>\n      ))}\n    </div>\n  );\n};\n\ntype ItemForm = CollectionFormState & { meta?: CollectionItem['meta'] };\n\nconst normalizeId = (value: string) => {\n  const trimmed = value.trim();\n  if (!trimmed) return '';\n  const withoutQuotes = trimmed.replace(/^['\"]+|['\"]+$/g, '');\n  const withoutBrackets = withoutQuotes.replace(/^\\[+|\\]+$/g, '');\n  const withoutBraces = withoutBrackets.replace(/^[{}]+|[{}]+$/g, '');\n  const withoutTrailingComma = withoutBraces.replace(/,+$/g, '');\n  return withoutTrailingComma.trim();\n};\n\nconst collectStringIds = (value: unknown): string[] => {\n  if (typeof value === 'string') {\n    return [value];\n  }\n  if (Array.isArray(value)) {\n    return value.flatMap(collectStringIds);\n  }\n  if (value && typeof value === 'object') {\n    const result: string[] = [];\n    Object.entries(value as Record<string, unknown>).forEach(([key, entry]) => {\n      if (Array.isArray(entry) || (entry && typeof entry === 'object')) {\n        result.push(...collectStringIds(entry));\n        return;\n      }\n      if (typeof entry === 'string') {\n        const trimmed = entry.trim();\n        if (!trimmed) return;\n        const lowerKey = key.toLowerCase();\n        if (lowerKey.includes('id') || !/\\s/.test(trimmed)) {\n          result.push(trimmed);\n        }\n        return;\n      }\n      if (typeof entry === 'boolean' || typeof entry === 'number') {\n        if (entry) {\n          result.push(key);\n        }\n      }\n    });\n    return result;\n  }\n  return [];\n};\n\nconst KEY_LABEL_OVERRIDES: Record<string, string> = {\n  telegram_id: 'Telegram ID',\n  telegram_username: 'Логин Telegram',\n  username: 'Логин',\n  name: 'Имя',\n  phone: 'Телефон',\n  mobNumber: 'Моб. номер',\n  email: 'E-mail',\n  role: 'Роль',\n  access: 'Доступ',\n  roleId: 'Роль ID',\n  departmentId: 'Департамент',\n  departmentName: 'Департамент',\n  divisionId: 'Отдел',\n  divisionName: 'Отдел',\n  positionId: 'Должность',\n  positionName: 'Должность',\n  permissions: 'Права',\n  fleetId: 'Автопарк',\n  source: 'Источник',\n  sourceId: 'ID источника',\n  readonly: 'Только чтение',\n  readonlyReason: 'Причина ограничения',\n  invalid: 'Некорректен',\n  invalidReason: 'Причина ошибки',\n  invalidCode: 'Код ошибки',\n  invalidAt: 'Ошибка от',\n  syncPending: 'Ожидает синхронизации',\n  syncWarning: 'Предупреждение',\n  syncError: 'Ошибка синхронизации',\n  syncFailedAt: 'Сбой синхронизации',\n  defaultLabel: 'Название по умолчанию',\n  fieldType: 'Тип поля',\n  required: 'Обязательное',\n  order: 'Порядок',\n  virtual: 'Системный элемент',\n  tg_theme_url: 'Тема Telegram',\n  tg_chat_id: 'ID чата',\n  tg_topic_id: 'ID темы',\n  tg_photos_url: 'Тема для фото',\n  tg_photos_chat_id: 'ID чата фото',\n  tg_photos_topic_id: 'ID темы фото',\n};\n\nconst formatKeyLabel = (key: string): string => {\n  const override = KEY_LABEL_OVERRIDES[key];\n  if (override) return override;\n  const normalized = key\n    .replace(/[_-]+/g, ' ')\n    .replace(/([a-z])([A-Z])/g, '$1 $2')\n    .trim();\n  if (!normalized) return key;\n  return normalized.charAt(0).toUpperCase() + normalized.slice(1);\n};\n\nconst formatSummaryValue = (value: unknown): string => {\n  if (value === null || value === undefined) return '';\n  if (typeof value === 'boolean') {\n    return value ? 'Да' : 'Нет';\n  }\n  if (typeof value === 'number') {\n    return Number.isFinite(value) ? String(value) : '';\n  }\n  if (typeof value === 'string') {\n    const trimmed = value.trim();\n    return trimmed;\n  }\n  if (Array.isArray(value)) {\n    const formatted = value\n      .map((item) => formatSummaryValue(item))\n      .filter(Boolean);\n    return formatted.join(', ');\n  }\n  if (value instanceof Date) {\n    return value.toISOString();\n  }\n  if (typeof value === 'object') {\n    const entries = Object.entries(value as Record<string, unknown>)\n      .map(([key, nested]) => {\n        const formatted = formatSummaryValue(nested);\n        if (!formatted) return '';\n        return `${formatKeyLabel(key)}=${formatted}`;\n      })\n      .filter(Boolean);\n    return entries.join('; ');\n  }\n  return '';\n};\n\nconst summarizeRecord = (record?: Record<string, unknown>): string => {\n  if (!record) return '';\n  const entries = Object.entries(record)\n    .map(([key, value]) => {\n      const formatted = formatSummaryValue(value);\n      if (!formatted) return '';\n      return `${formatKeyLabel(key)}: ${formatted}`;\n    })\n    .filter(Boolean);\n  return entries.join('\\n');\n};\n\nconst tryParseJsonValue = (raw: string): unknown => {\n  try {\n    return JSON.parse(raw);\n  } catch {\n    return undefined;\n  }\n};\n\nconst formatCollectionRawValue = (raw: string): string => {\n  const trimmed = raw.trim();\n  if (!trimmed) return '';\n  const parsed =\n    trimmed.startsWith('{') || trimmed.startsWith('[')\n      ? tryParseJsonValue(trimmed)\n      : undefined;\n  if (Array.isArray(parsed)) {\n    const formatted = parsed\n      .map((item) => formatSummaryValue(item))\n      .filter(Boolean);\n    if (formatted.length) {\n      return formatted.join('\\n');\n    }\n  } else if (parsed && typeof parsed === 'object') {\n    const summary = summarizeRecord(parsed as Record<string, unknown>);\n    if (summary) {\n      return summary;\n    }\n  }\n  if (trimmed.includes(',')) {\n    const parts = trimmed\n      .split(',')\n      .map((part) => part.trim())\n      .filter(Boolean);\n    if (parts.length > 1) {\n      return parts.join('\\n');\n    }\n  }\n  return trimmed;\n};\n\nconst IdsSchema = z\n  .preprocess((input) => {\n    if (input === null || input === undefined) {\n      return [];\n    }\n    if (typeof input === 'string') {\n      const trimmed = input.trim();\n      if (!trimmed) {\n        return [];\n      }\n      if (trimmed.startsWith('{') || trimmed.startsWith('[')) {\n        try {\n          const parsed = JSON.parse(trimmed);\n          return collectStringIds(parsed);\n        } catch {\n          // игнорируем ошибки парсинга и переходим к разбору по разделителю\n        }\n      }\n      return trimmed\n        .split(',')\n        .map((part) => part.trim())\n        .filter(Boolean);\n    }\n    if (Array.isArray(input) || (input && typeof input === 'object')) {\n      return collectStringIds(input);\n    }\n    return [String(input)];\n  }, z.array(z.string()))\n  .transform((values) => {\n    const normalized = values\n      .map((value) => normalizeId(String(value)))\n      .filter((value) => value.length > 0);\n    return Array.from(new Set(normalized));\n  });\n\nconst safeParseIds = (value: unknown): string[] => {\n  const result = IdsSchema.safeParse(value);\n  return result.success ? result.data : [];\n};\n\nconst mergeById = <T extends { _id: string }>(\n  current: T[],\n  incoming: T[],\n): T[] => {\n  if (!incoming.length) {\n    return current;\n  }\n  const merged = current.slice();\n  const indexById = new Map<string, number>();\n  merged.forEach((item, index) => {\n    indexById.set(item._id, index);\n  });\n  let changed = false;\n  incoming.forEach((item) => {\n    const index = indexById.get(item._id);\n    if (typeof index === 'number') {\n      if (merged[index] !== item) {\n        merged[index] = item;\n        changed = true;\n      }\n      return;\n    }\n    indexById.set(item._id, merged.length);\n    merged.push(item);\n    changed = true;\n  });\n  return changed ? merged : current;\n};\n\nconst resolveReferenceName = (\n  map: Map<string, string>,\n  id?: string | null,\n  fallbackName?: string | null,\n): string => {\n  const directName =\n    typeof fallbackName === 'string' && fallbackName.trim().length\n      ? fallbackName.trim()\n      : '';\n  if (directName) return directName;\n  if (typeof id !== 'string') return '';\n  const trimmed = id.trim();\n  if (!trimmed) return '';\n  return map.get(trimmed) ?? trimmed;\n};\n\ntype EmployeeDetailsIndex = {\n  byId: Map<string, Partial<User>>;\n  byTelegramUsername: Map<string, Partial<User>>;\n  byUsername: Map<string, Partial<User>>;\n};\n\nconst readValue = (\n  source: Record<string, unknown>,\n  keys: string[],\n): unknown => {\n  for (const key of keys) {\n    if (key in source) return source[key];\n  }\n  const lowerCaseSource: Record<string, unknown> = {};\n  Object.entries(source).forEach(([key, value]) => {\n    lowerCaseSource[key.toLowerCase()] = value;\n  });\n  for (const key of keys) {\n    const lowerKey = key.toLowerCase();\n    if (lowerKey in lowerCaseSource) return lowerCaseSource[lowerKey];\n  }\n  return undefined;\n};\n\nconst pickString = (\n  source: Record<string, unknown>,\n  keys: string[],\n  fallback?: string,\n): string | undefined => {\n  const raw = readValue(source, keys);\n  if (typeof raw === 'string') {\n    const trimmed = raw.trim();\n    if (trimmed.length) return trimmed;\n  }\n  if (typeof raw === 'number' && Number.isFinite(raw)) {\n    return String(raw);\n  }\n  if (typeof fallback === 'string') {\n    const trimmed = fallback.trim();\n    if (trimmed.length) return trimmed;\n  }\n  return undefined;\n};\n\nconst pickNumber = (\n  source: Record<string, unknown>,\n  keys: string[],\n): number | undefined => {\n  const raw = readValue(source, keys);\n  if (typeof raw === 'number' && Number.isFinite(raw)) {\n    return raw;\n  }\n  if (typeof raw === 'string') {\n    const trimmed = raw.trim();\n    if (!trimmed) return undefined;\n    const parsed = Number(trimmed);\n    if (Number.isFinite(parsed)) {\n      return parsed;\n    }\n  }\n  return undefined;\n};\n\nconst pickStringArray = (\n  source: Record<string, unknown>,\n  keys: string[],\n): string[] | undefined => {\n  const raw = readValue(source, keys);\n  if (!Array.isArray(raw)) return undefined;\n  const normalized = raw\n    .filter((item): item is string => typeof item === 'string')\n    .map((item) => item.trim())\n    .filter((item) => item.length > 0);\n  return normalized.length ? normalized : undefined;\n};\n\nconst collectEmployeeDetails = (\n  item: CollectionItem,\n): Partial<User> | undefined => {\n  if (item.type !== 'employees') return undefined;\n  const parts: Record<string, unknown>[] = [];\n  if (item.meta && typeof item.meta === 'object') {\n    parts.push(item.meta as Record<string, unknown>);\n  }\n  const rawValue = item.value;\n  if (typeof rawValue === 'string') {\n    const trimmed = rawValue.trim();\n    if (trimmed) {\n      try {\n        const parsed = JSON.parse(trimmed);\n        if (parsed && typeof parsed === 'object' && !Array.isArray(parsed)) {\n          parts.push(parsed as Record<string, unknown>);\n        }\n      } catch {\n        // игнорируем значения, которые не являются JSON\n      }\n    }\n  } else if (\n    rawValue &&\n    typeof rawValue === 'object' &&\n    !Array.isArray(rawValue)\n  ) {\n    parts.push(rawValue as Record<string, unknown>);\n  }\n\n  if (!parts.length) {\n    const name = item.name?.trim();\n    return name ? { name } : undefined;\n  }\n\n  const combined = parts.reduce<Record<string, unknown>>(\n    (acc, part) => ({ ...acc, ...part }),\n    {},\n  );\n\n  const details: Partial<User> = {};\n  const telegramId = pickNumber(combined, ['telegram_id', 'telegramId', 'id']);\n  if (typeof telegramId === 'number') {\n    details.telegram_id = telegramId;\n  }\n  const telegramUsername = pickString(combined, [\n    'telegram_username',\n    'telegramUsername',\n    'telegram_login',\n    'telegramLogin',\n  ]);\n  if (telegramUsername) {\n    details.telegram_username = telegramUsername;\n  }\n  const username = pickString(combined, ['username', 'login']);\n  if (username) {\n    details.username = username;\n  }\n  const name = pickString(combined, ['name', 'fullName'], item.name);\n  const firstName = pickString(combined, ['firstName', 'first_name']);\n  const lastName = pickString(combined, [\n    'lastName',\n    'last_name',\n    'surname',\n    'familyName',\n  ]);\n  const middleName = pickString(combined, [\n    'middleName',\n    'middle_name',\n    'patronymic',\n  ]);\n  if (name) {\n    details.name = name;\n  } else {\n    const parts = [lastName, firstName, middleName].filter(\n      (part): part is string =>\n        typeof part === 'string' && part.trim().length > 0,\n    );\n    if (parts.length) {\n      details.name = parts.join(' ');\n    }\n  }\n  const phone = pickString(combined, ['phone', 'phone_number', 'phoneNumber']);\n  if (phone) {\n    details.phone = phone;\n  }\n  const mobNumber = pickString(combined, [\n    'mobNumber',\n    'mobile',\n    'mobile_phone',\n    'mobilePhone',\n  ]);\n  if (mobNumber) {\n    details.mobNumber = mobNumber;\n  }\n  const email = pickString(combined, ['email', 'mail']);\n  if (email) {\n    details.email = email;\n  }\n  const role = pickString(combined, ['role', 'roleName']);\n  if (role) {\n    details.role = role;\n  }\n  const access = pickNumber(combined, [\n    'access',\n    'access_level',\n    'accessLevel',\n  ]);\n  if (typeof access === 'number') {\n    details.access = access;\n  }\n  const roleId = pickString(combined, ['roleId', 'role_id']);\n  if (roleId) {\n    details.roleId = roleId;\n  }\n  const roleName = pickString(combined, ['roleName']);\n  if (roleName) {\n    details.roleName = roleName;\n  }\n  const departmentId = pickString(combined, ['departmentId', 'department_id']);\n  if (departmentId) {\n    details.departmentId = departmentId;\n  }\n  const departmentName = pickString(combined, ['departmentName']);\n  if (departmentName) {\n    details.departmentName = departmentName;\n  }\n  const divisionId = pickString(combined, ['divisionId', 'division_id']);\n  if (divisionId) {\n    details.divisionId = divisionId;\n  }\n  const divisionName = pickString(combined, ['divisionName']);\n  if (divisionName) {\n    details.divisionName = divisionName;\n  }\n  const positionId = pickString(combined, ['positionId', 'position_id']);\n  if (positionId) {\n    details.positionId = positionId;\n  }\n  const positionName = pickString(combined, ['positionName']);\n  if (positionName) {\n    details.positionName = positionName;\n  }\n  const permissions = pickStringArray(combined, ['permissions']);\n  if (permissions) {\n    details.permissions = permissions;\n  }\n\n  return Object.keys(details).length ? details : undefined;\n};\n\nconst buildEmployeeDetailsIndex = (\n  items: CollectionItem[],\n): EmployeeDetailsIndex => {\n  const index: EmployeeDetailsIndex = {\n    byId: new Map(),\n    byTelegramUsername: new Map(),\n    byUsername: new Map(),\n  };\n  items.forEach((item) => {\n    const details = collectEmployeeDetails(item);\n    if (!details) return;\n    if (typeof details.telegram_id === 'number') {\n      index.byId.set(String(details.telegram_id), details);\n    }\n    if (typeof details.telegram_username === 'string') {\n      index.byTelegramUsername.set(\n        details.telegram_username.toLowerCase(),\n        details,\n      );\n    }\n    if (typeof details.username === 'string') {\n      index.byUsername.set(details.username.toLowerCase(), details);\n    }\n  });\n  return index;\n};\n\nconst mergeEmployeeDetails = (user: User, details?: Partial<User>): User => {\n  if (!details) return user;\n  const result: User = { ...user };\n  const assignNumber = <K extends keyof User>(key: K) => {\n    const next = details[key];\n    if (typeof next !== 'number' || !Number.isFinite(next)) return;\n    const current = result[key];\n    if (typeof current === 'number' && Number.isFinite(current)) return;\n    result[key] = next as User[K];\n  };\n  const assignString = <K extends keyof User>(key: K) => {\n    const next = details[key];\n    if (next === undefined || next === null) return;\n    const normalized =\n      typeof next === 'string'\n        ? next.trim()\n        : typeof next === 'number' && Number.isFinite(next)\n          ? String(next)\n          : '';\n    if (!normalized) return;\n    const current = result[key];\n    if (\n      current === undefined ||\n      current === null ||\n      (typeof current === 'string' && !current.trim())\n    ) {\n      result[key] = normalized as User[K];\n    }\n  };\n\n  assignNumber('telegram_id');\n  assignString('telegram_username');\n  assignString('username');\n  assignString('name');\n  assignString('phone');\n  assignString('mobNumber');\n  assignString('email');\n  assignString('role');\n  assignNumber('access');\n  assignString('roleId');\n  assignString('roleName');\n  assignString('departmentId');\n  assignString('departmentName');\n  assignString('divisionId');\n  assignString('divisionName');\n  assignString('positionId');\n  assignString('positionName');\n  if (\n    (!result.permissions || !result.permissions.length) &&\n    Array.isArray(details.permissions) &&\n    details.permissions.length\n  ) {\n    result.permissions = details.permissions.slice();\n  }\n  return result;\n};\n\nconst TOKEN_SPLIT_REGEX = /[\\s,.;:/\\\\|_-]+/u;\n\nconst buildUserSearchTokens = (user: User): string[] => {\n  const tokens = new Set<string>();\n  const addValue = (value?: string | number | null) => {\n    if (value === undefined || value === null) return;\n    let text: string;\n    if (typeof value === 'number') {\n      if (!Number.isFinite(value)) return;\n      text = String(value);\n    } else if (typeof value === 'string') {\n      text = value.trim();\n    } else {\n      return;\n    }\n    if (!text) return;\n    tokens.add(text);\n    text\n      .split(TOKEN_SPLIT_REGEX)\n      .map((part) => part.trim())\n      .filter((part) => part.length > 0)\n      .forEach((part) => tokens.add(part));\n  };\n\n  addValue(user.username ?? undefined);\n  addValue(user.telegram_username ?? undefined);\n  addValue(user.telegram_id ?? undefined);\n  addValue(user.name ?? undefined);\n  addValue(user.phone ?? undefined);\n  addValue(user.mobNumber ?? undefined);\n  addValue(user.email ?? undefined);\n  addValue(user.role ?? undefined);\n  addValue(user.roleName ?? undefined);\n  addValue(user.departmentName ?? undefined);\n  addValue(user.divisionName ?? undefined);\n  addValue(user.positionName ?? undefined);\n  if (Array.isArray(user.permissions)) {\n    user.permissions.forEach((permission) => addValue(permission));\n  }\n\n  return Array.from(tokens);\n};\n\nconst findEmployeeDetails = (\n  user: User | undefined,\n  index: EmployeeDetailsIndex,\n  fallbackId?: string,\n): Partial<User> | undefined => {\n  const candidateId = fallbackId\n    ? fallbackId.trim()\n    : typeof user?.telegram_id === 'number'\n      ? String(user.telegram_id)\n      : undefined;\n  if (candidateId) {\n    const direct = index.byId.get(candidateId);\n    if (direct) return direct;\n  }\n  const telegramUsername =\n    typeof user?.telegram_username === 'string'\n      ? user.telegram_username.trim().toLowerCase()\n      : undefined;\n  if (telegramUsername) {\n    const direct = index.byTelegramUsername.get(telegramUsername);\n    if (direct) return direct;\n  }\n  const username =\n    typeof user?.username === 'string'\n      ? user.username.trim().toLowerCase()\n      : undefined;\n  if (username) {\n    const direct = index.byUsername.get(username);\n    if (direct) return direct;\n  }\n  return undefined;\n};\n\nconst USERS_ERROR_HINT = 'Не удалось загрузить пользователей';\nconst DUPLICATE_DIVISION_HINT_PREFIX = 'Обнаружены дублирующиеся отделы';\nconst TASK_SETTINGS_ERROR_HINT = 'Не удалось загрузить настройки задач';\nconst TASK_FIELD_SAVE_ERROR = 'Не удалось сохранить поле задачи';\nconst TASK_TYPE_SAVE_ERROR = 'Не удалось сохранить тип задачи';\nconst TASK_SETTINGS_DELETE_ERROR = 'Не удалось удалить настройку задачи';\nconst USER_DELETE_SUCCESS = 'Пользователь удалён';\nconst USER_DELETE_ERROR = 'Не удалось удалить пользователя';\nconst EMPLOYEE_DELETE_SUCCESS = 'Сотрудник удалён';\nconst EMPLOYEE_DELETE_ERROR = 'Не удалось удалить сотрудника';\n\ntype CollectionColumn =\n  | (typeof collectionColumns)[number]\n  | (typeof collectionObjectColumns)[number];\n\nconst hasAccessorKey = (\n  column: CollectionColumn,\n): column is CollectionColumn & { accessorKey: string } =>\n  typeof (column as { accessorKey?: unknown }).accessorKey === 'string';\n  \n \nconst formatCoordinatesValue = (latitude?: number, longitude?: number): string => {\n  const parts: string[] = [];\n  if (typeof latitude === 'number' && Number.isFinite(latitude)) {\n    parts.push(latitude.toString());\n  }\n  if (typeof longitude === 'number' && Number.isFinite(longitude)) {\n    parts.push(longitude.toString());\n  }\n  if (!parts.length) return SETTINGS_BADGE_EMPTY;\n  return parts.join(', ');\n};\nconst formatCoordinates = formatCoordinatesValue; \n  \nexport default function CollectionsPage() {\n  const { t } = useTranslation();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [activeModule, setActiveModule] = useState<SettingsModuleKey>(() => {\n    const param = searchParams.get('module');\n    return isValidModuleKey(param) ? param : 'directories';\n  });\n  const [active, setActive] = useState<CollectionKey>('departments');\n  const [items, setItems] = useState<CollectionItem[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [total, setTotal] = useState(0);\n  const [page, setPage] = useState(1);\n  const [queries, setQueries] = useState<Record<CollectionKey, string>>(() =>\n    createInitialQueries(),\n  );\n  const [searchDrafts, setSearchDrafts] = useState<\n    Record<CollectionKey, string>\n  >(() => createInitialQueries());\n  const [form, setForm] = useState<ItemForm>(emptyItemForm);\n  const [hint, setHint] = useState('');\n  const [allDepartments, setAllDepartments] = useState<CollectionItem[]>([]);\n  const [allDivisions, setAllDivisions] = useState<CollectionItem[]>([]);\n  const [allPositions, setAllPositions] = useState<CollectionItem[]>([]);\n  const [allRoles, setAllRoles] = useState<Role[]>([]);\n  const limit = 10;\n  const [users, setUsers] = useState<User[]>([]);\n  const [userPage, setUserPage] = useState(1);\n  const [userQuery, setUserQuery] = useState('');\n  const [userSearchDraft, setUserSearchDraft] = useState('');\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [userForm, setUserForm] = useState<UserFormData>(emptyUser);\n  const [collectionModalOpen, setCollectionModalOpen] = useState(false);\n  const [selectedCollection, setSelectedCollection] =\n    useState<CollectionItem | null>(null);\n  const collectionSearchTimer = useRef<number>();\n  const [selectedEmployeeId, setSelectedEmployeeId] = useState<\n    string | undefined\n  >(undefined);\n  const [isEmployeeModalOpen, setIsEmployeeModalOpen] = useState(false);\n  const [employeeFormMode, setEmployeeFormMode] = useState<'create' | 'update'>(\n    'create',\n  );\n  const [taskFieldItems, setTaskFieldItems] = useState<CollectionItem[]>([]);\n  const [taskTypeItems, setTaskTypeItems] = useState<CollectionItem[]>([]);\n  const [tasksLoading, setTasksLoading] = useState(false);\n  const { user: currentUser } = useAuth();\n  const [confirmUserDelete, setConfirmUserDelete] = useState(false);\n  const [confirmEmployeeDelete, setConfirmEmployeeDelete] = useState(false);\n  const canManageUsers = hasAccess(currentUser?.access, ACCESS_ADMIN);\n  const actionButtonClass =\n    'h-10 w-full max-w-[11rem] px-3 text-sm font-semibold sm:w-auto lg:h-8 lg:text-xs';\n\n  useEffect(() => {\n    return () => {\n      if (collectionSearchTimer.current) {\n        window.clearTimeout(collectionSearchTimer.current);\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    const param = searchParams.get('module');\n    const next = isValidModuleKey(param) ? param : 'directories';\n    if (next !== activeModule) {\n      setActiveModule(next);\n    }\n  }, [searchParams, activeModule]);\n\n  const handleModuleChange = useCallback(\n    (value: SettingsModuleKey) => {\n      setActiveModule(value);\n      const next = new URLSearchParams(searchParams.toString());\n      if (value === 'directories') {\n        next.delete('module');\n      } else {\n        next.set('module', value);\n      }\n      setSearchParams(next, { replace: true });\n    },\n    [searchParams, setSearchParams],\n  );\n  const selectedCollectionInfo = useMemo(() => {\n    if (\n      !selectedCollection?.meta ||\n      typeof selectedCollection.meta !== 'object'\n    ) {\n      return { readonly: false, notice: undefined as string | undefined };\n    }\n    const meta = selectedCollection.meta as {\n      readonly?: unknown;\n      legacy?: unknown;\n      readonlyReason?: unknown;\n    };\n    const readonly = Boolean(meta.readonly ?? meta.legacy);\n    const notice = readonly\n      ? typeof meta.readonlyReason === 'string'\n        ? meta.readonlyReason\n        : meta.legacy\n          ? 'Элемент перенесён из старой коллекции и доступен только для чтения.'\n          : undefined\n      : undefined;\n    return { readonly, notice };\n  }, [selectedCollection]);\n\n  const selectedObjectDetails = useMemo(\n    () =>\n      selectedCollection?.type === 'objects'\n        ? toCollectionObject(selectedCollection)\n        : null,\n    [selectedCollection],\n  );\n\n  const breadcrumbs = useMemo(\n    () => [\n      { label: t('nav.settings'), href: '/settings' },\n      { label: t('collections.page.title') },\n    ],\n    [t],\n  );\n\n  const currentQuery = queries[active] ?? '';\n  const currentSearchDraft = searchDrafts[active] ?? '';\n  const isCollectionSearchSupported =\n    activeModule === 'directories' &&\n    active !== 'users' &&\n    active !== 'fleets' &&\n    active !== 'tasks';\n  const isUserSearchActive =\n    activeModule === 'directories' && active === 'users';\n  const isEmployeeSearchActive =\n    activeModule === 'directories' && active === 'employees';\n\n  const applyCollectionSearch = useCallback(\n    (raw: string) => {\n      const normalized = raw.trim();\n      setPage(1);\n      setQueries((prev) => {\n        if (prev[active] === normalized) {\n          return prev;\n        }\n        return { ...prev, [active]: normalized };\n      });\n    },\n    [active],\n  );\n\n  useEffect(() => {\n    setSearchDrafts((prev) => ({ ...prev, [active]: currentQuery }));\n  }, [active, currentQuery]);\n\n  useEffect(() => {\n    if (!isCollectionSearchSupported) {\n      return;\n    }\n    if (collectionSearchTimer.current) {\n      window.clearTimeout(collectionSearchTimer.current);\n    }\n    collectionSearchTimer.current = window.setTimeout(() => {\n      applyCollectionSearch(currentSearchDraft);\n    }, 400);\n    return () => {\n      if (collectionSearchTimer.current) {\n        window.clearTimeout(collectionSearchTimer.current);\n      }\n    };\n  }, [applyCollectionSearch, currentSearchDraft, isCollectionSearchSupported]);\n\n  const load = useCallback(async () => {\n    if (active === 'users' || active === 'tasks') {\n      setIsLoading(false);\n      return;\n    }\n    setIsLoading(true);\n    try {\n      if (active === 'fleets') {\n        setItems([]);\n        setTotal(0);\n        setHint('');\n        return;\n      }\n      if (active === 'employees') {\n        const list = await fetchAllCollectionItems('employees');\n        setItems(list);\n        setTotal(list.length);\n        setHint('');\n        return;\n      }\n      if (active === 'objects') {\n        const { items: loadedItems, total: loadedTotal } =\n          await fetchCollectionObjects(currentQuery, page, limit);\n        setItems(loadedItems);\n        setTotal(loadedTotal);\n        setHint('');\n        return;\n      }\n      const d = (await fetchCollectionItems(\n        active,\n        currentQuery,\n        page,\n        limit,\n      )) as { items: CollectionItem[]; total: number };\n      setItems(d.items);\n      setTotal(d.total);\n      if (active === 'departments') {\n        setAllDepartments((prev) => mergeById(prev, d.items));\n      }\n      if (active === 'divisions') {\n        setAllDivisions((prev) => mergeById(prev, d.items));\n      }\n      if (active === 'positions') {\n        setAllPositions((prev) => mergeById(prev, d.items));\n      }\n      setHint('');\n    } catch (error) {\n      const message =\n        error instanceof Error\n          ? error.message\n          : 'Не удалось загрузить элементы';\n      setItems([]);\n      setTotal(0);\n      setHint(message);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [active, currentQuery, page]);\n\n  const loadUsers = useCallback(async () => {\n    try {\n      const list = await fetchUsers();\n      setUsers(list);\n      setHint((prev) => (prev === USERS_ERROR_HINT ? '' : prev));\n    } catch (error) {\n      const message = error instanceof Error ? error.message : USERS_ERROR_HINT;\n      setUsers([]);\n      setHint(message || USERS_ERROR_HINT);\n    }\n  }, []);\n\n  const loadTaskSettings = useCallback(async () => {\n    setTasksLoading(true);\n    try {\n      const [fields, types] = await Promise.all([\n        fetchAllCollectionItems('task_fields'),\n        fetchAllCollectionItems('task_types'),\n      ]);\n      setTaskFieldItems(fields);\n      setTaskTypeItems(types);\n      setHint((prev) => (prev === TASK_SETTINGS_ERROR_HINT ? '' : prev));\n    } catch (error) {\n      const message =\n        error instanceof Error ? error.message : TASK_SETTINGS_ERROR_HINT;\n      setTaskFieldItems([]);\n      setTaskTypeItems([]);\n      setHint(message || TASK_SETTINGS_ERROR_HINT);\n    } finally {\n      setTasksLoading(false);\n    }\n  }, [setHint]);\n\n  useEffect(() => {\n    if (active === 'tasks') {\n      void loadTaskSettings();\n    }\n  }, [active, loadTaskSettings]);\n\n  const saveTaskField = useCallback(\n    async (item: CollectionItem, label: string) => {\n      const trimmed = label.trim();\n      if (!trimmed) {\n        throw new Error('Название не может быть пустым');\n      }\n      try {\n        if (item.meta?.virtual) {\n          await createCollectionItem('task_fields', {\n            name: item.name,\n            value: trimmed,\n          });\n        } else {\n          await updateCollectionItem(\n            item._id,\n            { name: item.name, value: trimmed },\n            { collectionType: 'task_fields' },\n          );\n        }\n        await loadTaskSettings();\n      } catch (error) {\n        const message =\n          error instanceof Error ? error.message : TASK_FIELD_SAVE_ERROR;\n        throw new Error(message || TASK_FIELD_SAVE_ERROR);\n      }\n    },\n    [loadTaskSettings],\n  );\n\n  const deleteTaskField = useCallback(\n    async (item: CollectionItem) => {\n      if (item.meta?.virtual) {\n        return;\n      }\n      try {\n        await removeCollectionItem(item._id);\n        await loadTaskSettings();\n      } catch (error) {\n        const message =\n          error instanceof Error ? error.message : TASK_SETTINGS_DELETE_ERROR;\n        throw new Error(message || TASK_SETTINGS_DELETE_ERROR);\n      }\n    },\n    [loadTaskSettings],\n  );\n\n  const saveTaskType = useCallback(\n    async (\n      item: CollectionItem,\n      payload: { label: string; tg_theme_url: string; tg_photos_url: string },\n    ) => {\n      const trimmedLabel = payload.label.trim();\n      if (!trimmedLabel) {\n        throw new Error('Название не может быть пустым');\n      }\n      const trimmedUrl = payload.tg_theme_url.trim();\n      const trimmedPhotosUrl = payload.tg_photos_url.trim();\n      try {\n        const buildMeta = () => {\n          const meta: Record<string, string> = {};\n          if (trimmedUrl) meta.tg_theme_url = trimmedUrl;\n          if (trimmedPhotosUrl) meta.tg_photos_url = trimmedPhotosUrl;\n          return meta;\n        };\n        if (item.meta?.virtual) {\n          const meta = buildMeta();\n          await createCollectionItem('task_types', {\n            name: item.name,\n            value: trimmedLabel,\n            ...(Object.keys(meta).length ? { meta } : {}),\n          });\n        } else {\n          const meta = buildMeta();\n          if (!trimmedUrl) {\n            meta.tg_theme_url = '';\n          }\n          if (!trimmedPhotosUrl) {\n            meta.tg_photos_url = '';\n          }\n          await updateCollectionItem(\n            item._id,\n            {\n              name: item.name,\n              value: trimmedLabel,\n              meta,\n            },\n            { collectionType: 'task_types' },\n          );\n        }\n        await loadTaskSettings();\n      } catch (error) {\n        const message =\n          error instanceof Error ? error.message : TASK_TYPE_SAVE_ERROR;\n        throw new Error(message || TASK_TYPE_SAVE_ERROR);\n      }\n    },\n    [loadTaskSettings],\n  );\n\n  const deleteTaskType = useCallback(\n    async (item: CollectionItem) => {\n      if (item.meta?.virtual) {\n        return;\n      }\n      try {\n        await removeCollectionItem(item._id);\n        await loadTaskSettings();\n      } catch (error) {\n        const message =\n          error instanceof Error ? error.message : TASK_SETTINGS_DELETE_ERROR;\n        throw new Error(message || TASK_SETTINGS_DELETE_ERROR);\n      }\n    },\n    [loadTaskSettings],\n  );\n\n  useEffect(() => {\n    if (active === 'users' || active === 'employees') {\n      setUserSearchDraft(userQuery);\n    }\n  }, [active, userQuery]);\n\n  useEffect(() => {\n    if (collectionModalOpen && selectedCollection?.type === 'divisions') {\n      void loadUsers();\n    }\n  }, [collectionModalOpen, selectedCollection, loadUsers]);\n\n  useEffect(() => {\n    const loadReferenceCollections = async () => {\n      const [departmentsResult, divisionsResult, positionsResult] =\n        await Promise.allSettled([\n          fetchAllCollectionItems('departments'),\n          fetchAllCollectionItems('divisions'),\n          fetchAllCollectionItems('positions'),\n        ]);\n\n      const applyResult = (\n        result: PromiseSettledResult<CollectionItem[]>,\n        setter: React.Dispatch<React.SetStateAction<CollectionItem[]>>,\n        fallbackMessage: string,\n      ) => {\n        if (result.status === 'fulfilled') {\n          setter(result.value);\n          return;\n        }\n        const reason = result.reason;\n        const message =\n          reason instanceof Error && reason.message\n            ? reason.message\n            : fallbackMessage;\n        setHint((prev) => prev || message);\n      };\n\n      applyResult(\n        departmentsResult,\n        setAllDepartments,\n        'Не удалось загрузить департаменты',\n      );\n      applyResult(\n        divisionsResult,\n        setAllDivisions,\n        'Не удалось загрузить отделы',\n      );\n      applyResult(\n        positionsResult,\n        setAllPositions,\n        'Не удалось загрузить должности',\n      );\n    };\n\n    void loadReferenceCollections();\n    fetchRoles()\n      .then((list) => setAllRoles(list))\n      .catch((error) => {\n        setAllRoles([]);\n        const message =\n          error instanceof Error ? error.message : 'Не удалось загрузить роли';\n        setHint((prev) => prev || message);\n      });\n  }, []);\n\n  useEffect(() => {\n    if (active !== 'users' && active !== 'tasks') {\n      void load();\n      if (active !== 'fleets') {\n        setForm(emptyItemForm);\n      }\n    } else {\n      setHint('');\n    }\n  }, [load, active]);\n\n  useEffect(() => {\n    if (active === 'users') {\n      void loadUsers();\n      setUserForm(emptyUser);\n      setSelectedEmployeeId(undefined);\n    }\n    if (active === 'employees') {\n      void loadUsers();\n      setSelectedEmployeeId(undefined);\n      setEmployeeFormMode('create');\n      setIsEmployeeModalOpen(false);\n    }\n    if (active !== 'employees') {\n      setIsEmployeeModalOpen(false);\n    }\n    if (\n      active === 'users' ||\n      active === 'employees' ||\n      active === 'fleets' ||\n      active === 'tasks'\n    ) {\n      setCollectionModalOpen(false);\n    }\n    if (active !== 'users') {\n      setUserModalOpen(false);\n      setUserForm(emptyUser);\n    }\n  }, [active, loadUsers]);\n\n  const openCollectionModal = (item?: CollectionItem) => {\n    if (item) {\n      if (item.type === 'objects') {\n        const object = toCollectionObject(item);\n        setForm({\n          _id: object._id,\n          name: object.name,\n          value: object.address,\n          meta: object.meta,\n          address: object.address,\n          latitude:\n            object.latitude !== undefined ? object.latitude.toString() : '',\n          longitude:\n            object.longitude !== undefined ? object.longitude.toString() : '',\n        });\n      } else {\n        setForm({\n          _id: item._id,\n          name: item.name,\n          value: item.value,\n          meta: item.meta,\n        });\n      }\n      setSelectedCollection(item);\n    } else {\n      setForm(emptyItemForm);\n      setSelectedCollection(null);\n    }\n    setCollectionModalOpen(true);\n  };\n\n  const closeCollectionModal = () => {\n    setCollectionModalOpen(false);\n    setSelectedCollection(null);\n    setForm(emptyItemForm);\n  };\n\n  const mapUserToForm = (user?: User): UserFormData => ({\n    telegram_id: user?.telegram_id,\n    username: user?.telegram_username ?? user?.username ?? '',\n    name: user?.name ?? '',\n    phone: user?.phone ?? '',\n    mobNumber: user?.mobNumber ?? '',\n    email: user?.email ?? '',\n    role: user?.role ?? 'user',\n    access: user?.access ?? 1,\n    roleId: user?.roleId ?? '',\n    departmentId: user?.departmentId ?? '',\n    divisionId: user?.divisionId ?? '',\n    positionId: user?.positionId ?? '',\n  });\n\n  const openUserModal = (user?: User) => {\n    setUserForm(user ? mapUserToForm(user) : emptyUser);\n    setUserModalOpen(true);\n  };\n\n  const closeUserModal = useCallback(() => {\n    setUserModalOpen(false);\n    setUserForm(emptyUser);\n  }, []);\n\n  const openEmployeeModal = (user?: User) => {\n    if (user) {\n      setSelectedEmployeeId(String(user.telegram_id));\n      setEmployeeFormMode('update');\n    } else {\n      setSelectedEmployeeId(undefined);\n      setEmployeeFormMode('create');\n    }\n    setIsEmployeeModalOpen(true);\n  };\n\n  const updateCollectionSearchDraft = useCallback(\n    (value: string) => {\n      setSearchDrafts((prev) => ({ ...prev, [active]: value }));\n    },\n    [active],\n  );\n\n  const submitCollectionSearch = useCallback(\n    (value?: string) => {\n      if (collectionSearchTimer.current) {\n        window.clearTimeout(collectionSearchTimer.current);\n      }\n      applyCollectionSearch(value ?? currentSearchDraft);\n    },\n    [applyCollectionSearch, currentSearchDraft],\n  );\n\n  const handleCollectionSearchKeyDown = useCallback(\n    (event: React.KeyboardEvent<HTMLInputElement>) => {\n      if (!isCollectionSearchSupported) {\n        return;\n      }\n      if (event.key === 'Enter') {\n        event.preventDefault();\n        submitCollectionSearch(event.currentTarget.value);\n      }\n      if (event.key === 'Escape') {\n        event.preventDefault();\n        updateCollectionSearchDraft('');\n        submitCollectionSearch('');\n      }\n    },\n    [\n      isCollectionSearchSupported,\n      submitCollectionSearch,\n      updateCollectionSearchDraft,\n    ],\n  );\n\n  const resetCollectionSearch = useCallback(() => {\n    updateCollectionSearchDraft('');\n    submitCollectionSearch('');\n  }, [submitCollectionSearch, updateCollectionSearchDraft]);\n\n  const submitUserSearch = useCallback(\n    (event?: React.FormEvent) => {\n      event?.preventDefault();\n      setUserPage(1);\n      setUserQuery(userSearchDraft.trim());\n      setSelectedEmployeeId(undefined);\n    },\n    [userSearchDraft],\n  );\n\n  const handleUserSearchKeyDown = useCallback(\n    (event: React.KeyboardEvent<HTMLInputElement>) => {\n      if (!isUserSearchActive) {\n        return;\n      }\n      if (event.key === 'Enter') {\n        event.preventDefault();\n        submitUserSearch();\n      }\n      if (event.key === 'Escape') {\n        event.preventDefault();\n        setUserSearchDraft('');\n        submitUserSearch();\n      }\n    },\n    [isUserSearchActive, submitUserSearch],\n  );\n\n  const handleEmployeeSaved = (updated: UserDetails) => {\n    void loadUsers();\n    if (updated.telegram_id !== undefined) {\n      setSelectedEmployeeId(String(updated.telegram_id));\n      setEmployeeFormMode('update');\n    }\n  };\n\n  const executeUserDelete = useCallback(async () => {\n    if (!userForm.telegram_id) {\n      setConfirmUserDelete(false);\n      return;\n    }\n    try {\n      await deleteUserApi(userForm.telegram_id);\n      showToast(USER_DELETE_SUCCESS, 'success');\n      setSelectedEmployeeId((prev) =>\n        prev === String(userForm.telegram_id) ? undefined : prev,\n      );\n      closeUserModal();\n      await loadUsers();\n    } catch (error) {\n      const message =\n        error instanceof Error ? error.message : USER_DELETE_ERROR;\n      showToast(message || USER_DELETE_ERROR, 'error');\n    } finally {\n      setConfirmUserDelete(false);\n    }\n  }, [userForm.telegram_id, closeUserModal, loadUsers, setSelectedEmployeeId]);\n\n  const executeEmployeeDelete = useCallback(async () => {\n    if (!selectedEmployeeId) {\n      setConfirmEmployeeDelete(false);\n      return;\n    }\n    try {\n      await deleteUserApi(selectedEmployeeId);\n      showToast(EMPLOYEE_DELETE_SUCCESS, 'success');\n      setIsEmployeeModalOpen(false);\n      setSelectedEmployeeId(undefined);\n      setEmployeeFormMode('create');\n      await loadUsers();\n    } catch (error) {\n      const message =\n        error instanceof Error ? error.message : EMPLOYEE_DELETE_ERROR;\n      showToast(message || EMPLOYEE_DELETE_ERROR, 'error');\n    } finally {\n      setConfirmEmployeeDelete(false);\n    }\n  }, [selectedEmployeeId, loadUsers]);\n\n  const submit = async () => {\n    if (active === 'fleets') return;\n    const trimmedName = form.name.trim();\n    if (!trimmedName) return;\n    if (form._id && selectedCollectionInfo.readonly) {\n      setHint(\n        selectedCollectionInfo.notice ??\n          'Элемент перенесён из старой коллекции и доступен только для чтения.',\n      );\n      return;\n    }\n    let valueToSave = form.value;\n    let metaToSave: Record<string, unknown> | undefined;\n    if (active === 'departments') {\n      valueToSave = safeParseIds(form.value).join(',');\n    } else if (active === 'objects') {\n      const address = (form.address ?? form.value ?? '').trim();\n      if (!address) {\n        setHint('Укажите адрес объекта.');\n        return;\n      }\n      valueToSave = address;\n      const latitude = parseCoordinateInput(form.latitude);\n      const longitude = parseCoordinateInput(form.longitude);\n      const meta: Record<string, unknown> = {\n        ...(form.meta ?? {}),\n        address,\n      };\n      if (latitude !== undefined) {\n        meta.latitude = latitude;\n      }\n      if (longitude !== undefined) {\n        meta.longitude = longitude;\n      }\n      if (latitude !== undefined || longitude !== undefined) {\n        meta.location = { lat: latitude, lng: longitude };\n      }\n      metaToSave = meta;\n    } else {\n      valueToSave = form.value.trim();\n      if (!valueToSave) {\n        setHint('Заполните значение элемента.');\n        return;\n      }\n    }\n    try {\n      let saved: CollectionItem | null = null;\n      const payload = {\n        name: trimmedName,\n        value: valueToSave,\n        ...(metaToSave ? { meta: metaToSave } : {}),\n      };\n      if (form._id) {\n        saved = await updateCollectionItem(form._id, payload, {\n          collectionType: active,\n        });\n      } else {\n        saved = await createCollectionItem(active, payload);\n      }\n      if (!saved) {\n        throw new Error('Сервер не вернул сохранённый элемент');\n      }\n      setHint('');\n      await load();\n      closeCollectionModal();\n    } catch (error) {\n      const message =\n        error instanceof Error ? error.message : 'Не удалось сохранить элемент';\n      setHint(message);\n    }\n  };\n\n  const remove = async () => {\n    if (!form._id) return;\n    if (selectedCollectionInfo.readonly) {\n      setHint(\n        selectedCollectionInfo.notice ??\n          'Элемент перенесён из старой коллекции и доступен только для чтения.',\n      );\n      return;\n    }\n    try {\n      await removeCollectionItem(form._id);\n      setHint('');\n      await load();\n      closeCollectionModal();\n    } catch (e) {\n      const msg = e instanceof Error ? e.message : '';\n      setHint(msg);\n    }\n  };\n\n  const submitUser = async () => {\n    if (!userForm.telegram_id) return;\n    const id = userForm.telegram_id;\n    if (!users.find((u) => u.telegram_id === id)) {\n      await createUserApi(id, userForm.username, userForm.roleId);\n    }\n    const { telegram_id: _telegramId, ...data } = userForm;\n    await updateUserApi(id, data);\n    void loadUsers();\n    closeUserModal();\n  };\n\n  const departmentMap = useMemo(() => {\n    const map = new Map<string, string>();\n    allDepartments.forEach((d) => map.set(d._id, d.name));\n    return map;\n  }, [allDepartments]);\n\n  const divisionMap = useMemo(() => {\n    const map = new Map<string, string>();\n    allDivisions.forEach((d) => map.set(d._id, d.name));\n    return map;\n  }, [allDivisions]);\n\n  const positionMap = useMemo(() => {\n    const map = new Map<string, string>();\n    allPositions.forEach((position) => map.set(position._id, position.name));\n    return map;\n  }, [allPositions]);\n\n  const employeeDetailsIndex = useMemo(\n    () => buildEmployeeDetailsIndex(items),\n    [items],\n  );\n\n  const enrichUserWithEmployeeDetails = useCallback(\n    (user: User) =>\n      mergeEmployeeDetails(\n        user,\n        findEmployeeDetails(user, employeeDetailsIndex),\n      ),\n    [employeeDetailsIndex],\n  );\n\n  const enrichedUsers = useMemo(\n    () => users.map((user) => enrichUserWithEmployeeDetails(user)),\n    [users, enrichUserWithEmployeeDetails],\n  );\n\n  const roleMap = useMemo(() => {\n    const map = new Map<string, string>();\n    allRoles.forEach((role) => map.set(role._id, role.name));\n    return map;\n  }, [allRoles]);\n\n  const { divisionOwners, duplicateDivisionIds } = useMemo(() => {\n    const owners = new Map<string, string>();\n    const duplicates = new Set<string>();\n    allDepartments.forEach((department) => {\n      safeParseIds(department.value).forEach((divisionId) => {\n        const currentOwner = owners.get(divisionId);\n        if (currentOwner && currentOwner !== department._id) {\n          duplicates.add(divisionId);\n          return;\n        }\n        if (!currentOwner) {\n          owners.set(divisionId, department._id);\n        }\n      });\n    });\n    return {\n      divisionOwners: owners,\n      duplicateDivisionIds: Array.from(duplicates),\n    };\n  }, [allDepartments]);\n\n  const duplicateDivisionHint = useMemo(() => {\n    if (!duplicateDivisionIds.length) return '';\n    const names = duplicateDivisionIds\n      .map(\n        (id) =>\n          divisionMap.get(id) ??\n          allDivisions.find((division) => division._id === id)?.name ??\n          id,\n      )\n      .filter((name): name is string => Boolean(name));\n    const suffix = names.length ? `: ${names.join(', ')}.` : '.';\n    return `${DUPLICATE_DIVISION_HINT_PREFIX}${suffix}`;\n  }, [duplicateDivisionIds, divisionMap, allDivisions]);\n\n  useEffect(() => {\n    if (duplicateDivisionHint) {\n      setHint((prev) => (prev ? prev : duplicateDivisionHint));\n      return;\n    }\n    setHint((prev) =>\n      prev && prev.startsWith(DUPLICATE_DIVISION_HINT_PREFIX) ? '' : prev,\n    );\n  }, [duplicateDivisionHint]);\n\n  const getItemDisplayValue = useCallback(\n    (item: CollectionItem, type: CollectionKey) => {\n      if (type === 'departments') {\n        const ids = safeParseIds(item.value);\n        if (!ids.length) return SETTINGS_BADGE_EMPTY;\n        const names = ids\n          .map(\n            (id) =>\n              divisionMap.get(id) ??\n              allDivisions.find((division) => division._id === id)?.name ??\n              id,\n          )\n          .filter((name): name is string => Boolean(name));\n        return names.length ? names.join('\\n') : SETTINGS_BADGE_EMPTY;\n      }\n      if (type === 'divisions') {\n        const departmentName =\n          departmentMap.get(item.value) ??\n          allDepartments.find((department) => department._id === item.value)\n            ?.name ??\n          item.value;\n        return departmentName\n          ? formatCollectionRawValue(departmentName)\n          : SETTINGS_BADGE_EMPTY;\n      }\n      if (type === 'positions') {\n        const divisionName =\n          divisionMap.get(item.value) ??\n          allDivisions.find((division) => division._id === item.value)?.name ??\n          item.value;\n        return divisionName\n          ? formatCollectionRawValue(divisionName)\n          : SETTINGS_BADGE_EMPTY;\n      }\n      if (type === 'objects') {\n        const object = toCollectionObject(item);\n        const coordinates = formatCoordinatesValue(\n          object.latitude,\n          object.longitude,\n        );\n        if (coordinates !== SETTINGS_BADGE_EMPTY) {\n          return coordinates;\n        }\n        const address = object.address?.trim();\n        return address || SETTINGS_BADGE_EMPTY;\n      }\n      const formatted = formatCollectionRawValue(item.value ?? '');\n      return formatted || SETTINGS_BADGE_EMPTY;\n    },\n    [\n      allDepartments,\n      allDivisions,\n      departmentMap,\n      divisionMap,\n      formatCoordinatesValue,\n    ],\n  );\n\n  const formatMetaSummary = useCallback((meta?: CollectionItem['meta']) => {\n    if (!meta) return SETTINGS_BADGE_EMPTY;\n    const summary = summarizeRecord(meta as Record<string, unknown>);\n    return summary || SETTINGS_BADGE_EMPTY;\n  }, []);\n\n\n  const parseCoordinateInput = useCallback((value?: string) => {\n    if (!value) return undefined;\n    const trimmed = value.trim();\n    if (!trimmed) return undefined;\n    const parsed = Number.parseFloat(trimmed);\n    return Number.isFinite(parsed) ? parsed : undefined;\n  }, []);\n\n  const copyIdLabel = t('collections.actions.copyId');\n  const copiedIdLabel = t('collections.actions.copiedId');\n\n  const localizeColumns = useCallback(\n    (columns: CollectionColumn[]) =>\n      columns.map((column) => {\n        if (!hasAccessorKey(column)) {\n          return column;\n        }\n        switch (column.accessorKey) {\n          case 'name':\n            return { ...column, header: t('collections.table.columns.name') };\n          case 'value':\n            return { ...column, header: t('collections.table.columns.value') };\n          case 'displayValue':\n            return {\n              ...column,\n              header: t('collections.table.columns.relations'),\n            };\n          case 'type':\n            return { ...column, header: t('collections.table.columns.type') };\n          case '_id':\n            return {\n              ...column,\n              header: t('collections.table.columns.id'),\n              cell: ({ getValue }) => {\n                const raw = getValue<string>();\n                const safeValue = typeof raw === 'string' ? raw : '';\n                if (!safeValue) {\n                  return (\n                    <span className=\"text-xs text-[color:var(--color-gray-500)] dark:text-[color:var(--color-gray-300)]\">\n                      {SETTINGS_BADGE_EMPTY}\n                    </span>\n                  );\n                }\n                return (\n                  <CopyableId\n                    value={safeValue}\n                    copyHint={copyIdLabel}\n                    copiedHint={copiedIdLabel}\n                  />\n                );\n              },\n            };\n          case 'metaSummary':\n            return {\n              ...column,\n              header: t('collections.table.columns.meta'),\n            };\n          case 'address':\n            return {\n              ...column,\n              header: t('collections.table.columns.address'),\n            };\n          case 'coordinates':\n            return {\n              ...column,\n              header: t('collections.table.columns.coordinates'),\n            };\n          default:\n            return column;\n        }\n      }),\n    [copiedIdLabel, copyIdLabel, t],\n  );\n\n  const localizedCollectionColumns = useMemo(\n    () => localizeColumns(collectionColumns),\n    [localizeColumns],\n  );\n\n  const localizedObjectColumns = useMemo(\n    () => localizeColumns(collectionObjectColumns),\n    [localizeColumns],\n  );\n\n  const collectionSearchPlaceholder = t('collections.search.placeholder');\n  const collectionSearchHint = t('collections.search.hint');\n  const collectionSearchCta = t('collections.actions.search');\n  const collectionResetCta = t('collections.actions.reset');\n  const collectionAddCta = t('collections.actions.add');\n  const collectionEmptyTitle = t('collections.table.empty.title');\n  const collectionEmptyDescription = t('collections.table.empty.description');\n  const collectionEmptyAction = t('collections.table.empty.action');\n  const userSearchPlaceholder = t('collections.users.searchPlaceholder');\n  const userAddCta = t('collections.users.add');\n  const employeeSearchPlaceholder = t(\n    'collections.employees.searchPlaceholder',\n  );\n  const employeeAddCta = t('collections.employees.add');\n\n  const buildCollectionColumns = useCallback(\n    (excludedKeys: string[]) =>\n      localizedCollectionColumns.filter(\n        (column) =>\n          !hasAccessorKey(column) || !excludedKeys.includes(column.accessorKey),\n      ),\n    [localizedCollectionColumns],\n  );\n\n  const departmentColumns = useMemo(\n    () => buildCollectionColumns(['value', 'type', 'metaSummary']),\n    [buildCollectionColumns],\n  );\n\n  const divisionColumns = useMemo(\n    () => buildCollectionColumns(['type', 'metaSummary']),\n    [buildCollectionColumns],\n  );\n\n  const positionColumns = useMemo(\n    () => buildCollectionColumns(['type', 'metaSummary']),\n    [buildCollectionColumns],\n  );\n\n  const renderDepartmentValueField = useCallback(\n    (\n      currentForm: ItemForm,\n      handleChange: (next: ItemForm) => void,\n      options?: { readonly?: boolean },\n    ) => {\n      const selected = safeParseIds(currentForm.value);\n      const handleSelect = (event: React.ChangeEvent<HTMLSelectElement>) => {\n        const values = Array.from(event.target.selectedOptions).map(\n          (option) => option.value,\n        );\n        handleChange({ ...currentForm, value: values.join(',') });\n      };\n      return (\n        <select\n          multiple\n          className=\"min-h-[8rem] w-full rounded border px-3 py-2\"\n          value={selected}\n          onChange={handleSelect}\n          disabled={options?.readonly}\n        >\n          {allDivisions\n            .filter((division) => {\n              const ownerId = divisionOwners.get(division._id);\n              if (!ownerId) return true;\n              const isSelected = selected.includes(division._id);\n              if (isSelected) return true;\n              if (!currentForm._id) return false;\n              return ownerId === currentForm._id;\n            })\n            .map((division) => (\n              <option key={division._id} value={division._id}>\n                {division.name}\n              </option>\n            ))}\n        </select>\n      );\n    },\n    [allDivisions, divisionOwners],\n  );\n\n  const renderDivisionValueField = useCallback(\n    (\n      currentForm: ItemForm,\n      handleChange: (next: ItemForm) => void,\n      options?: { readonly?: boolean },\n    ) => (\n      <select\n        className=\"h-10 w-full rounded border px-3\"\n        value={currentForm.value}\n        onChange={(event) =>\n          handleChange({ ...currentForm, value: event.target.value })\n        }\n        required\n        disabled={options?.readonly}\n      >\n        <option value=\"\" disabled>\n          Выберите департамент\n        </option>\n        {allDepartments.map((department) => (\n          <option key={department._id} value={department._id}>\n            {department.name}\n          </option>\n        ))}\n      </select>\n    ),\n    [allDepartments],\n  );\n\n  const renderPositionValueField = useCallback(\n    (\n      currentForm: ItemForm,\n      handleChange: (next: ItemForm) => void,\n      options?: { readonly?: boolean },\n    ) => (\n      <select\n        className=\"h-10 w-full rounded border px-3\"\n        value={currentForm.value}\n        onChange={(event) =>\n          handleChange({ ...currentForm, value: event.target.value })\n        }\n        required\n        disabled={options?.readonly}\n      >\n        <option value=\"\" disabled>\n          Выберите отдел\n        </option>\n        {allDivisions.map((division) => (\n          <option key={division._id} value={division._id}>\n            {division.name}\n          </option>\n        ))}\n      </select>\n    ),\n    [allDivisions],\n  );\n\n  const renderObjectValueField = useCallback(\n    (\n      currentForm: ItemForm,\n      handleChange: (next: ItemForm) => void,\n      options?: { readonly?: boolean },\n    ) => {\n      const readonly = options?.readonly;\n      const addressValue = currentForm.address ?? currentForm.value;\n      return (\n        <div className=\"space-y-2\">\n          <input\n            className=\"h-10 w-full rounded border px-3\"\n            value={addressValue}\n            placeholder=\"Адрес объекта\"\n            onChange={(event) =>\n              handleChange({\n                ...currentForm,\n                address: event.target.value,\n                value: event.target.value,\n              })\n            }\n            required\n            disabled={readonly}\n          />\n          <div className=\"grid grid-cols-1 gap-2 sm:grid-cols-2\">\n            <input\n              className=\"h-10 w-full rounded border px-3\"\n              value={currentForm.latitude ?? ''}\n              placeholder=\"Широта\"\n              onChange={(event) =>\n                handleChange({\n                  ...currentForm,\n                  latitude: event.target.value,\n                })\n              }\n              disabled={readonly}\n            />\n            <input\n              className=\"h-10 w-full rounded border px-3\"\n              value={currentForm.longitude ?? ''}\n              placeholder=\"Долгота\"\n              onChange={(event) =>\n                handleChange({\n                  ...currentForm,\n                  longitude: event.target.value,\n                })\n              }\n              disabled={readonly}\n            />\n          </div>\n        </div>\n      );\n    },\n    [],\n  );\n\n  const totalPages = Math.ceil(total / limit) || 1;\n  const filteredUsers = useMemo(() => {\n    const trimmed = userQuery.trim();\n    if (!trimmed) {\n      return enrichedUsers;\n    }\n    return matchSorter<User>(enrichedUsers, trimmed, {\n      keys: [\n        {\n          key: (item: User) => item.username ?? '',\n          threshold: rankings.STARTS_WITH,\n        },\n        {\n          key: (item: User) => item.telegram_username ?? '',\n          threshold: rankings.STARTS_WITH,\n        },\n        {\n          key: (item: User) =>\n            item.telegram_id !== undefined && item.telegram_id !== null\n              ? String(item.telegram_id)\n              : '',\n          threshold: rankings.STARTS_WITH,\n        },\n        {\n          key: (item: User) => buildUserSearchTokens(item),\n          threshold: rankings.CONTAINS,\n        },\n      ],\n    });\n  }, [userQuery, enrichedUsers]);\n  const userTotalPages = Math.ceil(filteredUsers.length / limit) || 1;\n  const paginatedUsers = filteredUsers.slice(\n    (userPage - 1) * limit,\n    userPage * limit,\n  );\n\n  const employeeRows = useMemo<EmployeeRow[]>(\n    () =>\n      paginatedUsers.map((user) => {\n        const mergedUser = enrichUserWithEmployeeDetails(user);\n        const roleId =\n          typeof mergedUser.roleId === 'string' ? mergedUser.roleId.trim() : '';\n        const departmentId =\n          typeof mergedUser.departmentId === 'string'\n            ? mergedUser.departmentId.trim()\n            : '';\n        const divisionId =\n          typeof mergedUser.divisionId === 'string'\n            ? mergedUser.divisionId.trim()\n            : '';\n        const positionId =\n          typeof mergedUser.positionId === 'string'\n            ? mergedUser.positionId.trim()\n            : '';\n        const roleNameFromMap = resolveReferenceName(\n          roleMap,\n          roleId,\n          mergedUser.roleName,\n        );\n        const departmentName = resolveReferenceName(\n          departmentMap,\n          departmentId,\n          mergedUser.departmentName,\n        );\n        const divisionName = resolveReferenceName(\n          divisionMap,\n          divisionId,\n          mergedUser.divisionName,\n        );\n        const positionName = resolveReferenceName(\n          positionMap,\n          positionId,\n          mergedUser.positionName,\n        );\n        const roleLabel =\n          roleNameFromMap ||\n          (mergedUser.role ? formatRoleName(mergedUser.role) : '');\n        return buildEmployeeRow({\n          ...mergedUser,\n          roleId,\n          departmentId,\n          divisionId,\n          positionId,\n          roleName: roleLabel,\n          departmentName,\n          divisionName,\n          positionName,\n        });\n      }),\n    [\n      paginatedUsers,\n      roleMap,\n      departmentMap,\n      divisionMap,\n      positionMap,\n      enrichUserWithEmployeeDetails,\n    ],\n  );\n\n  const selectedEmployee = useMemo(() => {\n    if (!selectedEmployeeId) return undefined;\n    const base = enrichedUsers.find(\n      (u) => String(u.telegram_id) === selectedEmployeeId,\n    );\n    if (base) {\n      return base;\n    }\n    const fallbackDetails = findEmployeeDetails(\n      undefined,\n      employeeDetailsIndex,\n      selectedEmployeeId,\n    );\n    if (!fallbackDetails) return undefined;\n    const fallbackUser: User = {};\n    if (typeof fallbackDetails.telegram_id === 'number') {\n      fallbackUser.telegram_id = fallbackDetails.telegram_id;\n    } else {\n      const parsedId = Number(selectedEmployeeId);\n      if (Number.isFinite(parsedId)) {\n        fallbackUser.telegram_id = parsedId;\n      }\n    }\n    if (fallbackDetails.username) {\n      fallbackUser.username = fallbackDetails.username;\n    }\n    if (fallbackDetails.telegram_username) {\n      fallbackUser.telegram_username = fallbackDetails.telegram_username;\n    }\n    return mergeEmployeeDetails(fallbackUser, fallbackDetails);\n  }, [employeeDetailsIndex, enrichedUsers, selectedEmployeeId]);\n\n  const selectedDepartmentDivisionNames = useMemo(() => {\n    if (!selectedCollection || selectedCollection.type !== 'departments') {\n      return [] as string[];\n    }\n    const ids = safeParseIds(selectedCollection.value);\n    return ids\n      .map(\n        (id) =>\n          divisionMap.get(id) ??\n          allDivisions.find((division) => division._id === id)?.name ??\n          id,\n      )\n      .filter((name): name is string => Boolean(name));\n  }, [selectedCollection, divisionMap, allDivisions]);\n\n  const selectedDivisionDepartmentName = useMemo(() => {\n    if (!selectedCollection || selectedCollection.type !== 'divisions') {\n      return SETTINGS_BADGE_EMPTY;\n    }\n    const departmentId = selectedCollection.value;\n    if (!departmentId) return SETTINGS_BADGE_EMPTY;\n    return (\n      departmentMap.get(departmentId) ??\n      allDepartments.find((department) => department._id === departmentId)\n        ?.name ??\n      departmentId\n    );\n  }, [selectedCollection, departmentMap, allDepartments]);\n\n  const selectedDivisionPositionNames = useMemo(() => {\n    if (!selectedCollection || selectedCollection.type !== 'divisions') {\n      return [] as string[];\n    }\n    return allPositions\n      .filter((position) => position.value === selectedCollection._id)\n      .map((position) => position.name)\n      .filter((name): name is string => Boolean(name));\n  }, [selectedCollection, allPositions]);\n\n  const selectedDivisionEmployeeNames = useMemo(() => {\n    if (!selectedCollection || selectedCollection.type !== 'divisions') {\n      return [] as string[];\n    }\n    return enrichedUsers\n      .filter((user) => user.divisionId === selectedCollection._id)\n      .map((user) => {\n        if (user.name && user.name.trim()) return user.name.trim();\n        if (user.username && user.username.trim()) return user.username.trim();\n        if (user.telegram_id !== undefined && user.telegram_id !== null)\n          return `ID ${user.telegram_id}`;\n        return 'Без имени';\n      });\n  }, [selectedCollection, enrichedUsers]);\n\n  const directoriesToolbar = (() => {\n    if (activeModule !== 'directories') {\n      return null;\n    }\n    if (isUserSearchActive || isEmployeeSearchActive) {\n      const isEmployee = isEmployeeSearchActive;\n      const placeholder = isEmployee\n        ? employeeSearchPlaceholder\n        : userSearchPlaceholder;\n      const addLabel = isEmployee ? employeeAddCta : userAddCta;\n      const handleAdd = isEmployee\n        ? () => openEmployeeModal()\n        : () => openUserModal();\n      return (\n        <div className=\"flex w-full flex-col gap-2 sm:flex-row sm:items-end sm:justify-between\">\n          <div className=\"flex w-full flex-col gap-1 sm:w-72\">\n            <label htmlFor=\"settings-users-search\" className=\"sr-only\">\n              {collectionSearchCta}\n            </label>\n            <input\n              id=\"settings-users-search\"\n              className=\"h-10 w-full rounded-2xl border border-[color:var(--color-gray-200)] bg-white px-3 text-sm text-[color:var(--color-gray-900)] shadow-sm outline-none transition focus:border-[color:var(--color-brand-400)] focus:ring-2 focus:ring-[color:var(--color-brand-200)] dark:border-[color:var(--color-gray-700)] dark:bg-[color:var(--color-gray-dark)] dark:text-white\"\n              value={userSearchDraft}\n              onChange={(event) => setUserSearchDraft(event.target.value)}\n              onKeyDown={handleUserSearchKeyDown}\n              placeholder={placeholder}\n            />\n            <span className=\"text-[11px] text-[color:var(--color-gray-500)] dark:text-[color:var(--color-gray-300)]\">\n              {collectionSearchHint}\n            </span>\n          </div>\n          <div className=\"flex flex-wrap items-center gap-2\">\n            <Button size=\"sm\" onClick={() => submitUserSearch()}>\n              {collectionSearchCta}\n            </Button>\n            <Button\n              size=\"sm\"\n              variant=\"outline\"\n              onClick={() => {\n                setUserSearchDraft('');\n                submitUserSearch();\n              }}\n            >\n              {collectionResetCta}\n            </Button>\n            <Button size=\"sm\" variant=\"success\" onClick={handleAdd}>\n              {addLabel}\n            </Button>\n          </div>\n        </div>\n      );\n    }\n    if (isCollectionSearchSupported) {\n      return (\n        <div className=\"flex w-full flex-col gap-2 sm:flex-row sm:items-end sm:justify-between\">\n          <div className=\"flex w-full flex-col gap-1 sm:w-72\">\n            <label htmlFor=\"settings-collections-search\" className=\"sr-only\">\n              {collectionSearchCta}\n            </label>\n            <input\n              id=\"settings-collections-search\"\n              className=\"h-10 w-full rounded-2xl border border-[color:var(--color-gray-200)] bg-white px-3 text-sm text-[color:var(--color-gray-900)] shadow-sm outline-none transition focus:border-[color:var(--color-brand-400)] focus:ring-2 focus:ring-[color:var(--color-brand-200)] dark:border-[color:var(--color-gray-700)] dark:bg-[color:var(--color-gray-dark)] dark:text-white\"\n              value={currentSearchDraft}\n              onChange={(event) =>\n                updateCollectionSearchDraft(event.target.value)\n              }\n              onKeyDown={handleCollectionSearchKeyDown}\n              placeholder={collectionSearchPlaceholder}\n            />\n            <span className=\"text-[11px] text-[color:var(--color-gray-500)] dark:text-[color:var(--color-gray-300)]\">\n              {collectionSearchHint}\n            </span>\n          </div>\n          <div className=\"flex flex-wrap items-center gap-2\">\n            <Button size=\"sm\" onClick={() => submitCollectionSearch()}>\n              {collectionSearchCta}\n            </Button>\n            <Button size=\"sm\" variant=\"outline\" onClick={resetCollectionSearch}>\n              {collectionResetCta}\n            </Button>\n            <Button\n              size=\"sm\"\n              variant=\"success\"\n              onClick={() => openCollectionModal()}\n            >\n              {collectionAddCta}\n            </Button>\n          </div>\n        </div>\n      );\n    }\n    return (\n      <div className=\"flex flex-wrap items-center gap-2\">\n        <Button\n          size=\"sm\"\n          variant=\"success\"\n          onClick={() => openCollectionModal()}\n        >\n          {collectionAddCta}\n        </Button>\n      </div>\n    );\n  })();\n\n  return (\n    <div className=\"mx-auto flex w-full max-w-screen-2xl flex-col gap-6 px-3 pb-12 pt-4 sm:px-4 lg:px-8\">\n      <Tabs\n        value={activeModule}\n        onValueChange={(value) =>\n          handleModuleChange(value as SettingsModuleKey)\n        }\n        className=\"space-y-6\"\n      >\n        <ActionBar\n          breadcrumbs={<Breadcrumbs items={breadcrumbs} />}\n          title={t('collections.page.title')}\n          description={t('collections.page.description')}\n          toolbar={directoriesToolbar}\n        >\n          <div className=\"flex flex-col gap-3\">\n            <div className=\"sm:hidden\">\n              <label htmlFor=\"settings-module-select\" className=\"sr-only\">\n                {t('collections.moduleSelectLabel')}\n              </label>\n              <select\n                id=\"settings-module-select\"\n                className=\"h-11 w-full rounded-2xl border border-[color:var(--color-gray-200)] bg-white px-3 text-sm font-semibold text-[color:var(--color-gray-800)] shadow-sm outline-none transition focus:border-[color:var(--color-brand-400)] focus:ring-2 focus:ring-[color:var(--color-brand-200)] dark:border-[color:var(--color-gray-700)] dark:bg-[color:var(--color-gray-dark)] dark:text-white\"\n                value={activeModule}\n                onChange={(event) =>\n                  handleModuleChange(event.target.value as SettingsModuleKey)\n                }\n              >\n                {moduleTabs.map((tab) => (\n                  <option key={tab.key} value={tab.key}>\n                    {tab.label}\n                  </option>\n                ))}\n              </select>\n            </div>\n            <TabsList className=\"hidden h-auto gap-2 bg-transparent p-0 sm:grid sm:gap-2 sm:p-1 sm:[grid-template-columns:repeat(5,minmax(11rem,1fr))]\">\n              {moduleTabs.map((tab) => {\n                const Icon = tab.icon;\n                const labelId = `${tab.key}-module-tab-label`;\n                return (\n                  <TabsTrigger\n                    key={tab.key}\n                    value={tab.key}\n                    aria-labelledby={labelId}\n                    className=\"group flex h-full min-h-[3.4rem] w-full flex-col items-center justify-center gap-1.5 rounded-xl border border-transparent px-3 py-2 text-sm font-semibold text-[color:var(--color-gray-700)] transition-colors duration-200 ease-out hover:bg-[color:var(--color-gray-50)] focus-visible:ring-2 focus-visible:ring-[color:var(--color-brand-400)] focus-visible:ring-offset-2 dark:text-[color:var(--color-gray-200)] dark:hover:bg-[color:var(--color-gray-800)] data-[state=active]:border-[color:var(--color-gray-200)] data-[state=active]:bg-white data-[state=active]:text-[color:var(--color-brand-600)] data-[state=active]:shadow-sm dark:data-[state=active]:border-[color:var(--color-gray-700)] dark:data-[state=active]:bg-[color:var(--color-gray-dark)] dark:data-[state=active]:text-[color:var(--color-brand-300)]\"\n                  >\n                    <Icon className=\"size-5 flex-shrink-0 text-[color:var(--color-gray-500)] transition-colors group-data-[state=active]:text-[color:var(--color-brand-600)] dark:text-[color:var(--color-gray-300)] dark:group-data-[state=active]:text-[color:var(--color-brand-300)] sm:size-6\" />\n                    <span\n                      id={labelId}\n                      className=\"truncate text-sm font-semibold leading-5 text-[color:var(--color-gray-800)] transition-colors group-data-[state=active]:text-[color:var(--color-brand-600)] dark:text-[color:var(--color-gray-100)] dark:group-data-[state=active]:text-[color:var(--color-brand-300)]\"\n                    >\n                      {tab.label}\n                    </span>\n                    {tab.description ? (\n                      <span className=\"hidden text-xs font-medium text-[color:var(--color-gray-500)] dark:text-[color:var(--color-gray-400)] sm:block\">\n                        {tab.description}\n                      </span>\n                    ) : null}\n                  </TabsTrigger>\n                );\n              })}\n            </TabsList>\n          </div>\n        </ActionBar>\n        <TabsContent value=\"directories\" className=\"mt-0 space-y-6\">\n          {hint ? (\n            <div className=\"rounded-2xl border border-[color:var(--color-error-200)] bg-[color:var(--color-error-25)] p-4 text-sm text-[color:var(--color-error-600)] dark:border-[color:var(--color-error-700)] dark:bg-[color:var(--color-error-900)]/40 dark:text-[color:var(--color-error-200)]\">\n              {hint}\n            </div>\n          ) : null}\n          <Tabs\n            value={active}\n            onValueChange={(value) => {\n              setActive(value as CollectionKey);\n              setPage(1);\n            }}\n            className=\"space-y-5\"\n          >\n            <div className=\"sm:hidden\">\n              <label htmlFor=\"settings-section-select\" className=\"sr-only\">\n                {t('collections.directorySelectLabel')}\n              </label>\n              <select\n                id=\"settings-section-select\"\n                className=\"h-11 w-full rounded-2xl border border-[color:var(--color-gray-200)] bg-white px-3 text-sm font-semibold text-[color:var(--color-gray-800)] shadow-sm outline-none transition focus:border-[color:var(--color-brand-400)] focus:ring-2 focus:ring-[color:var(--color-brand-200)] dark:border-[color:var(--color-gray-700)] dark:bg-[color:var(--color-gray-dark)] dark:text-white\"\n                value={active}\n                onChange={(event) => {\n                  setActive(event.target.value as CollectionKey);\n                  setPage(1);\n                }}\n              >\n                {types.map((type) => (\n                  <option key={type.key} value={type.key}>\n                    {type.label}\n                  </option>\n                ))}\n              </select>\n            </div>\n            <TabsList className=\"hidden gap-2 sm:grid sm:gap-2 sm:overflow-visible sm:p-1 sm:[grid-template-columns:repeat(7,minmax(9.5rem,1fr))]\">\n              {types.map((type) => {\n                const Icon = tabIcons[type.key as CollectionKey];\n                const labelId = `${type.key}-tab-label`;\n                return (\n                  <TabsTrigger\n                    key={type.key}\n                    value={type.key}\n                    aria-labelledby={labelId}\n                    className=\"group flex h-full min-h-[3.1rem] w-full flex-col items-center justify-center gap-1.5 rounded-xl border border-transparent px-3 py-2 text-sm font-semibold text-[color:var(--color-gray-700)] transition-colors duration-200 ease-out hover:bg-[color:var(--color-gray-50)] focus-visible:ring-2 focus-visible:ring-[color:var(--color-brand-400)] focus-visible:ring-offset-2 dark:text-[color:var(--color-gray-200)] dark:hover:bg-[color:var(--color-gray-800)] data-[state=active]:border-[color:var(--color-gray-200)] data-[state=active]:bg-white data-[state=active]:text-[color:var(--color-brand-600)] data-[state=active]:shadow-sm dark:data-[state=active]:border-[color:var(--color-gray-700)] dark:data-[state=active]:bg-[color:var(--color-gray-dark)] dark:data-[state=active]:text-[color:var(--color-brand-300)]\"\n                  >\n                    {Icon ? (\n                      <Icon className=\"size-5 flex-shrink-0 text-[color:var(--color-gray-500)] transition-colors group-data-[state=active]:text-[color:var(--color-brand-600)] dark:text-[color:var(--color-gray-300)] dark:group-data-[state=active]:text-[color:var(--color-brand-300)] sm:size-6\" />\n                    ) : null}\n                    <span\n                      id={labelId}\n                      className=\"truncate text-sm font-semibold leading-5 text-[color:var(--color-gray-800)] transition-colors group-data-[state=active]:text-[color:var(--color-brand-600)] dark:text-[color:var(--color-gray-100)] dark:group-data-[state=active]:text-[color:var(--color-brand-300)]\"\n                    >\n                      {type.label}\n                    </span>\n                    {type.description ? (\n                      <span\n                        aria-hidden=\"true\"\n                        className=\"hidden text-xs font-medium text-[color:var(--color-gray-500)] dark:text-[color:var(--color-gray-400)] sm:block\"\n                      >\n                        {type.description}\n                      </span>\n                    ) : null}\n                  </TabsTrigger>\n                );\n              })}\n            </TabsList>\n            {types.map((type) => {\n              const isActiveTab = type.key === active;\n              const rows: CollectionTableRow[] = isActiveTab\n                ? items.map((item) => {\n                    if (type.key === 'objects') {\n                      const object = toCollectionObject(item);\n                      return {\n                        ...item,\n                        address: object.address,\n                        coordinates: formatCoordinates(\n                          object.latitude,\n                          object.longitude,\n                        ),\n                        displayValue: object.address || SETTINGS_BADGE_EMPTY,\n                        metaSummary: formatMetaSummary(item.meta),\n                      };\n                    }\n                    return {\n                      ...item,\n                      displayValue: getItemDisplayValue(\n                        item,\n                        type.key as CollectionKey,\n                      ),\n                      metaSummary: formatMetaSummary(item.meta),\n                    };\n                  })\n                : [];\n              const columnsForType =\n                type.key === 'departments'\n                  ? departmentColumns\n                  : type.key === 'divisions'\n                    ? divisionColumns\n                    : type.key === 'positions'\n                      ? positionColumns\n                      : type.key === 'objects'\n                        ? localizedObjectColumns\n                        : localizedCollectionColumns;\n\n              if (type.key === 'users') {\n                const showEmpty = paginatedUsers.length === 0;\n                return (\n                  <TabsContent\n                    key={type.key}\n                    value={type.key}\n                    className=\"mt-0 flex flex-col gap-4\"\n                  >\n                    {showEmpty ? (\n                      <div className=\"flex flex-col items-center justify-center gap-3 rounded-2xl border border-[color:var(--color-gray-200)] bg-white p-8 text-center shadow-sm dark:border-[color:var(--color-gray-700)] dark:bg-[color:var(--color-gray-dark)]\">\n                        <h3 className=\"text-lg font-semibold text-[color:var(--color-gray-800)] dark:text-white\">\n                          {collectionEmptyTitle}\n                        </h3>\n                        <p className=\"max-w-md text-sm text-[color:var(--color-gray-600)] dark:text-[color:var(--color-gray-300)]\">\n                          {collectionEmptyDescription}\n                        </p>\n                        <Button\n                          variant=\"success\"\n                          onClick={() => openUserModal()}\n                        >\n                          {userAddCta}\n                        </Button>\n                      </div>\n                    ) : (\n                      <DataTable\n                        columns={settingsUserColumns}\n                        data={paginatedUsers}\n                        pageIndex={userPage - 1}\n                        pageSize={limit}\n                        pageCount={userTotalPages}\n                        onPageChange={(index) => setUserPage(index + 1)}\n                        showGlobalSearch={false}\n                        showFilters={false}\n                        onRowClick={(row) => openUserModal(row)}\n                        wrapCellsAsBadges\n                        badgeClassName={SETTINGS_BADGE_CLASS}\n                        badgeWrapperClassName={SETTINGS_BADGE_WRAPPER_CLASS}\n                        badgeEmptyPlaceholder={SETTINGS_BADGE_EMPTY}\n                      />\n                    )}\n                  </TabsContent>\n                );\n              }\n\n              if (type.key === 'employees') {\n                const showEmpty = employeeRows.length === 0;\n                return (\n                  <TabsContent\n                    key={type.key}\n                    value={type.key}\n                    className=\"mt-0 flex flex-col gap-4\"\n                  >\n                    {showEmpty ? (\n                      <div className=\"flex flex-col items-center justify-center gap-3 rounded-2xl border border-[color:var(--color-gray-200)] bg-white p-8 text-center shadow-sm dark:border-[color:var(--color-gray-700)] dark:bg-[color:var(--color-gray-dark)]\">\n                        <h3 className=\"text-lg font-semibold text-[color:var(--color-gray-800)] dark:text-white\">\n                          {collectionEmptyTitle}\n                        </h3>\n                        <p className=\"max-w-md text-sm text-[color:var(--color-gray-600)] dark:text-[color:var(--color-gray-300)]\">\n                          {collectionEmptyDescription}\n                        </p>\n                        <Button\n                          variant=\"success\"\n                          onClick={() => openEmployeeModal()}\n                        >\n                          {employeeAddCta}\n                        </Button>\n                      </div>\n                    ) : (\n                      <DataTable\n                        columns={settingsEmployeeColumns}\n                        data={employeeRows}\n                        pageIndex={userPage - 1}\n                        pageSize={limit}\n                        pageCount={userTotalPages}\n                        onPageChange={(index) => setUserPage(index + 1)}\n                        showGlobalSearch={false}\n                        showFilters={false}\n                        onRowClick={(row) => openEmployeeModal(row)}\n                        wrapCellsAsBadges\n                        badgeClassName={SETTINGS_BADGE_CLASS}\n                        badgeWrapperClassName={SETTINGS_BADGE_WRAPPER_CLASS}\n                        badgeEmptyPlaceholder={SETTINGS_BADGE_EMPTY}\n                      />\n                    )}\n                  </TabsContent>\n                );\n              }\n\n              if (type.key === 'tasks') {\n                return (\n                  <TabsContent key={type.key} value={type.key} className=\"mt-0\">\n                    <TaskSettingsTab\n                      fields={taskFieldItems}\n                      types={taskTypeItems}\n                      loading={tasksLoading}\n                      onSaveField={saveTaskField}\n                      onDeleteField={deleteTaskField}\n                      onSaveType={saveTaskType}\n                      onDeleteType={deleteTaskType}\n                    />\n                  </TabsContent>\n                );\n              }\n\n              if (type.key === 'fleets') {\n                return (\n                  <TabsContent key={type.key} value={type.key} className=\"mt-0\">\n                    <FleetVehiclesTab />\n                  </TabsContent>\n                );\n              }\n\n              const showEmpty = rows.length === 0;\n              return (\n                <TabsContent\n                  key={type.key}\n                  value={type.key}\n                  className=\"mt-0 flex flex-col gap-4\"\n                >\n                  {isActiveTab && isLoading ? (\n                    <div className=\"flex min-h-[12rem] items-center justify-center rounded-2xl border border-[color:var(--color-gray-200)] bg-white shadow-sm dark:border-[color:var(--color-gray-700)] dark:bg-[color:var(--color-gray-dark)]\">\n                      <Spinner className=\"h-6 w-6 text-[color:var(--color-brand-500)]\" />\n                    </div>\n                  ) : showEmpty ? (\n                    <div className=\"flex flex-col items-center justify-center gap-3 rounded-2xl border border-[color:var(--color-gray-200)] bg-white p-8 text-center shadow-sm dark:border-[color:var(--color-gray-700)] dark:bg-[color:var(--color-gray-dark)]\">\n                      <h3 className=\"text-lg font-semibold text-[color:var(--color-gray-800)] dark:text-white\">\n                        {collectionEmptyTitle}\n                      </h3>\n                      <p className=\"max-w-md text-sm text-[color:var(--color-gray-600)] dark:text-[color:var(--color-gray-300)]\">\n                        {collectionEmptyDescription}\n                      </p>\n                      <Button\n                        variant=\"success\"\n                        onClick={() => openCollectionModal()}\n                      >\n                        {collectionEmptyAction}\n                      </Button>\n                    </div>\n                  ) : (\n                    <DataTable\n                      columns={columnsForType}\n                      data={rows}\n                      pageIndex={page - 1}\n                      pageSize={limit}\n                      pageCount={totalPages}\n                      onPageChange={(index) => setPage(index + 1)}\n                      showGlobalSearch={false}\n                      showFilters={false}\n                      onRowClick={(row) => openCollectionModal(row)}\n                      wrapCellsAsBadges\n                      badgeClassName={SETTINGS_BADGE_CLASS}\n                      badgeWrapperClassName={SETTINGS_BADGE_WRAPPER_CLASS}\n                      badgeEmptyPlaceholder={SETTINGS_BADGE_EMPTY}\n                    />\n                  )}\n                </TabsContent>\n              );\n            })}\n          </Tabs>\n        </TabsContent>\n        <Modal open={collectionModalOpen} onClose={closeCollectionModal}>\n          <div className=\"space-y-4\">\n            {selectedCollection ? (\n              <article className=\"rounded-xl border border-slate-200 bg-slate-50 p-4 shadow-sm\">\n                {selectedCollection.type === 'departments' ? (\n                  <>\n                    <h3 className=\"text-base font-semibold\">\n                      Информация о департаменте\n                    </h3>\n                    <dl className=\"mt-2 space-y-3 text-sm\">\n                      <div className=\"flex justify-between gap-4\">\n                        <dt className=\"font-medium text-slate-500\">ID</dt>\n                        <dd className=\"text-right text-slate-900\">\n                          {selectedCollection._id}\n                        </dd>\n                      </div>\n                      <div className=\"flex justify-between gap-4\">\n                        <dt className=\"font-medium text-slate-500\">Название</dt>\n                        <dd className=\"text-right text-slate-900\">\n                          {selectedCollection.name}\n                        </dd>\n                      </div>\n                      <div>\n                        <dt className=\"font-medium text-slate-500\">\n                          Отделы департамента\n                        </dt>\n                        <dd className=\"mt-2\">\n                          {renderBadgeList(selectedDepartmentDivisionNames)}\n                        </dd>\n                      </div>\n                    </dl>\n                  </>\n                ) : selectedCollection.type === 'divisions' ? (\n                  <>\n                    <h3 className=\"text-base font-semibold\">\n                      Информация о департаменте\n                    </h3>\n                    <dl className=\"mt-2 space-y-3 text-sm\">\n                      <div className=\"flex justify-between gap-4\">\n                        <dt className=\"font-medium text-slate-500\">ID</dt>\n                        <dd className=\"text-right text-slate-900\">\n                          {selectedCollection._id}\n                        </dd>\n                      </div>\n                      <div className=\"flex justify-between gap-4\">\n                        <dt className=\"font-medium text-slate-500\">Название</dt>\n                        <dd className=\"text-right text-slate-900\">\n                          {selectedCollection.name}\n                        </dd>\n                      </div>\n                      <div className=\"flex justify-between gap-4\">\n                        <dt className=\"font-medium text-slate-500\">\n                          Департамент\n                        </dt>\n                        <dd className=\"text-right text-slate-900\">\n                          {selectedDivisionDepartmentName || '—'}\n                        </dd>\n                      </div>\n                      <div>\n                        <dt className=\"font-medium text-slate-500\">\n                          Должности отдела\n                        </dt>\n                        <dd className=\"mt-2\">\n                          {renderBadgeList(selectedDivisionPositionNames)}\n                        </dd>\n                      </div>\n                      <div>\n                        <dt className=\"font-medium text-slate-500\">\n                          Сотрудники отдела\n                        </dt>\n                        <dd className=\"mt-2\">\n                          {renderBadgeList(selectedDivisionEmployeeNames)}\n                        </dd>\n                      </div>\n                    </dl>\n                  </>\n                ) : selectedCollection.type === 'objects' &&\n                  selectedObjectDetails ? (\n                  <>\n                    <h3 className=\"text-base font-semibold\">\n                      Информация об объекте\n                    </h3>\n                    <dl className=\"mt-2 space-y-3 text-sm\">\n                      <div className=\"flex justify-between gap-4\">\n                        <dt className=\"font-medium text-slate-500\">ID</dt>\n                        <dd className=\"text-right text-slate-900\">\n                          {selectedCollection._id}\n                        </dd>\n                      </div>\n                      <div className=\"flex justify-between gap-4\">\n                        <dt className=\"font-medium text-slate-500\">Название</dt>\n                        <dd className=\"text-right text-slate-900\">\n                          {selectedCollection.name}\n                        </dd>\n                      </div>\n                      <div className=\"flex justify-between gap-4\">\n                        <dt className=\"font-medium text-slate-500\">Адрес</dt>\n                        <dd className=\"text-right text-slate-900\">\n                          {selectedObjectDetails.address || '—'}\n                        </dd>\n                      </div>\n                      <div className=\"flex justify-between gap-4\">\n                        <dt className=\"font-medium text-slate-500\">\n                          Координаты\n                        </dt>\n                        <dd className=\"text-right text-slate-900\">\n                          {formatCoordinates(\n                            selectedObjectDetails.latitude,\n                            selectedObjectDetails.longitude,\n                          )}\n                        </dd>\n                      </div>\n                      <div>\n                        <dt className=\"font-medium text-slate-500\">Meta</dt>\n                        <dd className=\"mt-1\">\n                          <pre className=\"max-h-48 overflow-auto rounded bg-white p-2 text-xs text-slate-800\">\n                            {selectedCollection.meta\n                              ? JSON.stringify(selectedCollection.meta, null, 2)\n                              : '{}'}\n                          </pre>\n                        </dd>\n                      </div>\n                    </dl>\n                  </>\n                ) : (\n                  <>\n                    <h3 className=\"text-base font-semibold\">\n                      Карточка элемента\n                    </h3>\n                    <dl className=\"mt-2 space-y-1 text-sm\">\n                      <div className=\"flex justify-between gap-4\">\n                        <dt className=\"font-medium text-slate-500\">ID</dt>\n                        <dd className=\"text-right text-slate-900\">\n                          {selectedCollection._id}\n                        </dd>\n                      </div>\n                      <div className=\"flex justify-between gap-4\">\n                        <dt className=\"font-medium text-slate-500\">Название</dt>\n                        <dd className=\"text-right text-slate-900\">\n                          {selectedCollection.name}\n                        </dd>\n                      </div>\n                      <div className=\"flex justify-between gap-4\">\n                        <dt className=\"font-medium text-slate-500\">Тип</dt>\n                        <dd className=\"text-right text-slate-900\">\n                          {selectedCollection.type}\n                        </dd>\n                      </div>\n                      <div>\n                        <dt className=\"font-medium text-slate-500\">Значение</dt>\n                        <dd className=\"mt-1 rounded bg-white p-2 font-mono text-xs text-slate-900\">\n                          {selectedCollection.value || '—'}\n                        </dd>\n                      </div>\n                      <div>\n                        <dt className=\"font-medium text-slate-500\">Meta</dt>\n                        <dd className=\"mt-1\">\n                          <pre className=\"max-h-48 overflow-auto rounded bg-white p-2 text-xs text-slate-800\">\n                            {selectedCollection.meta\n                              ? JSON.stringify(selectedCollection.meta, null, 2)\n                              : '{}'}\n                          </pre>\n                        </dd>\n                      </div>\n                    </dl>\n                  </>\n                )}\n              </article>\n            ) : null}\n            <CollectionForm\n              form={form}\n              onChange={setForm}\n              onSubmit={submit}\n              onDelete={remove}\n              onReset={() => setForm(emptyItemForm)}\n              valueLabel={\n                active === 'departments'\n                  ? 'Отделы'\n                  : active === 'divisions'\n                    ? 'Департамент'\n                    : active === 'positions'\n                      ? 'Отдел'\n                      : active === 'objects'\n                        ? 'Адрес'\n                        : undefined\n              }\n              renderValueField={\n                active === 'departments'\n                  ? renderDepartmentValueField\n                  : active === 'divisions'\n                    ? renderDivisionValueField\n                    : active === 'positions'\n                      ? renderPositionValueField\n                      : active === 'objects'\n                        ? renderObjectValueField\n                        : undefined\n              }\n              readonly={selectedCollectionInfo.readonly}\n              readonlyNotice={selectedCollectionInfo.notice}\n            />\n          </div>\n        </Modal>\n        <Modal open={userModalOpen} onClose={closeUserModal}>\n          <div className=\"space-y-4\">\n            <article className=\"rounded-xl border border-slate-200 bg-slate-50 p-4 shadow-sm\">\n              <header className=\"flex items-start justify-between gap-3\">\n                <div>\n                  <h3 className=\"text-base font-semibold\">\n                    Карточка пользователя\n                  </h3>\n                  <p className=\"text-sm text-slate-500\">\n                    Telegram ID: {userForm.telegram_id ?? '—'}\n                  </p>\n                </div>\n                {canManageUsers && userForm.telegram_id ? (\n                  <Button\n                    type=\"button\"\n                    variant=\"destructive\"\n                    className=\"h-9 px-3 text-sm\"\n                    onClick={() => setConfirmUserDelete(true)}\n                  >\n                    Удалить\n                  </Button>\n                ) : null}\n              </header>\n              <dl className=\"mt-2 grid grid-cols-1 gap-2 text-sm sm:grid-cols-2\">\n                <div>\n                  <dt className=\"font-medium text-slate-500\">Логин</dt>\n                  <dd className=\"text-slate-900\">{userForm.username || '—'}</dd>\n                </div>\n                <div>\n                  <dt className=\"font-medium text-slate-500\">Имя</dt>\n                  <dd className=\"text-slate-900\">{userForm.name || '—'}</dd>\n                </div>\n                <div>\n                  <dt className=\"font-medium text-slate-500\">Телефон</dt>\n                  <dd className=\"text-slate-900\">{userForm.phone || '—'}</dd>\n                </div>\n                <div>\n                  <dt className=\"font-medium text-slate-500\">Мобильный</dt>\n                  <dd className=\"text-slate-900\">\n                    {userForm.mobNumber || '—'}\n                  </dd>\n                </div>\n                <div>\n                  <dt className=\"font-medium text-slate-500\">Email</dt>\n                  <dd className=\"text-slate-900\">{userForm.email || '—'}</dd>\n                </div>\n                <div>\n                  <dt className=\"font-medium text-slate-500\">Роль</dt>\n                  <dd className=\"text-slate-900\">\n                    {formatRoleName(userForm.role)}\n                  </dd>\n                </div>\n                <div>\n                  <dt className=\"font-medium text-slate-500\">Доступ</dt>\n                  <dd className=\"text-slate-900\">{userForm.access}</dd>\n                </div>\n                <div>\n                  <dt className=\"font-medium text-slate-500\">Роль ID</dt>\n                  <dd className=\"text-slate-900\">\n                    {userForm.roleId\n                      ? formatRoleName(\n                          roleMap.get(userForm.roleId) ?? userForm.roleId,\n                        )\n                      : '—'}\n                  </dd>\n                </div>\n                <div>\n                  <dt className=\"font-medium text-slate-500\">Департамент</dt>\n                  <dd className=\"text-slate-900\">\n                    {userForm.departmentId\n                      ? (departmentMap.get(userForm.departmentId) ??\n                        userForm.departmentId)\n                      : '—'}\n                  </dd>\n                </div>\n                <div>\n                  <dt className=\"font-medium text-slate-500\">Отдел</dt>\n                  <dd className=\"text-slate-900\">\n                    {userForm.divisionId\n                      ? (divisionMap.get(userForm.divisionId) ??\n                        userForm.divisionId)\n                      : '—'}\n                  </dd>\n                </div>\n                <div>\n                  <dt className=\"font-medium text-slate-500\">Должность</dt>\n                  <dd className=\"text-slate-900\">\n                    {userForm.positionId\n                      ? (positionMap.get(userForm.positionId) ??\n                        userForm.positionId)\n                      : '—'}\n                  </dd>\n                </div>\n              </dl>\n            </article>\n            <UserForm\n              form={userForm}\n              onChange={setUserForm}\n              onSubmit={submitUser}\n              onReset={() => setUserForm(emptyUser)}\n            />\n          </div>\n        </Modal>\n        <Modal\n          open={isEmployeeModalOpen}\n          onClose={() => setIsEmployeeModalOpen(false)}\n        >\n          <div className=\"space-y-4\">\n            {selectedEmployee ? (\n              <article className=\"rounded-xl border border-slate-200 bg-slate-50 p-4 shadow-sm\">\n                <header className=\"flex items-start justify-between gap-3\">\n                  <div>\n                    <h3 className=\"text-base font-semibold\">\n                      Карточка сотрудника\n                    </h3>\n                    <p className=\"text-sm text-slate-500\">\n                      ID: {selectedEmployee.telegram_id ?? '—'}\n                    </p>\n                  </div>\n                  {canManageUsers && selectedEmployee.telegram_id ? (\n                    <Button\n                      type=\"button\"\n                      variant=\"destructive\"\n                      className=\"h-9 px-3 text-sm\"\n                      onClick={() => setConfirmEmployeeDelete(true)}\n                    >\n                      Удалить\n                    </Button>\n                  ) : null}\n                </header>\n                <dl className=\"mt-2 grid grid-cols-1 gap-2 text-sm sm:grid-cols-2\">\n                  <div>\n                    <dt className=\"font-medium text-slate-500\">Telegram ID</dt>\n                    <dd className=\"text-slate-900\">\n                      {selectedEmployee.telegram_id}\n                    </dd>\n                  </div>\n                  <div>\n                    <dt className=\"font-medium text-slate-500\">Логин</dt>\n                    <dd className=\"text-slate-900\">\n                      {selectedEmployee.username || '—'}\n                    </dd>\n                  </div>\n                  <div>\n                    <dt className=\"font-medium text-slate-500\">Имя</dt>\n                    <dd className=\"text-slate-900\">\n                      {selectedEmployee.name || '—'}\n                    </dd>\n                  </div>\n                  <div>\n                    <dt className=\"font-medium text-slate-500\">Телефон</dt>\n                    <dd className=\"text-slate-900\">\n                      {selectedEmployee.phone || '—'}\n                    </dd>\n                  </div>\n                  <div>\n                    <dt className=\"font-medium text-slate-500\">Мобильный</dt>\n                    <dd className=\"text-slate-900\">\n                      {selectedEmployee.mobNumber || '—'}\n                    </dd>\n                  </div>\n                  <div>\n                    <dt className=\"font-medium text-slate-500\">Email</dt>\n                    <dd className=\"text-slate-900\">\n                      {selectedEmployee.email || '—'}\n                    </dd>\n                  </div>\n                  <div>\n                    <dt className=\"font-medium text-slate-500\">Роль</dt>\n                    <dd className=\"text-slate-900\">\n                      {formatRoleName(selectedEmployee.role)}\n                    </dd>\n                  </div>\n                  <div>\n                    <dt className=\"font-medium text-slate-500\">Доступ</dt>\n                    <dd className=\"text-slate-900\">\n                      {selectedEmployee.access ?? '—'}\n                    </dd>\n                  </div>\n                  <div>\n                    <dt className=\"font-medium text-slate-500\">Роль ID</dt>\n                    <dd className=\"text-slate-900\">\n                      {selectedEmployee.roleId\n                        ? formatRoleName(\n                            roleMap.get(selectedEmployee.roleId) ??\n                              selectedEmployee.roleId,\n                          )\n                        : '—'}\n                    </dd>\n                  </div>\n                  <div>\n                    <dt className=\"font-medium text-slate-500\">Департамент</dt>\n                    <dd className=\"text-slate-900\">\n                      {selectedEmployee.departmentId\n                        ? (departmentMap.get(selectedEmployee.departmentId) ??\n                          selectedEmployee.departmentId)\n                        : '—'}\n                    </dd>\n                  </div>\n                  <div>\n                    <dt className=\"font-medium text-slate-500\">Отдел</dt>\n                    <dd className=\"text-slate-900\">\n                      {selectedEmployee.divisionId\n                        ? (divisionMap.get(selectedEmployee.divisionId) ??\n                          selectedEmployee.divisionId)\n                        : '—'}\n                    </dd>\n                  </div>\n                  <div>\n                    <dt className=\"font-medium text-slate-500\">Должность</dt>\n                    <dd className=\"text-slate-900\">\n                      {selectedEmployee.positionId\n                        ? (positionMap.get(selectedEmployee.positionId) ??\n                          selectedEmployee.positionId)\n                        : '—'}\n                    </dd>\n                  </div>\n                </dl>\n              </article>\n            ) : null}\n            <EmployeeCardForm\n              telegramId={\n                employeeFormMode === 'update' ? selectedEmployeeId : undefined\n              }\n              mode={employeeFormMode}\n              onSaved={handleEmployeeSaved}\n            />\n          </div>\n        </Modal>\n        <ConfirmDialog\n          open={confirmUserDelete}\n          message=\"Удалить пользователя? Это действие нельзя отменить.\"\n          onConfirm={executeUserDelete}\n          onCancel={() => setConfirmUserDelete(false)}\n          confirmText=\"Удалить\"\n        />\n        <ConfirmDialog\n          open={confirmEmployeeDelete}\n          message=\"Удалить сотрудника? Это действие нельзя отменить.\"\n          onConfirm={executeEmployeeDelete}\n          onCancel={() => setConfirmEmployeeDelete(false)}\n          confirmText=\"Удалить\"\n        />\n        <TabsContent value=\"reports\" className=\"mt-0\">\n          <div className=\"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-900\">\n            <AnalyticsDashboard />\n          </div>\n        </TabsContent>\n        <TabsContent value=\"archive\" className=\"mt-0\">\n          <div className=\"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-900\">\n            <ArchivePage />\n          </div>\n        </TabsContent>\n        <TabsContent value=\"logs\" className=\"mt-0\">\n          <div className=\"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-900\">\n            <LogsPage />\n          </div>\n        </TabsContent>\n        <TabsContent value=\"storage\" className=\"mt-0\">\n          <div className=\"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-900\">\n            <StoragePage />\n          </div>\n        </TabsContent>\n        <TabsContent value=\"health\" className=\"mt-0\">\n          <div className=\"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-900\">\n            <HealthCheckTab />\n          </div>\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}\n","import * as React from \"react\";\nfunction ArchiveBoxIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ArchiveBoxIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction BuildingOffice2Icon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(BuildingOffice2Icon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction CheckIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m4.5 12.75 6 6 9-13.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CheckIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction DocumentDuplicateIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(DocumentDuplicateIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction IdentificationIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(IdentificationIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction KeyIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(KeyIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction MapPinIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(MapPinIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PauseIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15.75 5.25v13.5m-7.5-13.5v13.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PauseIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PlayIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PlayIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction RectangleStackIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M6 6.878V6a2.25 2.25 0 0 1 2.25-2.25h7.5A2.25 2.25 0 0 1 18 6v.878m-12 0c.235-.083.487-.128.75-.128h10.5c.263 0 .515.045.75.128m-12 0A2.25 2.25 0 0 0 4.5 9v.878m13.5-3A2.25 2.25 0 0 1 19.5 9v.878m0 0a2.246 2.246 0 0 0-.75-.128H5.25c-.263 0-.515.045-.75.128m15 0A2.25 2.25 0 0 1 21 12v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6c0-.98.626-1.813 1.5-2.122\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(RectangleStackIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ShieldCheckIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ShieldCheckIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction Squares2X2Icon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(Squares2X2Icon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction TruckIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(TruckIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction UserGroupIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(UserGroupIcon);\nexport default ForwardRef;","var characterMap = {\n\t\"À\": \"A\",\n\t\"Á\": \"A\",\n\t\"Â\": \"A\",\n\t\"Ã\": \"A\",\n\t\"Ä\": \"A\",\n\t\"Å\": \"A\",\n\t\"Ấ\": \"A\",\n\t\"Ắ\": \"A\",\n\t\"Ẳ\": \"A\",\n\t\"Ẵ\": \"A\",\n\t\"Ặ\": \"A\",\n\t\"Æ\": \"AE\",\n\t\"Ầ\": \"A\",\n\t\"Ằ\": \"A\",\n\t\"Ȃ\": \"A\",\n\t\"Ả\": \"A\",\n\t\"Ạ\": \"A\",\n\t\"Ẩ\": \"A\",\n\t\"Ẫ\": \"A\",\n\t\"Ậ\": \"A\",\n\t\"Ç\": \"C\",\n\t\"Ḉ\": \"C\",\n\t\"È\": \"E\",\n\t\"É\": \"E\",\n\t\"Ê\": \"E\",\n\t\"Ë\": \"E\",\n\t\"Ế\": \"E\",\n\t\"Ḗ\": \"E\",\n\t\"Ề\": \"E\",\n\t\"Ḕ\": \"E\",\n\t\"Ḝ\": \"E\",\n\t\"Ȇ\": \"E\",\n\t\"Ẻ\": \"E\",\n\t\"Ẽ\": \"E\",\n\t\"Ẹ\": \"E\",\n\t\"Ể\": \"E\",\n\t\"Ễ\": \"E\",\n\t\"Ệ\": \"E\",\n\t\"Ì\": \"I\",\n\t\"Í\": \"I\",\n\t\"Î\": \"I\",\n\t\"Ï\": \"I\",\n\t\"Ḯ\": \"I\",\n\t\"Ȋ\": \"I\",\n\t\"Ỉ\": \"I\",\n\t\"Ị\": \"I\",\n\t\"Ð\": \"D\",\n\t\"Ñ\": \"N\",\n\t\"Ò\": \"O\",\n\t\"Ó\": \"O\",\n\t\"Ô\": \"O\",\n\t\"Õ\": \"O\",\n\t\"Ö\": \"O\",\n\t\"Ø\": \"O\",\n\t\"Ố\": \"O\",\n\t\"Ṍ\": \"O\",\n\t\"Ṓ\": \"O\",\n\t\"Ȏ\": \"O\",\n\t\"Ỏ\": \"O\",\n\t\"Ọ\": \"O\",\n\t\"Ổ\": \"O\",\n\t\"Ỗ\": \"O\",\n\t\"Ộ\": \"O\",\n\t\"Ờ\": \"O\",\n\t\"Ở\": \"O\",\n\t\"Ỡ\": \"O\",\n\t\"Ớ\": \"O\",\n\t\"Ợ\": \"O\",\n\t\"Ù\": \"U\",\n\t\"Ú\": \"U\",\n\t\"Û\": \"U\",\n\t\"Ü\": \"U\",\n\t\"Ủ\": \"U\",\n\t\"Ụ\": \"U\",\n\t\"Ử\": \"U\",\n\t\"Ữ\": \"U\",\n\t\"Ự\": \"U\",\n\t\"Ý\": \"Y\",\n\t\"à\": \"a\",\n\t\"á\": \"a\",\n\t\"â\": \"a\",\n\t\"ã\": \"a\",\n\t\"ä\": \"a\",\n\t\"å\": \"a\",\n\t\"ấ\": \"a\",\n\t\"ắ\": \"a\",\n\t\"ẳ\": \"a\",\n\t\"ẵ\": \"a\",\n\t\"ặ\": \"a\",\n\t\"æ\": \"ae\",\n\t\"ầ\": \"a\",\n\t\"ằ\": \"a\",\n\t\"ȃ\": \"a\",\n\t\"ả\": \"a\",\n\t\"ạ\": \"a\",\n\t\"ẩ\": \"a\",\n\t\"ẫ\": \"a\",\n\t\"ậ\": \"a\",\n\t\"ç\": \"c\",\n\t\"ḉ\": \"c\",\n\t\"è\": \"e\",\n\t\"é\": \"e\",\n\t\"ê\": \"e\",\n\t\"ë\": \"e\",\n\t\"ế\": \"e\",\n\t\"ḗ\": \"e\",\n\t\"ề\": \"e\",\n\t\"ḕ\": \"e\",\n\t\"ḝ\": \"e\",\n\t\"ȇ\": \"e\",\n\t\"ẻ\": \"e\",\n\t\"ẽ\": \"e\",\n\t\"ẹ\": \"e\",\n\t\"ể\": \"e\",\n\t\"ễ\": \"e\",\n\t\"ệ\": \"e\",\n\t\"ì\": \"i\",\n\t\"í\": \"i\",\n\t\"î\": \"i\",\n\t\"ï\": \"i\",\n\t\"ḯ\": \"i\",\n\t\"ȋ\": \"i\",\n\t\"ỉ\": \"i\",\n\t\"ị\": \"i\",\n\t\"ð\": \"d\",\n\t\"ñ\": \"n\",\n\t\"ò\": \"o\",\n\t\"ó\": \"o\",\n\t\"ô\": \"o\",\n\t\"õ\": \"o\",\n\t\"ö\": \"o\",\n\t\"ø\": \"o\",\n\t\"ố\": \"o\",\n\t\"ṍ\": \"o\",\n\t\"ṓ\": \"o\",\n\t\"ȏ\": \"o\",\n\t\"ỏ\": \"o\",\n\t\"ọ\": \"o\",\n\t\"ổ\": \"o\",\n\t\"ỗ\": \"o\",\n\t\"ộ\": \"o\",\n\t\"ờ\": \"o\",\n\t\"ở\": \"o\",\n\t\"ỡ\": \"o\",\n\t\"ớ\": \"o\",\n\t\"ợ\": \"o\",\n\t\"ù\": \"u\",\n\t\"ú\": \"u\",\n\t\"û\": \"u\",\n\t\"ü\": \"u\",\n\t\"ủ\": \"u\",\n\t\"ụ\": \"u\",\n\t\"ử\": \"u\",\n\t\"ữ\": \"u\",\n\t\"ự\": \"u\",\n\t\"ý\": \"y\",\n\t\"ÿ\": \"y\",\n\t\"Ā\": \"A\",\n\t\"ā\": \"a\",\n\t\"Ă\": \"A\",\n\t\"ă\": \"a\",\n\t\"Ą\": \"A\",\n\t\"ą\": \"a\",\n\t\"Ć\": \"C\",\n\t\"ć\": \"c\",\n\t\"Ĉ\": \"C\",\n\t\"ĉ\": \"c\",\n\t\"Ċ\": \"C\",\n\t\"ċ\": \"c\",\n\t\"Č\": \"C\",\n\t\"č\": \"c\",\n\t\"C̆\": \"C\",\n\t\"c̆\": \"c\",\n\t\"Ď\": \"D\",\n\t\"ď\": \"d\",\n\t\"Đ\": \"D\",\n\t\"đ\": \"d\",\n\t\"Ē\": \"E\",\n\t\"ē\": \"e\",\n\t\"Ĕ\": \"E\",\n\t\"ĕ\": \"e\",\n\t\"Ė\": \"E\",\n\t\"ė\": \"e\",\n\t\"Ę\": \"E\",\n\t\"ę\": \"e\",\n\t\"Ě\": \"E\",\n\t\"ě\": \"e\",\n\t\"Ĝ\": \"G\",\n\t\"Ǵ\": \"G\",\n\t\"ĝ\": \"g\",\n\t\"ǵ\": \"g\",\n\t\"Ğ\": \"G\",\n\t\"ğ\": \"g\",\n\t\"Ġ\": \"G\",\n\t\"ġ\": \"g\",\n\t\"Ģ\": \"G\",\n\t\"ģ\": \"g\",\n\t\"Ĥ\": \"H\",\n\t\"ĥ\": \"h\",\n\t\"Ħ\": \"H\",\n\t\"ħ\": \"h\",\n\t\"Ḫ\": \"H\",\n\t\"ḫ\": \"h\",\n\t\"Ĩ\": \"I\",\n\t\"ĩ\": \"i\",\n\t\"Ī\": \"I\",\n\t\"ī\": \"i\",\n\t\"Ĭ\": \"I\",\n\t\"ĭ\": \"i\",\n\t\"Į\": \"I\",\n\t\"į\": \"i\",\n\t\"İ\": \"I\",\n\t\"ı\": \"i\",\n\t\"Ĳ\": \"IJ\",\n\t\"ĳ\": \"ij\",\n\t\"Ĵ\": \"J\",\n\t\"ĵ\": \"j\",\n\t\"Ķ\": \"K\",\n\t\"ķ\": \"k\",\n\t\"Ḱ\": \"K\",\n\t\"ḱ\": \"k\",\n\t\"K̆\": \"K\",\n\t\"k̆\": \"k\",\n\t\"Ĺ\": \"L\",\n\t\"ĺ\": \"l\",\n\t\"Ļ\": \"L\",\n\t\"ļ\": \"l\",\n\t\"Ľ\": \"L\",\n\t\"ľ\": \"l\",\n\t\"Ŀ\": \"L\",\n\t\"ŀ\": \"l\",\n\t\"Ł\": \"l\",\n\t\"ł\": \"l\",\n\t\"Ḿ\": \"M\",\n\t\"ḿ\": \"m\",\n\t\"M̆\": \"M\",\n\t\"m̆\": \"m\",\n\t\"Ń\": \"N\",\n\t\"ń\": \"n\",\n\t\"Ņ\": \"N\",\n\t\"ņ\": \"n\",\n\t\"Ň\": \"N\",\n\t\"ň\": \"n\",\n\t\"ŉ\": \"n\",\n\t\"N̆\": \"N\",\n\t\"n̆\": \"n\",\n\t\"Ō\": \"O\",\n\t\"ō\": \"o\",\n\t\"Ŏ\": \"O\",\n\t\"ŏ\": \"o\",\n\t\"Ő\": \"O\",\n\t\"ő\": \"o\",\n\t\"Œ\": \"OE\",\n\t\"œ\": \"oe\",\n\t\"P̆\": \"P\",\n\t\"p̆\": \"p\",\n\t\"Ŕ\": \"R\",\n\t\"ŕ\": \"r\",\n\t\"Ŗ\": \"R\",\n\t\"ŗ\": \"r\",\n\t\"Ř\": \"R\",\n\t\"ř\": \"r\",\n\t\"R̆\": \"R\",\n\t\"r̆\": \"r\",\n\t\"Ȓ\": \"R\",\n\t\"ȓ\": \"r\",\n\t\"Ś\": \"S\",\n\t\"ś\": \"s\",\n\t\"Ŝ\": \"S\",\n\t\"ŝ\": \"s\",\n\t\"Ş\": \"S\",\n\t\"Ș\": \"S\",\n\t\"ș\": \"s\",\n\t\"ş\": \"s\",\n\t\"Š\": \"S\",\n\t\"š\": \"s\",\n\t\"Ţ\": \"T\",\n\t\"ţ\": \"t\",\n\t\"ț\": \"t\",\n\t\"Ț\": \"T\",\n\t\"Ť\": \"T\",\n\t\"ť\": \"t\",\n\t\"Ŧ\": \"T\",\n\t\"ŧ\": \"t\",\n\t\"T̆\": \"T\",\n\t\"t̆\": \"t\",\n\t\"Ũ\": \"U\",\n\t\"ũ\": \"u\",\n\t\"Ū\": \"U\",\n\t\"ū\": \"u\",\n\t\"Ŭ\": \"U\",\n\t\"ŭ\": \"u\",\n\t\"Ů\": \"U\",\n\t\"ů\": \"u\",\n\t\"Ű\": \"U\",\n\t\"ű\": \"u\",\n\t\"Ų\": \"U\",\n\t\"ų\": \"u\",\n\t\"Ȗ\": \"U\",\n\t\"ȗ\": \"u\",\n\t\"V̆\": \"V\",\n\t\"v̆\": \"v\",\n\t\"Ŵ\": \"W\",\n\t\"ŵ\": \"w\",\n\t\"Ẃ\": \"W\",\n\t\"ẃ\": \"w\",\n\t\"X̆\": \"X\",\n\t\"x̆\": \"x\",\n\t\"Ŷ\": \"Y\",\n\t\"ŷ\": \"y\",\n\t\"Ÿ\": \"Y\",\n\t\"Y̆\": \"Y\",\n\t\"y̆\": \"y\",\n\t\"Ź\": \"Z\",\n\t\"ź\": \"z\",\n\t\"Ż\": \"Z\",\n\t\"ż\": \"z\",\n\t\"Ž\": \"Z\",\n\t\"ž\": \"z\",\n\t\"ſ\": \"s\",\n\t\"ƒ\": \"f\",\n\t\"Ơ\": \"O\",\n\t\"ơ\": \"o\",\n\t\"Ư\": \"U\",\n\t\"ư\": \"u\",\n\t\"Ǎ\": \"A\",\n\t\"ǎ\": \"a\",\n\t\"Ǐ\": \"I\",\n\t\"ǐ\": \"i\",\n\t\"Ǒ\": \"O\",\n\t\"ǒ\": \"o\",\n\t\"Ǔ\": \"U\",\n\t\"ǔ\": \"u\",\n\t\"Ǖ\": \"U\",\n\t\"ǖ\": \"u\",\n\t\"Ǘ\": \"U\",\n\t\"ǘ\": \"u\",\n\t\"Ǚ\": \"U\",\n\t\"ǚ\": \"u\",\n\t\"Ǜ\": \"U\",\n\t\"ǜ\": \"u\",\n\t\"Ứ\": \"U\",\n\t\"ứ\": \"u\",\n\t\"Ṹ\": \"U\",\n\t\"ṹ\": \"u\",\n\t\"Ǻ\": \"A\",\n\t\"ǻ\": \"a\",\n\t\"Ǽ\": \"AE\",\n\t\"ǽ\": \"ae\",\n\t\"Ǿ\": \"O\",\n\t\"ǿ\": \"o\",\n\t\"Þ\": \"TH\",\n\t\"þ\": \"th\",\n\t\"Ṕ\": \"P\",\n\t\"ṕ\": \"p\",\n\t\"Ṥ\": \"S\",\n\t\"ṥ\": \"s\",\n\t\"X́\": \"X\",\n\t\"x́\": \"x\",\n\t\"Ѓ\": \"Г\",\n\t\"ѓ\": \"г\",\n\t\"Ќ\": \"К\",\n\t\"ќ\": \"к\",\n\t\"A̋\": \"A\",\n\t\"a̋\": \"a\",\n\t\"E̋\": \"E\",\n\t\"e̋\": \"e\",\n\t\"I̋\": \"I\",\n\t\"i̋\": \"i\",\n\t\"Ǹ\": \"N\",\n\t\"ǹ\": \"n\",\n\t\"Ồ\": \"O\",\n\t\"ồ\": \"o\",\n\t\"Ṑ\": \"O\",\n\t\"ṑ\": \"o\",\n\t\"Ừ\": \"U\",\n\t\"ừ\": \"u\",\n\t\"Ẁ\": \"W\",\n\t\"ẁ\": \"w\",\n\t\"Ỳ\": \"Y\",\n\t\"ỳ\": \"y\",\n\t\"Ȁ\": \"A\",\n\t\"ȁ\": \"a\",\n\t\"Ȅ\": \"E\",\n\t\"ȅ\": \"e\",\n\t\"Ȉ\": \"I\",\n\t\"ȉ\": \"i\",\n\t\"Ȍ\": \"O\",\n\t\"ȍ\": \"o\",\n\t\"Ȑ\": \"R\",\n\t\"ȑ\": \"r\",\n\t\"Ȕ\": \"U\",\n\t\"ȕ\": \"u\",\n\t\"B̌\": \"B\",\n\t\"b̌\": \"b\",\n\t\"Č̣\": \"C\",\n\t\"č̣\": \"c\",\n\t\"Ê̌\": \"E\",\n\t\"ê̌\": \"e\",\n\t\"F̌\": \"F\",\n\t\"f̌\": \"f\",\n\t\"Ǧ\": \"G\",\n\t\"ǧ\": \"g\",\n\t\"Ȟ\": \"H\",\n\t\"ȟ\": \"h\",\n\t\"J̌\": \"J\",\n\t\"ǰ\": \"j\",\n\t\"Ǩ\": \"K\",\n\t\"ǩ\": \"k\",\n\t\"M̌\": \"M\",\n\t\"m̌\": \"m\",\n\t\"P̌\": \"P\",\n\t\"p̌\": \"p\",\n\t\"Q̌\": \"Q\",\n\t\"q̌\": \"q\",\n\t\"Ř̩\": \"R\",\n\t\"ř̩\": \"r\",\n\t\"Ṧ\": \"S\",\n\t\"ṧ\": \"s\",\n\t\"V̌\": \"V\",\n\t\"v̌\": \"v\",\n\t\"W̌\": \"W\",\n\t\"w̌\": \"w\",\n\t\"X̌\": \"X\",\n\t\"x̌\": \"x\",\n\t\"Y̌\": \"Y\",\n\t\"y̌\": \"y\",\n\t\"A̧\": \"A\",\n\t\"a̧\": \"a\",\n\t\"B̧\": \"B\",\n\t\"b̧\": \"b\",\n\t\"Ḑ\": \"D\",\n\t\"ḑ\": \"d\",\n\t\"Ȩ\": \"E\",\n\t\"ȩ\": \"e\",\n\t\"Ɛ̧\": \"E\",\n\t\"ɛ̧\": \"e\",\n\t\"Ḩ\": \"H\",\n\t\"ḩ\": \"h\",\n\t\"I̧\": \"I\",\n\t\"i̧\": \"i\",\n\t\"Ɨ̧\": \"I\",\n\t\"ɨ̧\": \"i\",\n\t\"M̧\": \"M\",\n\t\"m̧\": \"m\",\n\t\"O̧\": \"O\",\n\t\"o̧\": \"o\",\n\t\"Q̧\": \"Q\",\n\t\"q̧\": \"q\",\n\t\"U̧\": \"U\",\n\t\"u̧\": \"u\",\n\t\"X̧\": \"X\",\n\t\"x̧\": \"x\",\n\t\"Z̧\": \"Z\",\n\t\"z̧\": \"z\",\n\t\"й\":\"и\",\n\t\"Й\":\"И\",\n\t\"ё\":\"е\",\n\t\"Ё\":\"Е\",\n};\n\nvar chars = Object.keys(characterMap).join('|');\nvar allAccents = new RegExp(chars, 'g');\nvar firstAccent = new RegExp(chars, '');\n\nfunction matcher(match) {\n\treturn characterMap[match];\n}\n\nvar removeAccents = function(string) {\n\treturn string.replace(allAccents, matcher);\n};\n\nvar hasAccents = function(string) {\n\treturn !!string.match(firstAccent);\n};\n\nmodule.exports = removeAccents;\nmodule.exports.has = hasAccents;\nmodule.exports.remove = removeAccents;\n","\"use client\";\n\n// src/tabs.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { createRovingFocusGroupScope } from \"@radix-ui/react-roving-focus\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport * as RovingFocusGroup from \"@radix-ui/react-roving-focus\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { useId } from \"@radix-ui/react-id\";\nimport { jsx } from \"react/jsx-runtime\";\nvar TABS_NAME = \"Tabs\";\nvar [createTabsContext, createTabsScope] = createContextScope(TABS_NAME, [\n  createRovingFocusGroupScope\n]);\nvar useRovingFocusGroupScope = createRovingFocusGroupScope();\nvar [TabsProvider, useTabsContext] = createTabsContext(TABS_NAME);\nvar Tabs = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeTabs,\n      value: valueProp,\n      onValueChange,\n      defaultValue,\n      orientation = \"horizontal\",\n      dir,\n      activationMode = \"automatic\",\n      ...tabsProps\n    } = props;\n    const direction = useDirection(dir);\n    const [value, setValue] = useControllableState({\n      prop: valueProp,\n      onChange: onValueChange,\n      defaultProp: defaultValue ?? \"\",\n      caller: TABS_NAME\n    });\n    return /* @__PURE__ */ jsx(\n      TabsProvider,\n      {\n        scope: __scopeTabs,\n        baseId: useId(),\n        value,\n        onValueChange: setValue,\n        orientation,\n        dir: direction,\n        activationMode,\n        children: /* @__PURE__ */ jsx(\n          Primitive.div,\n          {\n            dir: direction,\n            \"data-orientation\": orientation,\n            ...tabsProps,\n            ref: forwardedRef\n          }\n        )\n      }\n    );\n  }\n);\nTabs.displayName = TABS_NAME;\nvar TAB_LIST_NAME = \"TabsList\";\nvar TabsList = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTabs, loop = true, ...listProps } = props;\n    const context = useTabsContext(TAB_LIST_NAME, __scopeTabs);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeTabs);\n    return /* @__PURE__ */ jsx(\n      RovingFocusGroup.Root,\n      {\n        asChild: true,\n        ...rovingFocusGroupScope,\n        orientation: context.orientation,\n        dir: context.dir,\n        loop,\n        children: /* @__PURE__ */ jsx(\n          Primitive.div,\n          {\n            role: \"tablist\",\n            \"aria-orientation\": context.orientation,\n            ...listProps,\n            ref: forwardedRef\n          }\n        )\n      }\n    );\n  }\n);\nTabsList.displayName = TAB_LIST_NAME;\nvar TRIGGER_NAME = \"TabsTrigger\";\nvar TabsTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTabs, value, disabled = false, ...triggerProps } = props;\n    const context = useTabsContext(TRIGGER_NAME, __scopeTabs);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeTabs);\n    const triggerId = makeTriggerId(context.baseId, value);\n    const contentId = makeContentId(context.baseId, value);\n    const isSelected = value === context.value;\n    return /* @__PURE__ */ jsx(\n      RovingFocusGroup.Item,\n      {\n        asChild: true,\n        ...rovingFocusGroupScope,\n        focusable: !disabled,\n        active: isSelected,\n        children: /* @__PURE__ */ jsx(\n          Primitive.button,\n          {\n            type: \"button\",\n            role: \"tab\",\n            \"aria-selected\": isSelected,\n            \"aria-controls\": contentId,\n            \"data-state\": isSelected ? \"active\" : \"inactive\",\n            \"data-disabled\": disabled ? \"\" : void 0,\n            disabled,\n            id: triggerId,\n            ...triggerProps,\n            ref: forwardedRef,\n            onMouseDown: composeEventHandlers(props.onMouseDown, (event) => {\n              if (!disabled && event.button === 0 && event.ctrlKey === false) {\n                context.onValueChange(value);\n              } else {\n                event.preventDefault();\n              }\n            }),\n            onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n              if ([\" \", \"Enter\"].includes(event.key)) context.onValueChange(value);\n            }),\n            onFocus: composeEventHandlers(props.onFocus, () => {\n              const isAutomaticActivation = context.activationMode !== \"manual\";\n              if (!isSelected && !disabled && isAutomaticActivation) {\n                context.onValueChange(value);\n              }\n            })\n          }\n        )\n      }\n    );\n  }\n);\nTabsTrigger.displayName = TRIGGER_NAME;\nvar CONTENT_NAME = \"TabsContent\";\nvar TabsContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTabs, value, forceMount, children, ...contentProps } = props;\n    const context = useTabsContext(CONTENT_NAME, __scopeTabs);\n    const triggerId = makeTriggerId(context.baseId, value);\n    const contentId = makeContentId(context.baseId, value);\n    const isSelected = value === context.value;\n    const isMountAnimationPreventedRef = React.useRef(isSelected);\n    React.useEffect(() => {\n      const rAF = requestAnimationFrame(() => isMountAnimationPreventedRef.current = false);\n      return () => cancelAnimationFrame(rAF);\n    }, []);\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || isSelected, children: ({ present }) => /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        \"data-state\": isSelected ? \"active\" : \"inactive\",\n        \"data-orientation\": context.orientation,\n        role: \"tabpanel\",\n        \"aria-labelledby\": triggerId,\n        hidden: !present,\n        id: contentId,\n        tabIndex: 0,\n        ...contentProps,\n        ref: forwardedRef,\n        style: {\n          ...props.style,\n          animationDuration: isMountAnimationPreventedRef.current ? \"0s\" : void 0\n        },\n        children: present && children\n      }\n    ) });\n  }\n);\nTabsContent.displayName = CONTENT_NAME;\nfunction makeTriggerId(baseId, value) {\n  return `${baseId}-trigger-${value}`;\n}\nfunction makeContentId(baseId, value) {\n  return `${baseId}-content-${value}`;\n}\nvar Root2 = Tabs;\nvar List = TabsList;\nvar Trigger = TabsTrigger;\nvar Content = TabsContent;\nexport {\n  Content,\n  List,\n  Root2 as Root,\n  Tabs,\n  TabsContent,\n  TabsList,\n  TabsTrigger,\n  Trigger,\n  createTabsScope\n};\n//# sourceMappingURL=index.mjs.map\n","'use client';\n\nimport * as React from 'react';\nimport * as TabsPrimitive from '@radix-ui/react-tabs';\n\nimport { cn } from '@/lib/utils';\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return (\n    <TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn('flex flex-col gap-2', className)}\n      {...props}\n    />\n  );\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        // Было: w-fit + без overflow → на узких экранах всё “съезжает” и давит соседние блоки\n        'bg-muted text-muted-foreground inline-flex h-9 w-full max-w-full items-center justify-start overflow-x-auto rounded-lg p-[3px]',\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        // Было: flex-1 → вкладки насильно делили ширину поровну и “ломали” длинные подписи.\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] shrink-0 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn('flex-1 outline-none', className)}\n      {...props}\n    />\n  );\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent };\n","// Назначение файла: компонент панели действий с хлебными крошками, вкладками и тулбаром\n// Основные модули: React, cn util\nimport React from 'react';\n\nimport { cn } from '@/lib/utils';\n\ninterface ActionBarProps {\n  breadcrumbs?: React.ReactNode;\n  title?: React.ReactNode;\n  description?: React.ReactNode;\n  toolbar?: React.ReactNode;\n  children?: React.ReactNode;\n  className?: string;\n}\n\nexport default function ActionBar({\n  breadcrumbs,\n  title,\n  description,\n  toolbar,\n  children,\n  className,\n}: ActionBarProps) {\n  return (\n    <section\n      className={cn(\n        'flex flex-col gap-3 rounded-3xl border border-[color:var(--color-gray-200)]',\n        'bg-[color:var(--color-gray-25)] p-4 shadow-[var(--shadow-theme-sm)] sm:p-6',\n        'dark:border-[color:var(--color-gray-700)] dark:bg-[color:var(--color-gray-dark)]',\n        className,\n      )}\n    >\n      {breadcrumbs ? (\n        <div className=\"text-xs font-semibold uppercase tracking-wide text-[color:var(--color-gray-500)] dark:text-[color:var(--color-gray-300)]\">\n          {breadcrumbs}\n        </div>\n      ) : null}\n      {title || description || toolbar ? (\n        <div className=\"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between\">\n          <div className=\"min-w-0 space-y-1\">\n            {title ? (\n              <h1 className=\"text-lg font-semibold text-[color:var(--color-gray-900)] dark:text-white sm:text-xl\">\n                {title}\n              </h1>\n            ) : null}\n            {description ? (\n              <p className=\"text-sm text-[color:var(--color-gray-600)] dark:text-[color:var(--color-gray-300)]\">\n                {description}\n              </p>\n            ) : null}\n          </div>\n          {toolbar ? (\n            <div className=\"flex flex-wrap items-center justify-end gap-2\">\n              {toolbar}\n            </div>\n          ) : null}\n        </div>\n      ) : null}\n      {children ? (\n        <div className=\"space-y-3 sm:space-y-4\">{children}</div>\n      ) : null}\n    </section>\n  );\n}\n","// Назначение файла: компонент кнопки-чипа для копирования идентификаторов\n// Основные модули: React, heroicons, cn util\nimport React from 'react';\nimport { CheckIcon, DocumentDuplicateIcon } from '@heroicons/react/24/outline';\n\nimport { cn } from '@/lib/utils';\n\ninterface CopyableIdProps\n  extends Omit<React.ButtonHTMLAttributes<HTMLButtonElement>, 'value'> {\n  value: string;\n  displayValue?: string;\n  copyHint?: string;\n  copiedHint?: string;\n  onCopy?: (payload: { value: string }) => void;\n}\n\nexport default function CopyableId({\n  value,\n  displayValue,\n  copyHint,\n  copiedHint,\n  onCopy,\n  className,\n  disabled,\n  ...props\n}: CopyableIdProps) {\n  const [copied, setCopied] = React.useState(false);\n  const resetTimerRef = React.useRef<number>();\n\n  const textToShow = displayValue ?? value;\n  const defaultCopyHint = copyHint ?? 'Copy';\n  const defaultCopiedHint = copiedHint ?? 'Copied';\n\n  React.useEffect(() => {\n    return () => {\n      if (resetTimerRef.current) {\n        window.clearTimeout(resetTimerRef.current);\n      }\n    };\n  }, []);\n\n  React.useEffect(() => {\n    if (!copied) return;\n    resetTimerRef.current = window.setTimeout(() => setCopied(false), 1600);\n    return () => {\n      if (resetTimerRef.current) {\n        window.clearTimeout(resetTimerRef.current);\n      }\n    };\n  }, [copied]);\n\n  const handleCopy = async () => {\n    if (!value || disabled) return;\n    const performCopy = async () => {\n      if (typeof navigator !== 'undefined' && navigator.clipboard?.writeText) {\n        await navigator.clipboard.writeText(value);\n        return true;\n      }\n      if (typeof document === 'undefined') {\n        return false;\n      }\n      const textarea = document.createElement('textarea');\n      textarea.value = value;\n      textarea.setAttribute('readonly', '');\n      textarea.style.position = 'absolute';\n      textarea.style.left = '-9999px';\n      document.body.appendChild(textarea);\n      textarea.select();\n      try {\n        const result = document.execCommand('copy');\n        return result;\n      } catch {\n        return false;\n      } finally {\n        document.body.removeChild(textarea);\n      }\n    };\n\n    try {\n      const success = await performCopy();\n      if (success) {\n        setCopied(true);\n      }\n    } finally {\n      onCopy?.({ value });\n    }\n  };\n\n  return (\n    <button\n      type=\"button\"\n      className={cn(\n        'inline-flex items-center gap-1.5 rounded-full border border-[color:var(--color-gray-300)]',\n        'bg-[color:var(--color-gray-25)] px-3 py-1 text-[11px] font-semibold tracking-wide text-[color:var(--color-gray-700)]',\n        'transition-colors duration-150 ease-out hover:border-[color:var(--color-brand-400)] hover:bg-[color:var(--color-brand-50)]',\n        'focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--color-brand-500)] focus-visible:ring-offset-2',\n        'disabled:cursor-not-allowed disabled:border-[color:var(--color-gray-200)] disabled:text-[color:var(--color-gray-400)]',\n        'dark:border-[color:var(--color-gray-700)] dark:bg-[color:var(--color-gray-dark)] dark:text-[color:var(--color-gray-100)]',\n        'dark:hover:border-[color:var(--color-brand-400)] dark:hover:bg-[color:var(--color-gray-800)]',\n        className,\n      )}\n      onClick={handleCopy}\n      title={copied ? defaultCopiedHint : defaultCopyHint}\n      aria-pressed={copied}\n      aria-live=\"polite\"\n      disabled={disabled}\n      {...props}\n    >\n      <span className=\"inline-flex items-center gap-1\">\n        {copied ? (\n          <CheckIcon\n            className=\"h-4 w-4 text-[color:var(--color-brand-500)] dark:text-[color:var(--color-brand-400)]\"\n            aria-hidden=\"true\"\n          />\n        ) : (\n          <DocumentDuplicateIcon\n            className=\"h-4 w-4 text-[color:var(--color-gray-500)] dark:text-[color:var(--color-gray-300)]\"\n            aria-hidden=\"true\"\n          />\n        )}\n        <span className=\"truncate text-left\">{textToShow}</span>\n      </span>\n      <span className=\"sr-only\">\n        {copied ? defaultCopiedHint : defaultCopyHint}\n      </span>\n    </button>\n  );\n}\n","// Назначение: форма элемента коллекции с подтверждением действий\n// Основные модули: React, ConfirmDialog\nimport React from 'react';\n\nimport { Button } from '@/components/ui/button';\nimport ConfirmDialog from '../../components/ConfirmDialog';\n\nexport interface CollectionFormState {\n  _id?: string;\n  name: string;\n  value: string;\n  meta?: Record<string, unknown>;\n  address?: string;\n  latitude?: string;\n  longitude?: string;\n}\n\ninterface Props {\n  form: CollectionFormState;\n  onChange: (form: CollectionFormState) => void;\n  onSubmit: () => void;\n  onDelete: () => void;\n  onReset: () => void;\n  valueLabel?: string;\n  renderValueField?: (\n    form: CollectionFormState,\n    onChange: (form: CollectionFormState) => void,\n    options?: { readonly?: boolean },\n  ) => React.ReactNode;\n  readonly?: boolean;\n  readonlyNotice?: string;\n}\n\nexport default function CollectionForm({\n  form,\n  onChange,\n  onSubmit,\n  onDelete,\n  onReset,\n  valueLabel = 'Значение',\n  renderValueField,\n  readonly = false,\n  readonlyNotice,\n}: Props) {\n  const [confirmDelete, setConfirmDelete] = React.useState(false);\n  const [confirmSave, setConfirmSave] = React.useState(false);\n\n  const submit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (readonly) return;\n    setConfirmSave(true);\n  };\n\n  return (\n    <form onSubmit={submit} className=\"space-y-2\">\n      <div>\n        <label className=\"block text-sm font-medium\">Имя</label>\n        <input\n          id=\"collection-form-name\"\n          name=\"collectionName\"\n          className=\"h-10 w-full rounded border px-3\"\n          value={form.name}\n          onChange={(e) => onChange({ ...form, name: e.target.value })}\n          required\n          disabled={readonly}\n        />\n      </div>\n      <div>\n        <label className=\"block text-sm font-medium\">{valueLabel}</label>\n        {renderValueField ? (\n          renderValueField(form, readonly ? () => undefined : onChange, {\n            readonly,\n          })\n        ) : (\n          <input\n            id=\"collection-form-value\"\n            name=\"collectionValue\"\n            className=\"h-10 w-full rounded border px-3\"\n            value={form.value}\n            onChange={(e) => onChange({ ...form, value: e.target.value })}\n            required\n            disabled={readonly}\n          />\n        )}\n      </div>\n      {readonly ? (\n        <p className=\"rounded border border-amber-200 bg-amber-50 p-2 text-sm text-amber-900\">\n          {readonlyNotice ?? 'Элемент доступен только для чтения.'}\n        </p>\n      ) : null}\n      <div className=\"flex gap-2\">\n        <Button type=\"submit\" disabled={readonly}>\n          Сохранить\n        </Button>\n        {form._id ? (\n          <Button\n            type=\"button\"\n            variant=\"destructive\"\n            disabled={readonly}\n            onClick={() => {\n              if (readonly) return;\n              setConfirmDelete(true);\n            }}\n          >\n            Удалить\n          </Button>\n        ) : (\n          <Button\n            type=\"button\"\n            variant=\"outline\"\n            onClick={onReset}\n            disabled={readonly}\n          >\n            Очистить\n          </Button>\n        )}\n      </div>\n      <ConfirmDialog\n        open={confirmSave}\n        message=\"Сохранить изменения?\"\n        onConfirm={() => {\n          setConfirmSave(false);\n          onSubmit();\n        }}\n        onCancel={() => setConfirmSave(false)}\n        confirmText=\"Сохранить\"\n      />\n      <ConfirmDialog\n        open={confirmDelete}\n        message=\"Удалить элемент?\"\n        onConfirm={() => {\n          setConfirmDelete(false);\n          onDelete();\n        }}\n        onCancel={() => setConfirmDelete(false)}\n      />\n    </form>\n  );\n}\n","// Назначение: сервисные функции для работы с объектами автопарка\n// Основные модули: authFetch, shared/FleetVehicleDto\nimport authFetch from '../utils/authFetch';\nimport type { FleetVehicleDto } from 'shared';\n\ntype PendingRequest = {\n  controller: AbortController;\n  promise: Promise<FleetVehicleResponse>;\n};\n\nconst pendingRequests = new Map<string, PendingRequest>();\n\nconst buildKey = (search: string, page: number, limit: number): string =>\n  `${search}::${page}::${limit}`;\n\nexport interface FleetVehiclePositionPayload {\n  lat: number;\n  lon: number;\n  timestamp?: string;\n}\n\nexport interface FleetVehiclePayload {\n  name: string;\n  registrationNumber: string;\n  odometerInitial: number;\n  odometerCurrent: number;\n  mileageTotal: number;\n  transportType: 'Легковой' | 'Грузовой';\n  fuelType: 'Бензин' | 'Дизель' | 'Газ';\n  fuelRefilled: number;\n  fuelAverageConsumption: number;\n  fuelSpentTotal: number;\n  currentTasks: string[];\n  position?: FleetVehiclePositionPayload | null;\n}\n\nexport interface FleetVehicleResponse {\n  items: FleetVehicleDto[];\n  total: number;\n  page: number;\n  limit: number;\n}\n\nfunction parseResponse(res: Response, fallback: string) {\n  if (res.ok) return res.json();\n  return res.text().then((text) => {\n    throw new Error(text || fallback);\n  });\n}\n\nexport async function listFleetVehicles(\n  search = '',\n  page = 1,\n  limit = 10,\n): Promise<FleetVehicleResponse> {\n  const key = buildKey(search, page, limit);\n  const existing = pendingRequests.get(key);\n  if (existing) {\n    return existing.promise;\n  }\n\n  if (pendingRequests.size > 0) {\n    pendingRequests.forEach((entry, pendingKey) => {\n      if (pendingKey !== key) {\n        entry.controller.abort();\n        pendingRequests.delete(pendingKey);\n      }\n    });\n  }\n\n  const controller = new AbortController();\n  const params = new URLSearchParams();\n  params.set('page', String(page));\n  params.set('limit', String(limit));\n  if (search) params.set('search', search);\n  const request = authFetch(`/api/v1/fleets?${params.toString()}`, {\n    signal: controller.signal,\n  })\n    .then((res) => parseResponse(res, 'Не удалось загрузить транспорт'))\n    .finally(() => {\n      const entry = pendingRequests.get(key);\n      if (entry?.controller === controller) {\n        pendingRequests.delete(key);\n      }\n    });\n  pendingRequests.set(key, { controller, promise: request });\n  return request;\n}\n\nexport interface LegacyFleetVehiclesResponse {\n  fleet: { id: string; name: string };\n  vehicles: FleetVehicleDto[];\n}\n\nexport async function fetchFleetVehicles(\n  _fleetId?: string,\n): Promise<LegacyFleetVehiclesResponse> {\n  void _fleetId;\n  const data = await listFleetVehicles();\n  return {\n    fleet: { id: 'manual-fleet', name: 'Автопарк' },\n    vehicles: data.items,\n  };\n}\n\nexport async function createFleetVehicle(\n  payload: FleetVehiclePayload,\n): Promise<FleetVehicleDto> {\n  const res = await authFetch('/api/v1/fleets', {\n    method: 'POST',\n    confirmed: true,\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  });\n  return parseResponse(res, 'Не удалось создать транспорт');\n}\n\nexport async function updateFleetVehicle(\n  id: string,\n  payload: Partial<FleetVehiclePayload>,\n): Promise<FleetVehicleDto> {\n  const res = await authFetch(`/api/v1/fleets/${id}`, {\n    method: 'PUT',\n    confirmed: true,\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  });\n  return parseResponse(res, 'Не удалось обновить транспорт');\n}\n\nexport async function deleteFleetVehicle(id: string): Promise<void> {\n  const res = await authFetch(`/api/v1/fleets/${id}`, {\n    method: 'DELETE',\n    confirmed: true,\n  });\n  if (!res.ok) {\n    const text = await res.text().catch(() => '');\n    throw new Error(text || 'Не удалось удалить транспорт');\n  }\n}\n","// Назначение: модальное окно создания и редактирования транспорта\n// Основные модули: React, ConfirmDialog, services/fleets\nimport React, { useEffect, useMemo, useState } from 'react';\n\nimport { Button } from '@/components/ui/button';\nimport ConfirmDialog from '../../components/ConfirmDialog';\nimport type { FleetVehicleDto } from 'shared';\nimport type { FleetVehiclePayload } from '../../services/fleets';\n\ninterface FleetVehicleDialogProps {\n  open: boolean;\n  mode: 'create' | 'update';\n  vehicle: FleetVehicleDto | null;\n  saving: boolean;\n  onSubmit: (payload: FleetVehiclePayload, id?: string) => Promise<void>;\n  onDelete?: (id: string) => Promise<void>;\n  onClose: () => void;\n}\n\ninterface FormState {\n  name: string;\n  registrationNumber: string;\n  odometerInitial: string;\n  odometerCurrent: string;\n  mileageTotal: string;\n  transportType: 'Легковой' | 'Грузовой';\n  fuelType: 'Бензин' | 'Дизель' | 'Газ';\n  fuelRefilled: string;\n  fuelAverageConsumption: string;\n  fuelSpentTotal: string;\n  currentTasks: string;\n}\n\nconst emptyForm: FormState = {\n  name: '',\n  registrationNumber: '',\n  odometerInitial: '0',\n  odometerCurrent: '0',\n  mileageTotal: '0',\n  transportType: 'Легковой',\n  fuelType: 'Бензин',\n  fuelRefilled: '0',\n  fuelAverageConsumption: '0',\n  fuelSpentTotal: '0',\n  currentTasks: '',\n};\n\nconst parseTasks = (value: string): string[] =>\n  value\n    .split(/[\\n,]/)\n    .map((item) => item.trim())\n    .filter(Boolean);\n\nexport default function FleetVehicleDialog({\n  open,\n  mode,\n  vehicle,\n  saving,\n  onSubmit,\n  onDelete,\n  onClose,\n}: FleetVehicleDialogProps) {\n  const [form, setForm] = useState<FormState>(emptyForm);\n  const [error, setError] = useState<string | null>(null);\n  const [confirmSave, setConfirmSave] = useState(false);\n  const [confirmDelete, setConfirmDelete] = useState(false);\n\n  useEffect(() => {\n    if (open && vehicle) {\n      const currentTasks = Array.isArray(vehicle.currentTasks)\n        ? vehicle.currentTasks.filter(Boolean)\n        : [];\n      setForm({\n        name: vehicle.name,\n        registrationNumber: vehicle.registrationNumber,\n        odometerInitial: String(vehicle.odometerInitial),\n        odometerCurrent: String(vehicle.odometerCurrent),\n        mileageTotal: String(vehicle.mileageTotal),\n        transportType: vehicle.transportType,\n        fuelType: vehicle.fuelType,\n        fuelRefilled: String(vehicle.fuelRefilled),\n        fuelAverageConsumption: String(vehicle.fuelAverageConsumption),\n        fuelSpentTotal: String(vehicle.fuelSpentTotal),\n        currentTasks: currentTasks.join('\\n'),\n      });\n      setError(null);\n      setConfirmSave(false);\n      setConfirmDelete(false);\n      return;\n    }\n    if (open && mode === 'create') {\n      setForm(emptyForm);\n      setError(null);\n      setConfirmSave(false);\n      setConfirmDelete(false);\n    }\n    if (!open) {\n      setForm(emptyForm);\n      setError(null);\n      setConfirmSave(false);\n      setConfirmDelete(false);\n    }\n  }, [open, mode, vehicle]);\n\n  const isUpdate = mode === 'update' && vehicle;\n\n  const payload = useMemo(() => {\n    const base: FleetVehiclePayload = {\n      name: form.name.trim(),\n      registrationNumber: form.registrationNumber.trim().toUpperCase(),\n      odometerInitial: Number(form.odometerInitial || '0'),\n      odometerCurrent: Number(form.odometerCurrent || '0'),\n      mileageTotal: Number(form.mileageTotal || '0'),\n      transportType: form.transportType,\n      fuelType: form.fuelType,\n      fuelRefilled: Number(form.fuelRefilled || '0'),\n      fuelAverageConsumption: Number(form.fuelAverageConsumption || '0'),\n      fuelSpentTotal: Number(form.fuelSpentTotal || '0'),\n      currentTasks: parseTasks(form.currentTasks),\n    };\n    return base;\n  }, [form]);\n\n  const handleSubmit = (event: React.FormEvent) => {\n    event.preventDefault();\n    if (!form.name.trim()) {\n      setError('Название обязательно');\n      return;\n    }\n    if (\n      !/^[A-ZА-ЯІЇЄ]{2} \\d{4} [A-ZА-ЯІЇЄ]{2}$/u.test(payload.registrationNumber)\n    ) {\n      setError('Регистрационный номер должен быть в формате XX 0000 XX');\n      return;\n    }\n    setError(null);\n    setConfirmSave(true);\n  };\n\n  const handleConfirm = async () => {\n    try {\n      await onSubmit(payload, vehicle?.id);\n      setConfirmSave(false);\n      onClose();\n    } catch (submitError) {\n      const message =\n        submitError instanceof Error\n          ? submitError.message\n          : 'Не удалось сохранить транспорт';\n      setError(message);\n      setConfirmSave(false);\n    }\n  };\n\n  const handleDelete = async () => {\n    if (!vehicle || !onDelete) return;\n    try {\n      await onDelete(vehicle.id);\n      setConfirmDelete(false);\n      onClose();\n    } catch (deleteError) {\n      const message =\n        deleteError instanceof Error\n          ? deleteError.message\n          : 'Не удалось удалить транспорт';\n      setError(message);\n      setConfirmDelete(false);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-3\">\n      <div className=\"grid gap-3 md:grid-cols-2\">\n        <label className=\"flex flex-col gap-1\">\n          <span className=\"text-sm font-medium\">Название</span>\n          <input\n            id=\"fleet-vehicle-name\"\n            name=\"name\"\n            className=\"h-10 w-full rounded border px-3\"\n            value={form.name}\n            onChange={(event) =>\n              setForm((prev) => ({ ...prev, name: event.target.value }))\n            }\n            disabled={saving}\n            required\n          />\n        </label>\n        <label className=\"flex flex-col gap-1\">\n          <span className=\"text-sm font-medium\">Регистрационный номер</span>\n          <input\n            id=\"fleet-vehicle-registration\"\n            name=\"registrationNumber\"\n            className=\"h-10 w-full rounded border px-3 uppercase\"\n            value={form.registrationNumber}\n            onChange={(event) =>\n              setForm((prev) => ({\n                ...prev,\n                registrationNumber: event.target.value,\n              }))\n            }\n            disabled={saving}\n            required\n            placeholder=\"AA 1234 BB\"\n          />\n        </label>\n        <label className=\"flex flex-col gap-1\">\n          <span className=\"text-sm font-medium\">Тип транспорта</span>\n          <select\n            id=\"fleet-vehicle-transport-type\"\n            name=\"transportType\"\n            className=\"h-10 w-full rounded border px-3\"\n            value={form.transportType}\n            onChange={(event) =>\n              setForm((prev) => ({\n                ...prev,\n                transportType: event.target.value as FormState['transportType'],\n              }))\n            }\n            disabled={saving}\n            required\n          >\n            <option value=\"Легковой\">Легковой</option>\n            <option value=\"Грузовой\">Грузовой</option>\n          </select>\n        </label>\n        <label className=\"flex flex-col gap-1\">\n          <span className=\"text-sm font-medium\">Одометр начальный, км</span>\n          <input\n            type=\"number\"\n            min=\"0\"\n            id=\"fleet-vehicle-odometer-initial\"\n            name=\"odometerInitial\"\n            className=\"h-10 w-full rounded border px-3\"\n            value={form.odometerInitial}\n            onChange={(event) =>\n              setForm((prev) => ({\n                ...prev,\n                odometerInitial: event.target.value,\n              }))\n            }\n            disabled={saving}\n            required\n          />\n        </label>\n        <label className=\"flex flex-col gap-1\">\n          <span className=\"text-sm font-medium\">Одометр текущий, км</span>\n          <input\n            type=\"number\"\n            min=\"0\"\n            id=\"fleet-vehicle-odometer-current\"\n            name=\"odometerCurrent\"\n            className=\"h-10 w-full rounded border px-3\"\n            value={form.odometerCurrent}\n            onChange={(event) =>\n              setForm((prev) => ({\n                ...prev,\n                odometerCurrent: event.target.value,\n              }))\n            }\n            disabled={saving}\n            required\n          />\n        </label>\n        <label className=\"flex flex-col gap-1\">\n          <span className=\"text-sm font-medium\">Пробег общий, км</span>\n          <input\n            type=\"number\"\n            min=\"0\"\n            id=\"fleet-vehicle-mileage-total\"\n            name=\"mileageTotal\"\n            className=\"h-10 w-full rounded border px-3\"\n            value={form.mileageTotal}\n            onChange={(event) =>\n              setForm((prev) => ({ ...prev, mileageTotal: event.target.value }))\n            }\n            disabled={saving}\n            required\n          />\n        </label>\n        <label className=\"flex flex-col gap-1\">\n          <span className=\"text-sm font-medium\">Вид топлива</span>\n          <select\n            id=\"fleet-vehicle-fuel-type\"\n            name=\"fuelType\"\n            className=\"h-10 w-full rounded border px-3\"\n            value={form.fuelType}\n            onChange={(event) =>\n              setForm((prev) => ({\n                ...prev,\n                fuelType: event.target.value as FormState['fuelType'],\n              }))\n            }\n            disabled={saving}\n          >\n            <option value=\"Бензин\">Бензин</option>\n            <option value=\"Дизель\">Дизель</option>\n            <option value=\"Газ\">Газ</option>\n          </select>\n        </label>\n        <label className=\"flex flex-col gap-1\">\n          <span className=\"text-sm font-medium\">Топлива заправлено</span>\n          <input\n            type=\"number\"\n            min=\"0\"\n            id=\"fleet-vehicle-fuel-refilled\"\n            name=\"fuelRefilled\"\n            className=\"h-10 w-full rounded border px-3\"\n            value={form.fuelRefilled}\n            onChange={(event) =>\n              setForm((prev) => ({ ...prev, fuelRefilled: event.target.value }))\n            }\n            disabled={saving}\n            required\n          />\n        </label>\n        <label className=\"flex flex-col gap-1\">\n          <span className=\"text-sm font-medium\">Расход средний, л/км</span>\n          <input\n            type=\"number\"\n            min=\"0\"\n            step=\"0.01\"\n            id=\"fleet-vehicle-fuel-average\"\n            name=\"fuelAverageConsumption\"\n            className=\"h-10 w-full rounded border px-3\"\n            value={form.fuelAverageConsumption}\n            onChange={(event) =>\n              setForm((prev) => ({\n                ...prev,\n                fuelAverageConsumption: event.target.value,\n              }))\n            }\n            disabled={saving}\n            required\n          />\n        </label>\n        <label className=\"flex flex-col gap-1\">\n          <span className=\"text-sm font-medium\">\n            Затрачено топлива всего, л\n          </span>\n          <input\n            type=\"number\"\n            min=\"0\"\n            id=\"fleet-vehicle-fuel-spent\"\n            name=\"fuelSpentTotal\"\n            className=\"h-10 w-full rounded border px-3\"\n            value={form.fuelSpentTotal}\n            onChange={(event) =>\n              setForm((prev) => ({\n                ...prev,\n                fuelSpentTotal: event.target.value,\n              }))\n            }\n            disabled={saving}\n            required\n          />\n        </label>\n      </div>\n      <label className=\"flex flex-col gap-1\">\n        <span className=\"text-sm font-medium\">\n          Текущие задачи (ID через запятую или перенос строки)\n        </span>\n        <textarea\n          id=\"fleet-vehicle-current-tasks\"\n          name=\"currentTasks\"\n          className=\"min-h-[5rem] w-full rounded border px-3 py-2\"\n          value={form.currentTasks}\n          onChange={(event) =>\n            setForm((prev) => ({ ...prev, currentTasks: event.target.value }))\n          }\n          disabled={saving}\n        />\n      </label>\n      {error ? <p className=\"text-sm text-red-600\">{error}</p> : null}\n      <div className=\"flex flex-wrap gap-2\">\n        <Button type=\"submit\" disabled={saving}>\n          Сохранить\n        </Button>\n        <Button\n          type=\"button\"\n          variant=\"outline\"\n          onClick={onClose}\n          disabled={saving}\n        >\n          Отмена\n        </Button>\n        {isUpdate && onDelete ? (\n          <Button\n            type=\"button\"\n            variant=\"destructive\"\n            onClick={() => setConfirmDelete(true)}\n            disabled={saving}\n          >\n            Удалить\n          </Button>\n        ) : null}\n      </div>\n      <ConfirmDialog\n        open={confirmSave}\n        message=\"Сохранить транспорт?\"\n        confirmText=\"Сохранить\"\n        onConfirm={handleConfirm}\n        onCancel={() => setConfirmSave(false)}\n      />\n      <ConfirmDialog\n        open={confirmDelete}\n        message=\"Удалить транспорт?\"\n        confirmText=\"Удалить\"\n        status=\"danger\"\n        onConfirm={handleDelete}\n        onCancel={() => setConfirmDelete(false)}\n      />\n    </form>\n  );\n}\n","// Назначение файла: колонки таблицы автопарка на странице настроек\n// Основные модули: @tanstack/react-table, shared/types\nimport type { ColumnDef } from '@tanstack/react-table';\nimport type { FleetVehicleDto } from 'shared';\n\nconst stringify = (value: unknown) => {\n  if (value === undefined || value === null) return '';\n  if (Array.isArray(value)) {\n    return value.length ? value.join(', ') : '';\n  }\n  if (typeof value === 'object') {\n    try {\n      return JSON.stringify(value);\n    } catch {\n      return String(value);\n    }\n  }\n  return String(value);\n};\n\nexport type FleetVehicleRow = FleetVehicleDto & {\n  transportHistoryInfo: string;\n};\n\nexport const fleetVehicleColumns: ColumnDef<FleetVehicleRow>[] = [\n  {\n    accessorKey: 'name',\n    header: 'Название',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'registrationNumber',\n    header: 'Рег. номер',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'odometerInitial',\n    header: 'Одометр начальный',\n    meta: { minWidth: '8rem', maxWidth: '14rem' },\n  },\n  {\n    accessorKey: 'odometerCurrent',\n    header: 'Одометр текущий',\n    meta: { minWidth: '8rem', maxWidth: '14rem' },\n  },\n  {\n    accessorKey: 'mileageTotal',\n    header: 'Пробег',\n    meta: { minWidth: '6rem', maxWidth: '12rem' },\n  },\n  {\n    accessorKey: 'transportType',\n    header: 'Тип транспорта',\n    meta: { minWidth: '8rem', maxWidth: '14rem' },\n  },\n  {\n    accessorKey: 'fuelType',\n    header: 'Тип топлива',\n    meta: { minWidth: '6rem', maxWidth: '12rem' },\n  },\n  {\n    accessorKey: 'fuelRefilled',\n    header: 'Заправлено',\n    meta: { minWidth: '6rem', maxWidth: '10rem' },\n  },\n  {\n    accessorKey: 'fuelAverageConsumption',\n    header: 'Расход',\n    meta: { minWidth: '6rem', maxWidth: '10rem' },\n  },\n  {\n    accessorKey: 'fuelSpentTotal',\n    header: 'Израсходовано',\n    meta: { minWidth: '6rem', maxWidth: '10rem' },\n  },\n  {\n    accessorKey: 'currentTasks',\n    header: 'Текущие задачи',\n    cell: ({ getValue }) => stringify(getValue<string[] | undefined>()),\n    meta: { minWidth: '10rem', maxWidth: '24rem' },\n  },\n  {\n    accessorKey: 'transportHistoryInfo',\n    header: 'История задач',\n    cell: ({ getValue }) => stringify(getValue<string | undefined>()),\n    meta: { minWidth: '12rem', maxWidth: '28rem' },\n  },\n  {\n    accessorKey: 'createdAt',\n    header: 'Создан',\n    meta: { minWidth: '10rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'updatedAt',\n    header: 'Обновлён',\n    meta: { minWidth: '10rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'unitId',\n    header: 'Устройство',\n    meta: { minWidth: '8rem', maxWidth: '12rem' },\n  },\n  {\n    accessorKey: 'remoteName',\n    header: 'Удалённое имя',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'notes',\n    header: 'Примечания',\n    meta: { minWidth: '10rem', maxWidth: '20rem' },\n  },\n];\n","// Назначение файла: единые стили бейджей для таблиц настроек\n// Основные модули: DataTable badge helpers\n\nexport const SETTINGS_BADGE_EMPTY = 'Нет данных';\n\nconst badgeBaseClass = [\n  'inline-flex min-h-[1.65rem] min-w-0 max-w-full items-center justify-start gap-1',\n  'rounded-full px-2.5 py-0.5 text-[0.72rem] font-semibold leading-tight text-slate-900',\n  'ring-1 ring-slate-300/80 bg-slate-100/95 shadow-xs',\n  'dark:text-slate-100 dark:ring-slate-600/60 dark:bg-slate-800/80',\n  'truncate',\n].join(' ');\n\nexport const SETTINGS_BADGE_CLASS = `${badgeBaseClass}`;\n\nexport const SETTINGS_BADGE_WRAPPER_CLASS =\n  'flex flex-wrap items-center gap-1.5';\n","// Назначение: вкладка автопарка с ручным управлением транспортом\n// Основные модули: React, services/fleets, FleetVehicleDialog, Modal, DataTable\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\n\nimport { Button } from '@/components/ui/button';\nimport DataTable from '../../components/DataTable';\nimport Modal from '../../components/Modal';\nimport { showToast } from '../../utils/toast';\nimport {\n  listFleetVehicles,\n  createFleetVehicle,\n  updateFleetVehicle,\n  deleteFleetVehicle,\n  type FleetVehiclePayload,\n} from '../../services/fleets';\nimport type { FleetVehicleDto } from 'shared';\nimport FleetVehicleDialog from './FleetVehicleDialog';\nimport {\n  fleetVehicleColumns,\n  type FleetVehicleRow,\n} from '../../columns/fleetVehicleColumns';\nimport {\n  SETTINGS_BADGE_CLASS,\n  SETTINGS_BADGE_EMPTY,\n  SETTINGS_BADGE_WRAPPER_CLASS,\n} from './badgeStyles';\n\nconst PAGE_LIMIT = 10;\n\nconst transportHistoryFormatter = new Intl.DateTimeFormat('ru-RU', {\n  day: '2-digit',\n  month: '2-digit',\n  year: 'numeric',\n  hour: '2-digit',\n  minute: '2-digit',\n});\n\nconst formatHistoryInstant = (value?: string): string => {\n  if (!value) {\n    return '';\n  }\n  const date = new Date(value);\n  if (Number.isNaN(date.getTime())) {\n    return '';\n  }\n  return transportHistoryFormatter.format(date);\n};\n\nconst buildHistoryLabel = (\n  entry: NonNullable<FleetVehicleDto['transportHistory']>[number],\n): string => {\n  const assigned = formatHistoryInstant(entry.assignedAt);\n  const removed = formatHistoryInstant(entry.removedAt);\n  const title =\n    entry.taskTitle && entry.taskTitle.trim().length\n      ? entry.taskTitle.trim()\n      : entry.taskId;\n  if (assigned && removed) {\n    return `${assigned} — ${title} (до ${removed})`;\n  }\n  if (assigned) {\n    return `${assigned} — ${title}`;\n  }\n  if (removed) {\n    return `${title} (до ${removed})`;\n  }\n  return title;\n};\n\nconst formatTransportHistory = (\n  history?: FleetVehicleDto['transportHistory'],\n): string => {\n  if (!history?.length) {\n    return '';\n  }\n  return history.map(buildHistoryLabel).join('; ');\n};\n\ntype VehicleCardField = {\n  id: string;\n  label: string;\n  render: (vehicle: FleetVehicleDto) => React.ReactNode;\n};\n\nconst vehicleCardFields: VehicleCardField[] = [\n  {\n    id: 'id',\n    label: 'ID',\n    render: (vehicle) => vehicle.id,\n  },\n  {\n    id: 'name',\n    label: 'Название',\n    render: (vehicle) => vehicle.name,\n  },\n  {\n    id: 'registrationNumber',\n    label: 'Регистрационный номер',\n    render: (vehicle) => vehicle.registrationNumber,\n  },\n  {\n    id: 'odometerInitial',\n    label: 'Одометр начальный',\n    render: (vehicle) => vehicle.odometerInitial,\n  },\n  {\n    id: 'odometerCurrent',\n    label: 'Одометр текущий',\n    render: (vehicle) => vehicle.odometerCurrent,\n  },\n  {\n    id: 'mileageTotal',\n    label: 'Пробег',\n    render: (vehicle) => vehicle.mileageTotal,\n  },\n  {\n    id: 'transportType',\n    label: 'Тип транспорта',\n    render: (vehicle) => vehicle.transportType,\n  },\n  {\n    id: 'fuelType',\n    label: 'Тип топлива',\n    render: (vehicle) => vehicle.fuelType,\n  },\n  {\n    id: 'fuelRefilled',\n    label: 'Заправлено',\n    render: (vehicle) => vehicle.fuelRefilled,\n  },\n  {\n    id: 'fuelAverageConsumption',\n    label: 'Расход',\n    render: (vehicle) => vehicle.fuelAverageConsumption,\n  },\n  {\n    id: 'fuelSpentTotal',\n    label: 'Израсходовано',\n    render: (vehicle) => vehicle.fuelSpentTotal,\n  },\n  {\n    id: 'currentTasks',\n    label: 'Задачи',\n    render: (vehicle) =>\n      vehicle.currentTasks.length ? vehicle.currentTasks.join(', ') : '—',\n  },\n  {\n    id: 'transportHistory',\n    label: 'История задач',\n    render: (vehicle) =>\n      vehicle.transportHistory?.length ? (\n        <ul className=\"space-y-1 text-sm\">\n          {vehicle.transportHistory.map((entry) => (\n            <li\n              key={`${entry.taskId}-${entry.assignedAt}`}\n              className=\"leading-snug\"\n            >\n              {buildHistoryLabel(entry)}\n            </li>\n          ))}\n        </ul>\n      ) : (\n        '—'\n      ),\n  },\n  {\n    id: 'createdAt',\n    label: 'Создан',\n    render: (vehicle) => vehicle.createdAt || '—',\n  },\n  {\n    id: 'updatedAt',\n    label: 'Обновлён',\n    render: (vehicle) => vehicle.updatedAt || '—',\n  },\n  {\n    id: 'unitId',\n    label: 'Устройство',\n    render: (vehicle) =>\n      vehicle.unitId !== undefined && vehicle.unitId !== null\n        ? vehicle.unitId\n        : '—',\n  },\n  {\n    id: 'remoteName',\n    label: 'Удалённое имя',\n    render: (vehicle) => vehicle.remoteName || '—',\n  },\n  {\n    id: 'notes',\n    label: 'Примечания',\n    render: (vehicle) => vehicle.notes || '—',\n  },\n];\n\nexport default function FleetVehiclesTab() {\n  const [items, setItems] = useState<FleetVehicleDto[]>([]);\n  const [total, setTotal] = useState(0);\n  const [page, setPage] = useState(1);\n  const [search, setSearch] = useState('');\n  const [appliedSearch, setAppliedSearch] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [modalOpen, setModalOpen] = useState(false);\n  const [mode, setMode] = useState<'create' | 'update'>('create');\n  const [saving, setSaving] = useState(false);\n  const [selectedVehicle, setSelectedVehicle] =\n    useState<FleetVehicleDto | null>(null);\n\n  const totalPages = useMemo(\n    () => Math.max(1, Math.ceil(total / PAGE_LIMIT)),\n    [total],\n  );\n  const rows = useMemo<FleetVehicleRow[]>(\n    () =>\n      items.map((item) => ({\n        ...item,\n        transportHistoryInfo: formatTransportHistory(item.transportHistory),\n      })),\n    [items],\n  );\n\n  const badgeClassName = useMemo(\n    () => `${SETTINGS_BADGE_CLASS} whitespace-nowrap sm:text-sm`,\n    [],\n  );\n  const badgeWrapperClassName = useMemo(\n    () => `${SETTINGS_BADGE_WRAPPER_CLASS} justify-start`,\n    [],\n  );\n\n  const load = useCallback(async () => {\n    setLoading(true);\n    setError('');\n    try {\n      const data = await listFleetVehicles(appliedSearch, page, PAGE_LIMIT);\n      setItems(data.items);\n      setTotal(data.total);\n    } catch (loadError) {\n      const message =\n        loadError instanceof Error\n          ? loadError.message\n          : 'Не удалось загрузить транспорт';\n      setError(message);\n      setItems([]);\n      setTotal(0);\n    } finally {\n      setLoading(false);\n    }\n  }, [appliedSearch, page]);\n\n  useEffect(() => {\n    void load();\n  }, [load]);\n\n  const openCreate = () => {\n    setMode('create');\n    setSelectedVehicle(null);\n    setModalOpen(true);\n  };\n\n  const openEdit = (item: FleetVehicleDto) => {\n    setMode('update');\n    setSelectedVehicle(item);\n    setModalOpen(true);\n  };\n\n  const closeModal = () => {\n    if (saving) return;\n    setModalOpen(false);\n    setSelectedVehicle(null);\n  };\n\n  const submit = async (payload: FleetVehiclePayload, id?: string) => {\n    setSaving(true);\n    try {\n      if (mode === 'create' || !id) {\n        await createFleetVehicle(payload);\n        showToast('Транспорт создан', 'success');\n      } else {\n        await updateFleetVehicle(id, payload);\n        showToast('Транспорт обновлён', 'success');\n      }\n      await load();\n      setSelectedVehicle(null);\n      setModalOpen(false);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const remove = async (id: string) => {\n    setSaving(true);\n    try {\n      await deleteFleetVehicle(id);\n      showToast('Транспорт удалён', 'success');\n      await load();\n      setSelectedVehicle(null);\n      setModalOpen(false);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSearchSubmit = (event: React.FormEvent) => {\n    event.preventDefault();\n    setPage(1);\n    setAppliedSearch(search.trim());\n  };\n\n  const handlePageChange = (next: number) => {\n    if (next < 1 || next > totalPages) return;\n    setPage(next);\n  };\n\n  return (\n    <section className=\"space-y-4\">\n      <div className=\"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-start sm:gap-3 lg:items-center lg:gap-3\">\n        <form\n          onSubmit={handleSearchSubmit}\n          className=\"mt-2 flex w-full flex-col gap-2 sm:flex-row sm:flex-wrap sm:items-center sm:gap-2 lg:grid lg:flex-1 lg:grid-cols-[minmax(0,18rem)_auto] lg:items-center lg:gap-3\"\n        >\n          <label className=\"flex w-full flex-col gap-1 sm:w-64 lg:w-full lg:min-w-0\">\n            <span className=\"text-sm font-medium\">Поиск</span>\n            <input\n              id=\"fleet-vehicles-search\"\n              name=\"fleetVehicleSearch\"\n              className=\"h-10 w-full rounded border px-3 text-sm lg:h-9 lg:text-xs\"\n              value={search}\n              onChange={(event) => setSearch(event.target.value)}\n              placeholder=\"Название или номер\"\n            />\n          </label>\n          <Button\n            type=\"submit\"\n            className=\"h-10 w-full max-w-[11rem] px-3 text-sm font-semibold sm:h-10 sm:w-auto sm:px-3 lg:h-8 lg:text-xs\"\n          >\n            Искать\n          </Button>\n        </form>\n        <Button\n          type=\"button\"\n          variant=\"success\"\n          className=\"h-10 w-full max-w-[11rem] px-3 text-sm font-semibold sm:w-auto lg:h-8 lg:text-xs\"\n          onClick={openCreate}\n        >\n          Добавить\n        </Button>\n      </div>\n      {loading ? (\n        <p className=\"text-sm text-gray-500\">Загрузка транспорта…</p>\n      ) : null}\n      {error ? (\n        <p className=\"rounded border border-red-200 bg-red-50 p-3 text-sm text-red-700\">\n          {error}\n        </p>\n      ) : null}\n      {!loading && !error && !items.length ? (\n        <p className=\"text-sm text-gray-500\">Транспорт не найден.</p>\n      ) : null}\n      <DataTable\n        columns={fleetVehicleColumns}\n        data={rows}\n        pageIndex={page - 1}\n        pageSize={PAGE_LIMIT}\n        pageCount={totalPages}\n        onPageChange={(index) => handlePageChange(index + 1)}\n        showGlobalSearch={false}\n        showFilters={false}\n        onRowClick={(row) => openEdit(row)}\n        wrapCellsAsBadges\n        badgeClassName={badgeClassName}\n        badgeWrapperClassName={badgeWrapperClassName}\n        badgeEmptyPlaceholder={SETTINGS_BADGE_EMPTY}\n      />\n      <Modal open={modalOpen} onClose={closeModal}>\n        <div className=\"space-y-4\">\n          {selectedVehicle ? (\n            <article className=\"rounded-xl border border-slate-200 bg-slate-50 p-4 shadow-sm\">\n              <h3 className=\"text-base font-semibold\">Карточка транспорта</h3>\n              <dl className=\"mt-2 grid grid-cols-1 gap-2 text-sm sm:grid-cols-2\">\n                {vehicleCardFields.map(({ id, label, render }) => (\n                  <div key={id}>\n                    <dt className=\"font-medium text-slate-500\">{label}</dt>\n                    <dd className=\"text-slate-900\">\n                      {render(selectedVehicle)}\n                    </dd>\n                  </div>\n                ))}\n              </dl>\n            </article>\n          ) : null}\n          <FleetVehicleDialog\n            open={modalOpen}\n            mode={mode}\n            vehicle={selectedVehicle}\n            saving={saving}\n            onSubmit={submit}\n            onDelete={mode === 'update' ? remove : undefined}\n            onClose={closeModal}\n          />\n        </div>\n      </Modal>\n    </section>\n  );\n}\n","// Назначение файла: вкладка настроек задач в разделе настроек.\n// Основные модули: React, Spinner, Button, Input.\n\nimport React from 'react';\n\nimport Spinner from '../../components/Spinner';\nimport { Button } from '../../components/ui/button';\nimport { Input } from '../../components/ui/input';\nimport type { CollectionItem } from '../../services/collections';\n\ntype TaskFieldItem = CollectionItem & {\n  meta?: CollectionItem['meta'] & {\n    defaultLabel?: string;\n    fieldType?: string;\n    required?: boolean;\n    order?: number;\n    virtual?: boolean;\n  };\n};\n\ntype TaskTypeItem = CollectionItem & {\n  meta?: CollectionItem['meta'] & {\n    defaultLabel?: string;\n    order?: number;\n    virtual?: boolean;\n    tg_theme_url?: string;\n    tg_chat_id?: string;\n    tg_topic_id?: number;\n    tg_photos_url?: string;\n    tg_photos_chat_id?: string;\n    tg_photos_topic_id?: number;\n  };\n};\n\ninterface TaskSettingsTabProps {\n  fields: TaskFieldItem[];\n  types: TaskTypeItem[];\n  loading: boolean;\n  onSaveField: (item: TaskFieldItem, label: string) => Promise<void>;\n  onDeleteField: (item: TaskFieldItem) => Promise<void>;\n  onSaveType: (\n    item: TaskTypeItem,\n    payload: { label: string; tg_theme_url: string; tg_photos_url: string },\n  ) => Promise<void>;\n  onDeleteType: (item: TaskTypeItem) => Promise<void>;\n}\n\nconst CARD_CLASS =\n  'rounded-lg border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-900';\n\nconst SECTION_GAP = 'space-y-4';\n\nconst FieldCard: React.FC<{\n  item: TaskFieldItem;\n  value: string;\n  onChange: (value: string) => void;\n  onSave: () => Promise<void>;\n  onReset: () => void;\n  onDelete?: () => Promise<void>;\n  saving: boolean;\n  deleting?: boolean;\n  error?: string;\n}> = ({\n  item,\n  value,\n  onChange,\n  onSave,\n  onReset,\n  onDelete,\n  saving,\n  deleting,\n  error,\n}) => {\n  const [localError, setLocalError] = React.useState<string | undefined>(error);\n\n  React.useEffect(() => {\n    setLocalError(error);\n  }, [error]);\n\n  const defaultLabel = item.meta?.defaultLabel ?? item.name;\n  const storedLabel = item.value?.trim() || defaultLabel;\n  const trimmedValue = value.trim();\n  const dirty = trimmedValue !== storedLabel;\n\n  const handleSave = async () => {\n    setLocalError(undefined);\n    try {\n      await onSave();\n    } catch (err) {\n      const message = err instanceof Error ? err.message : String(err);\n      setLocalError(message);\n    }\n  };\n\n  const handleReset = () => {\n    setLocalError(undefined);\n    onReset();\n  };\n\n  const handleDelete = async () => {\n    if (!onDelete) return;\n    setLocalError(undefined);\n    try {\n      await onDelete();\n    } catch (err) {\n      const message = err instanceof Error ? err.message : String(err);\n      setLocalError(message);\n    }\n  };\n\n  return (\n    <article className={CARD_CLASS}>\n      <div className=\"flex flex-col gap-2\">\n        <div className=\"flex flex-wrap items-center justify-between gap-2\">\n          <div>\n            <h4 className=\"text-base font-semibold text-slate-900 dark:text-slate-100\">\n              {defaultLabel}\n              {item.meta?.required ? ' *' : ''}\n            </h4>\n            <p className=\"text-sm text-slate-500 dark:text-slate-400\">\n              Поле: <span className=\"font-mono\">{item.name}</span>\n              {item.meta?.fieldType ? ` • Тип: ${item.meta.fieldType}` : ''}\n            </p>\n          </div>\n        </div>\n        <label className=\"flex flex-col gap-1\">\n          <span className=\"text-sm font-medium text-slate-700 dark:text-slate-300\">\n            Отображаемое название\n          </span>\n          <Input\n            value={value}\n            onChange={(event) => onChange(event.target.value)}\n            placeholder={defaultLabel}\n            aria-label={`Название поля ${defaultLabel}`}\n          />\n        </label>\n        {localError ? (\n          <p className=\"text-sm text-rose-600\" role=\"alert\">\n            {localError}\n          </p>\n        ) : null}\n        <div className=\"flex flex-wrap gap-2\">\n          <Button\n            type=\"button\"\n            size=\"sm\"\n            onClick={handleSave}\n            disabled={saving || deleting || !dirty || !trimmedValue}\n          >\n            {saving ? <Spinner /> : 'Сохранить'}\n          </Button>\n          <Button\n            type=\"button\"\n            size=\"sm\"\n            variant=\"outline\"\n            onClick={handleReset}\n            disabled={saving || deleting}\n          >\n            Сбросить\n          </Button>\n          {onDelete && !item.meta?.virtual ? (\n            <Button\n              type=\"button\"\n              size=\"sm\"\n              variant=\"destructive\"\n              onClick={handleDelete}\n              disabled={saving || deleting}\n            >\n              {deleting ? <Spinner /> : 'Удалить'}\n            </Button>\n          ) : null}\n        </div>\n      </div>\n    </article>\n  );\n};\n\nconst TypeCard: React.FC<{\n  item: TaskTypeItem;\n  label: string;\n  url: string;\n  photosUrl: string;\n  onChangeLabel: (value: string) => void;\n  onChangeUrl: (value: string) => void;\n  onChangePhotosUrl: (value: string) => void;\n  onSave: () => Promise<void>;\n  onReset: () => void;\n  onDelete?: () => Promise<void>;\n  saving: boolean;\n  deleting?: boolean;\n  error?: string;\n}> = ({\n  item,\n  label,\n  url,\n  photosUrl,\n  onChangeLabel,\n  onChangeUrl,\n  onChangePhotosUrl,\n  onSave,\n  onReset,\n  onDelete,\n  saving,\n  deleting,\n  error,\n}) => {\n  const [localError, setLocalError] = React.useState<string | undefined>(error);\n\n  React.useEffect(() => {\n    setLocalError(error);\n  }, [error]);\n\n  const defaultLabel = item.meta?.defaultLabel ?? item.name;\n  const storedLabel = item.value?.trim() || defaultLabel;\n  const storedUrl =\n    typeof item.meta?.tg_theme_url === 'string' ? item.meta.tg_theme_url : '';\n  const storedPhotosUrl =\n    typeof item.meta?.tg_photos_url === 'string' ? item.meta.tg_photos_url : '';\n  const trimmedLabel = label.trim();\n  const trimmedUrl = url.trim();\n  const trimmedPhotosUrl = photosUrl.trim();\n  const dirty =\n    trimmedLabel !== storedLabel ||\n    trimmedUrl !== (storedUrl || '') ||\n    trimmedPhotosUrl !== (storedPhotosUrl || '');\n\n  const handleSave = async () => {\n    setLocalError(undefined);\n    try {\n      await onSave();\n    } catch (err) {\n      const message = err instanceof Error ? err.message : String(err);\n      setLocalError(message);\n    }\n  };\n\n  const handleReset = () => {\n    setLocalError(undefined);\n    onReset();\n  };\n\n  const handleDelete = async () => {\n    if (!onDelete) return;\n    setLocalError(undefined);\n    try {\n      await onDelete();\n    } catch (err) {\n      const message = err instanceof Error ? err.message : String(err);\n      setLocalError(message);\n    }\n  };\n\n  return (\n    <article className={CARD_CLASS}>\n      <div className=\"flex flex-col gap-2\">\n        <div className=\"flex flex-wrap items-center justify-between gap-2\">\n          <div>\n            <h4 className=\"text-base font-semibold text-slate-900 dark:text-slate-100\">\n              {defaultLabel}\n            </h4>\n            <p className=\"text-sm text-slate-500 dark:text-slate-400\">\n              Тип задачи: <span className=\"font-mono\">{item.name}</span>\n            </p>\n          </div>\n        </div>\n        <div className=\"grid gap-3 sm:grid-cols-2\">\n          <label className=\"flex flex-col gap-1\">\n            <span className=\"text-sm font-medium text-slate-700 dark:text-slate-300\">\n              Отображаемое название\n            </span>\n            <Input\n              value={label}\n              onChange={(event) => onChangeLabel(event.target.value)}\n              placeholder={defaultLabel}\n              aria-label={`Название типа ${defaultLabel}`}\n            />\n          </label>\n          <label className=\"flex flex-col gap-1\">\n            <span className=\"text-sm font-medium text-slate-700 dark:text-slate-300\">\n              Ссылка на тему Telegram\n            </span>\n            <Input\n              value={url}\n              onChange={(event) => onChangeUrl(event.target.value)}\n              placeholder=\"https://t.me/c/...\"\n              aria-label={`Ссылка темы для типа ${defaultLabel}`}\n            />\n          </label>\n          <label className=\"flex flex-col gap-1\">\n            <span className=\"text-sm font-medium text-slate-700 dark:text-slate-300\">\n              Тема для фото\n            </span>\n            <Input\n              value={photosUrl}\n              onChange={(event) => onChangePhotosUrl(event.target.value)}\n              placeholder=\"https://t.me/c/...\"\n              aria-label={`Ссылка темы для фото ${defaultLabel}`}\n            />\n          </label>\n        </div>\n        {item.meta?.tg_chat_id ? (\n          <p className=\"text-xs text-slate-500 dark:text-slate-400\">\n            Чат: {item.meta.tg_chat_id}\n          </p>\n        ) : null}\n        {item.meta?.tg_topic_id ? (\n          <p className=\"text-xs text-slate-500 dark:text-slate-400\">\n            Тема: {item.meta.tg_topic_id}\n          </p>\n        ) : null}\n        {item.meta?.tg_photos_chat_id ? (\n          <p className=\"text-xs text-slate-500 dark:text-slate-400\">\n            Чат фото: {item.meta.tg_photos_chat_id}\n          </p>\n        ) : null}\n        {item.meta?.tg_photos_topic_id ? (\n          <p className=\"text-xs text-slate-500 dark:text-slate-400\">\n            Тема фото: {item.meta.tg_photos_topic_id}\n          </p>\n        ) : null}\n        {localError ? (\n          <p className=\"text-sm text-rose-600\" role=\"alert\">\n            {localError}\n          </p>\n        ) : null}\n        <div className=\"flex flex-wrap gap-2\">\n          <Button\n            type=\"button\"\n            size=\"sm\"\n            onClick={handleSave}\n            disabled={saving || deleting || !trimmedLabel || !dirty}\n          >\n            {saving ? <Spinner /> : 'Сохранить'}\n          </Button>\n          <Button\n            type=\"button\"\n            size=\"sm\"\n            variant=\"outline\"\n            onClick={handleReset}\n            disabled={saving || deleting}\n          >\n            Сбросить\n          </Button>\n          {onDelete && !item.meta?.virtual ? (\n            <Button\n              type=\"button\"\n              size=\"sm\"\n              variant=\"destructive\"\n              onClick={handleDelete}\n              disabled={saving || deleting}\n            >\n              {deleting ? <Spinner /> : 'Удалить'}\n            </Button>\n          ) : null}\n        </div>\n      </div>\n    </article>\n  );\n};\n\nconst sortByOrder = <T extends { meta?: { order?: number } }>(\n  items: T[],\n): T[] =>\n  [...items].sort((a, b) => {\n    const left = typeof a.meta?.order === 'number' ? a.meta.order : 0;\n    const right = typeof b.meta?.order === 'number' ? b.meta.order : 0;\n    return left - right;\n  });\n\nconst useDraftMap = <TItem extends CollectionItem, TDraft>(\n  items: TItem[],\n  selector: (item: TItem) => TDraft,\n) => {\n  const [draft, setDraft] = React.useState<Record<string, TDraft>>({});\n\n  React.useEffect(() => {\n    setDraft((prev) => {\n      let changed = false;\n      const next: Record<string, TDraft> = { ...prev };\n      const itemNames = new Set(items.map((item) => item.name));\n\n      items.forEach((item) => {\n        const key = item.name;\n        if (!(key in prev)) {\n          next[key] = selector(item);\n          changed = true;\n        }\n      });\n\n      Object.keys(prev).forEach((key) => {\n        if (!itemNames.has(key)) {\n          delete next[key];\n          changed = true;\n        }\n      });\n\n      return changed ? next : prev;\n    });\n  }, [items, selector]);\n\n  return [draft, setDraft] as const;\n};\n\nconst TaskSettingsTab: React.FC<TaskSettingsTabProps> = ({\n  fields,\n  types,\n  loading,\n  onSaveField,\n  onDeleteField,\n  onSaveType,\n  onDeleteType,\n}) => {\n  const selectFieldDraft = React.useCallback(\n    (item: TaskFieldItem) =>\n      item.value?.trim() || item.meta?.defaultLabel || item.name,\n    [],\n  );\n  const selectTypeDraft = React.useCallback(\n    (item: TaskTypeItem) => ({\n      label: item.value?.trim() || item.meta?.defaultLabel || item.name,\n      url:\n        typeof item.meta?.tg_theme_url === 'string'\n          ? item.meta.tg_theme_url\n          : '',\n      photosUrl:\n        typeof item.meta?.tg_photos_url === 'string'\n          ? item.meta.tg_photos_url\n          : '',\n    }),\n    [],\n  );\n\n  const [fieldDrafts, setFieldDrafts] = useDraftMap(fields, selectFieldDraft);\n  const [typeDrafts, setTypeDrafts] = useDraftMap(types, selectTypeDraft);\n  const [savingField, setSavingField] = React.useState<string | null>(null);\n  const [savingType, setSavingType] = React.useState<string | null>(null);\n  const [deletingField, setDeletingField] = React.useState<string | null>(null);\n  const [deletingType, setDeletingType] = React.useState<string | null>(null);\n  const [fieldErrors, setFieldErrors] = React.useState<Record<string, string>>(\n    {},\n  );\n  const [typeErrors, setTypeErrors] = React.useState<Record<string, string>>(\n    {},\n  );\n\n  const sortedFields = React.useMemo(() => sortByOrder(fields), [fields]);\n  const sortedTypes = React.useMemo(() => sortByOrder(types), [types]);\n\n  const handleFieldChange = (name: string, value: string) => {\n    setFieldDrafts((prev) => ({ ...prev, [name]: value }));\n    setFieldErrors((prev) => ({ ...prev, [name]: '' }));\n  };\n\n  const handleTypeChange = (\n    name: string,\n    patch: Partial<{ label: string; url: string; photosUrl: string }>,\n  ) => {\n    setTypeDrafts((prev) => ({\n      ...prev,\n      [name]: {\n        label: prev[name]?.label ?? '',\n        url: prev[name]?.url ?? '',\n        photosUrl: prev[name]?.photosUrl ?? '',\n        ...patch,\n      },\n    }));\n    setTypeErrors((prev) => ({ ...prev, [name]: '' }));\n  };\n\n  const saveField = async (item: TaskFieldItem) => {\n    const value = fieldDrafts[item.name] ?? '';\n    setSavingField(item.name);\n    setFieldErrors((prev) => ({ ...prev, [item.name]: '' }));\n    try {\n      await onSaveField(item, value);\n      setFieldDrafts((prev) => ({\n        ...prev,\n        [item.name]: value,\n      }));\n    } catch (err) {\n      const message = err instanceof Error ? err.message : String(err);\n      setFieldErrors((prev) => ({ ...prev, [item.name]: message }));\n      throw err;\n    } finally {\n      setSavingField((prev) => (prev === item.name ? null : prev));\n    }\n  };\n\n  const deleteField = async (item: TaskFieldItem) => {\n    if (item.meta?.virtual) {\n      return;\n    }\n    setDeletingField(item.name);\n    setFieldErrors((prev) => ({ ...prev, [item.name]: '' }));\n    try {\n      await onDeleteField(item);\n    } catch (err) {\n      const message = err instanceof Error ? err.message : String(err);\n      setFieldErrors((prev) => ({ ...prev, [item.name]: message }));\n      throw err;\n    } finally {\n      setDeletingField((prev) => (prev === item.name ? null : prev));\n    }\n  };\n\n  const revertFieldDraft = (item: TaskFieldItem) => {\n    setFieldDrafts((prev) => ({\n      ...prev,\n      [item.name]: selectFieldDraft(item),\n    }));\n    setFieldErrors((prev) => ({ ...prev, [item.name]: '' }));\n  };\n\n  const saveType = async (item: TaskTypeItem) => {\n    const draft = typeDrafts[item.name] ?? {\n      label: '',\n      url: '',\n      photosUrl: '',\n    };\n    setSavingType(item.name);\n    setTypeErrors((prev) => ({ ...prev, [item.name]: '' }));\n    try {\n      await onSaveType(item, {\n        label: draft.label,\n        tg_theme_url: draft.url,\n        tg_photos_url: draft.photosUrl,\n      });\n      setTypeDrafts((prev) => ({\n        ...prev,\n        [item.name]: {\n          label: draft.label,\n          url: draft.url,\n          photosUrl: draft.photosUrl,\n        },\n      }));\n    } catch (err) {\n      const message = err instanceof Error ? err.message : String(err);\n      setTypeErrors((prev) => ({ ...prev, [item.name]: message }));\n      throw err;\n    } finally {\n      setSavingType((prev) => (prev === item.name ? null : prev));\n    }\n  };\n\n  const deleteType = async (item: TaskTypeItem) => {\n    if (item.meta?.virtual) {\n      return;\n    }\n    setDeletingType(item.name);\n    setTypeErrors((prev) => ({ ...prev, [item.name]: '' }));\n    try {\n      await onDeleteType(item);\n    } catch (err) {\n      const message = err instanceof Error ? err.message : String(err);\n      setTypeErrors((prev) => ({ ...prev, [item.name]: message }));\n      throw err;\n    } finally {\n      setDeletingType((prev) => (prev === item.name ? null : prev));\n    }\n  };\n\n  const revertTypeDraft = (item: TaskTypeItem) => {\n    setTypeDrafts((prev) => ({\n      ...prev,\n      [item.name]: selectTypeDraft(item),\n    }));\n    setTypeErrors((prev) => ({ ...prev, [item.name]: '' }));\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <section className={SECTION_GAP}>\n        <header className=\"space-y-1\">\n          <h3 className=\"text-lg font-semibold text-slate-900 dark:text-slate-100\">\n            Поля задачи\n          </h3>\n          <p className=\"text-sm text-slate-500 dark:text-slate-400\">\n            Настройте названия полей, которые видят пользователи в карточке\n            задачи.\n          </p>\n        </header>\n        {loading && !sortedFields.length ? (\n          <div className=\"flex items-center justify-center py-6\">\n            <Spinner />\n          </div>\n        ) : (\n          <div className=\"grid gap-4 lg:grid-cols-2\">\n            {sortedFields.map((item) => (\n              <FieldCard\n                key={item._id}\n                item={item}\n                value={fieldDrafts[item.name] ?? ''}\n                onChange={(value) => handleFieldChange(item.name, value)}\n                onSave={() => saveField(item)}\n                onReset={() => revertFieldDraft(item)}\n                onDelete={\n                  item.meta?.virtual ? undefined : () => deleteField(item)\n                }\n                saving={savingField === item.name}\n                deleting={deletingField === item.name}\n                error={fieldErrors[item.name]}\n              />\n            ))}\n          </div>\n        )}\n      </section>\n      <section className={SECTION_GAP}>\n        <header className=\"space-y-1\">\n          <h3 className=\"text-lg font-semibold text-slate-900 dark:text-slate-100\">\n            Типы задач и темы Telegram\n          </h3>\n          <p className=\"text-sm text-slate-500 dark:text-slate-400\">\n            Для каждого типа задачи можно задать отображаемое название, основную\n            тему чата Telegram и отдельную тему для альбома фото.\n          </p>\n        </header>\n        {loading && !sortedTypes.length ? (\n          <div className=\"flex items-center justify-center py-6\">\n            <Spinner />\n          </div>\n        ) : (\n          <div className=\"grid gap-4 lg:grid-cols-2\">\n            {sortedTypes.map((item) => (\n              <TypeCard\n                key={item._id}\n                item={item}\n                label={typeDrafts[item.name]?.label ?? ''}\n                url={typeDrafts[item.name]?.url ?? ''}\n                photosUrl={typeDrafts[item.name]?.photosUrl ?? ''}\n                onChangeLabel={(value) =>\n                  handleTypeChange(item.name, { label: value })\n                }\n                onChangeUrl={(value) =>\n                  handleTypeChange(item.name, { url: value })\n                }\n                onChangePhotosUrl={(value) =>\n                  handleTypeChange(item.name, { photosUrl: value })\n                }\n                onSave={() => saveType(item)}\n                onReset={() => revertTypeDraft(item)}\n                onDelete={\n                  item.meta?.virtual ? undefined : () => deleteType(item)\n                }\n                saving={savingType === item.name}\n                deleting={deletingType === item.name}\n                error={typeErrors[item.name]}\n              />\n            ))}\n          </div>\n        )}\n      </section>\n    </div>\n  );\n};\n\nexport default TaskSettingsTab;\n","// Назначение: HTTP-запросы аналитики маршрутных планов.\n// Основные модули: authFetch, shared\n\nimport type { RoutePlanAnalyticsSummary, RoutePlanStatus } from 'shared';\nimport authFetch from '../utils/authFetch';\n\nexport interface RoutePlanAnalyticsParams {\n  from?: string;\n  to?: string;\n  status?: RoutePlanStatus;\n}\n\nexport async function fetchRoutePlanAnalytics(\n  params: RoutePlanAnalyticsParams = {},\n): Promise<RoutePlanAnalyticsSummary> {\n  const search = new URLSearchParams();\n  if (params.from) search.set('from', params.from);\n  if (params.to) search.set('to', params.to);\n  if (params.status) search.set('status', params.status);\n  const query = search.toString();\n  const response = await authFetch(\n    `/api/v1/analytics/route-plans/summary${query ? `?${query}` : ''}`,\n  );\n  if (!response.ok) {\n    throw new Error('Не удалось получить аналитику маршрутных планов');\n  }\n  return (await response.json()) as RoutePlanAnalyticsSummary;\n}\n\nexport default { fetchRoutePlanAnalytics };\n","// Назначение: дашборд аналитики маршрутных планов с фильтрами и графиками.\n// Основные модули: React, react-apexcharts, services/analytics\n\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport type { RoutePlanAnalyticsSummary, RoutePlanStatus } from 'shared';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { fetchRoutePlanAnalytics } from '../services/analytics';\n\nconst ReactApexChart = React.lazy(() => import('react-apexcharts'));\n\nconst DAY_MS = 24 * 60 * 60 * 1000;\n\nconst toDateInput = (date: Date): string => {\n  const iso = new Date(date.getTime() - date.getTimezoneOffset() * 60000)\n    .toISOString()\n    .slice(0, 10);\n  return iso;\n};\n\nconst defaultTo = toDateInput(new Date());\nconst defaultFrom = toDateInput(new Date(Date.now() - DAY_MS * 29));\n\ntype DashboardFilters = {\n  from: string;\n  to: string;\n  status: RoutePlanStatus | 'all';\n};\n\nconst statusOptions: Array<{ value: RoutePlanStatus | 'all'; label: string }> =\n  [\n    { value: 'all', label: 'Все статусы' },\n    { value: 'draft', label: 'Черновики' },\n    { value: 'approved', label: 'Утверждённые' },\n    { value: 'completed', label: 'Завершённые' },\n  ];\n\nconst percentFormatter = new Intl.NumberFormat('ru-RU', {\n  style: 'percent',\n  minimumFractionDigits: 0,\n  maximumFractionDigits: 1,\n});\n\nconst numberFormatter = new Intl.NumberFormat('ru-RU', {\n  minimumFractionDigits: 0,\n  maximumFractionDigits: 1,\n});\n\nconst loadFormatter = new Intl.NumberFormat('ru-RU', {\n  minimumFractionDigits: 0,\n  maximumFractionDigits: 2,\n});\n\nconst ensureParams = (filters: DashboardFilters) => {\n  const params: Record<string, string> = {};\n  if (filters.from) params.from = filters.from;\n  if (filters.to) params.to = filters.to;\n  if (filters.status !== 'all') params.status = filters.status;\n  return params;\n};\n\nconst mapMileageSeries = (data?: RoutePlanAnalyticsSummary | null) =>\n  data?.mileage.byPeriod.map((point) => ({\n    x: point.date,\n    y: typeof point.value === 'number' ? point.value : 0,\n  })) ?? [];\n\nconst mapLoadSeries = (data?: RoutePlanAnalyticsSummary | null) =>\n  data?.load.byPeriod.map((point) => ({\n    x: point.date,\n    y: typeof point.value === 'number' ? point.value : null,\n  })) ?? [];\n\nconst mapSlaSeries = (data?: RoutePlanAnalyticsSummary | null) =>\n  data?.sla.byPeriod.map((point) => ({\n    x: point.date,\n    y:\n      typeof point.rate === 'number'\n        ? Number((point.rate * 100).toFixed(2))\n        : null,\n  })) ?? [];\n\nexport default function AnalyticsDashboard(): React.ReactElement {\n  const { t } = useTranslation();\n  const [filters, setFilters] = React.useState<DashboardFilters>({\n    from: defaultFrom,\n    to: defaultTo,\n    status: 'completed',\n  });\n  const [loading, setLoading] = React.useState(false);\n  const [error, setError] = React.useState<string | null>(null);\n  const [summary, setSummary] =\n    React.useState<RoutePlanAnalyticsSummary | null>(null);\n\n  const loadData = React.useCallback(\n    async (params: DashboardFilters) => {\n      setLoading(true);\n      setError(null);\n      try {\n        const response = await fetchRoutePlanAnalytics(ensureParams(params));\n        setSummary(response);\n      } catch (err) {\n        console.error('Не удалось загрузить аналитику маршрутных планов', err);\n        setError(t('analytics.loadError'));\n      } finally {\n        setLoading(false);\n      }\n    },\n    [t],\n  );\n\n  React.useEffect(() => {\n    void loadData(filters);\n  }, [filters, loadData]);\n\n  const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    const form = new FormData(event.currentTarget);\n    const nextFilters: DashboardFilters = {\n      from: String(form.get('from') || ''),\n      to: String(form.get('to') || ''),\n      status: (form.get('status') as DashboardFilters['status']) || 'all',\n    };\n    setFilters(nextFilters);\n  };\n\n  const handleReset = () => {\n    const initial: DashboardFilters = {\n      from: defaultFrom,\n      to: defaultTo,\n      status: 'completed',\n    };\n    setFilters(initial);\n  };\n\n  const mileageSeries = React.useMemo(\n    () => mapMileageSeries(summary),\n    [summary],\n  );\n  const loadSeries = React.useMemo(() => mapLoadSeries(summary), [summary]);\n  const slaSeries = React.useMemo(() => mapSlaSeries(summary), [summary]);\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"space-y-3\">\n        <h1 className=\"text-2xl font-semibold\">{t('analytics.title')}</h1>\n        <p className=\"text-sm text-slate-600 dark:text-slate-300\">\n          {t('analytics.description')}\n        </p>\n      </div>\n      <form\n        onSubmit={handleSubmit}\n        className=\"flex flex-wrap items-end gap-3 rounded-lg bg-white p-4 shadow-sm dark:bg-slate-900\"\n      >\n        <label className=\"flex flex-col text-sm text-slate-700 dark:text-slate-200\">\n          {t('analytics.filters.from')}\n          <Input type=\"date\" name=\"from\" defaultValue={filters.from} />\n        </label>\n        <label className=\"flex flex-col text-sm text-slate-700 dark:text-slate-200\">\n          {t('analytics.filters.to')}\n          <Input type=\"date\" name=\"to\" defaultValue={filters.to} />\n        </label>\n        <label className=\"flex flex-col text-sm text-slate-700 dark:text-slate-200\">\n          {t('analytics.filters.status')}\n          <select\n            name=\"status\"\n            defaultValue={filters.status}\n            className=\"mt-1 w-48 rounded-md border border-slate-300 bg-white px-3 py-2 text-sm focus:border-slate-400 focus:outline-none focus:ring-2 focus:ring-primary/60 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-100\"\n          >\n            {statusOptions.map((option) => (\n              <option key={option.value} value={option.value}>\n                {t(`analytics.status.${option.value}`)}\n              </option>\n            ))}\n          </select>\n        </label>\n        <div className=\"flex flex-wrap gap-2\">\n          <Button type=\"submit\" disabled={loading}>\n            {loading ? t('analytics.loading') : t('analytics.apply')}\n          </Button>\n          <Button type=\"button\" variant=\"outline\" onClick={handleReset}>\n            {t('analytics.reset')}\n          </Button>\n        </div>\n      </form>\n      {error ? (\n        <div className=\"rounded-lg border border-red-200 bg-red-50 p-4 text-sm text-red-600 dark:border-red-800 dark:bg-red-900/30 dark:text-red-200\">\n          {error}\n        </div>\n      ) : null}\n      <section className=\"grid gap-4 md:grid-cols-3\">\n        <article className=\"rounded-lg bg-white p-4 shadow-sm dark:bg-slate-900\">\n          <h2 className=\"text-sm font-medium text-slate-500 dark:text-slate-300\">\n            {t('analytics.cards.mileage')}\n          </h2>\n          <p className=\"mt-2 text-2xl font-semibold\">\n            {numberFormatter.format(summary?.mileage.total ?? 0)} км\n          </p>\n          <p className=\"mt-1 text-xs text-slate-500 dark:text-slate-400\">\n            {t('analytics.cards.period', {\n              from: summary?.period.from ?? filters.from,\n              to: summary?.period.to ?? filters.to,\n            })}\n          </p>\n        </article>\n        <article className=\"rounded-lg bg-white p-4 shadow-sm dark:bg-slate-900\">\n          <h2 className=\"text-sm font-medium text-slate-500 dark:text-slate-300\">\n            {t('analytics.cards.load')}\n          </h2>\n          <p className=\"mt-2 text-2xl font-semibold\">\n            {typeof summary?.load.average === 'number'\n              ? `${loadFormatter.format(summary.load.average)} кг`\n              : t('analytics.noData')}\n          </p>\n          <p className=\"mt-1 text-xs text-slate-500 dark:text-slate-400\">\n            {t('analytics.cards.loadHint')}\n          </p>\n        </article>\n        <article className=\"rounded-lg bg-white p-4 shadow-sm dark:bg-slate-900\">\n          <h2 className=\"text-sm font-medium text-slate-500 dark:text-slate-300\">\n            SLA\n          </h2>\n          <p className=\"mt-2 text-2xl font-semibold\">\n            {typeof summary?.sla.average === 'number'\n              ? percentFormatter.format(summary.sla.average)\n              : t('analytics.noData')}\n          </p>\n          <p className=\"mt-1 text-xs text-slate-500 dark:text-slate-400\">\n            {t('analytics.cards.slaHint')}\n          </p>\n        </article>\n      </section>\n      <section className=\"grid gap-4 lg:grid-cols-3\">\n        <div className=\"space-y-2 rounded-lg bg-white p-4 shadow-sm dark:bg-slate-900 lg:col-span-3\">\n          <h3 className=\"text-base font-semibold text-slate-700 dark:text-slate-200\">\n            {t('analytics.charts.mileage')}\n          </h3>\n          <React.Suspense fallback={<div>{t('analytics.loading')}</div>}>\n            <ReactApexChart\n              type=\"area\"\n              height={280}\n              series={[\n                { name: t('analytics.cards.mileage'), data: mileageSeries },\n              ]}\n              options={{\n                chart: {\n                  id: 'analytics-mileage',\n                  animations: { enabled: false },\n                },\n                dataLabels: { enabled: false },\n                stroke: { curve: 'smooth', width: 2 },\n                xaxis: { type: 'category' },\n                yaxis: {\n                  labels: {\n                    formatter: (value: number) => numberFormatter.format(value),\n                  },\n                },\n                tooltip: {\n                  y: {\n                    formatter: (value: number) =>\n                      `${numberFormatter.format(value)} км`,\n                  },\n                },\n              }}\n            />\n          </React.Suspense>\n        </div>\n        <div className=\"space-y-2 rounded-lg bg-white p-4 shadow-sm dark:bg-slate-900\">\n          <h3 className=\"text-base font-semibold text-slate-700 dark:text-slate-200\">\n            {t('analytics.charts.load')}\n          </h3>\n          <React.Suspense fallback={<div>{t('analytics.loading')}</div>}>\n            <ReactApexChart\n              type=\"bar\"\n              height={280}\n              series={[{ name: t('analytics.cards.load'), data: loadSeries }]}\n              options={{\n                chart: { id: 'analytics-load', animations: { enabled: false } },\n                dataLabels: { enabled: false },\n                xaxis: { type: 'category' },\n                yaxis: {\n                  labels: {\n                    formatter: (value: number) =>\n                      `${loadFormatter.format(value)} кг`,\n                  },\n                },\n                tooltip: {\n                  y: {\n                    formatter: (value: number) =>\n                      `${loadFormatter.format(value)} кг`,\n                  },\n                },\n              }}\n            />\n          </React.Suspense>\n        </div>\n        <div className=\"space-y-2 rounded-lg bg-white p-4 shadow-sm dark:bg-slate-900\">\n          <h3 className=\"text-base font-semibold text-slate-700 dark:text-slate-200\">\n            {t('analytics.charts.sla')}\n          </h3>\n          <React.Suspense fallback={<div>{t('analytics.loading')}</div>}>\n            <ReactApexChart\n              type=\"line\"\n              height={280}\n              series={[{ name: 'SLA', data: slaSeries }]}\n              options={{\n                chart: { id: 'analytics-sla', animations: { enabled: false } },\n                dataLabels: { enabled: false },\n                stroke: { curve: 'straight', width: 2 },\n                markers: { size: 4 },\n                xaxis: { type: 'category' },\n                yaxis: {\n                  min: 0,\n                  max: 100,\n                  tickAmount: 5,\n                  labels: {\n                    formatter: (value: number) =>\n                      percentFormatter.format(value / 100),\n                  },\n                },\n                tooltip: {\n                  y: {\n                    formatter: (value: number) =>\n                      percentFormatter.format(value / 100),\n                  },\n                },\n              }}\n            />\n          </React.Suspense>\n        </div>\n      </section>\n    </div>\n  );\n}\n","// Назначение: вызовы админского healthcheck API\n// Основные модули: authFetch\nimport authFetch from '../utils/authFetch';\n\nexport type StackCheckStatus = 'ok' | 'warn' | 'error';\n\nexport type StackCheckResult = {\n  name: string;\n  status: StackCheckStatus;\n  durationMs?: number;\n  message?: string;\n  meta?: Record<string, unknown>;\n};\n\nexport type StackHealthResponse = {\n  ok: boolean;\n  timestamp: string;\n  results: StackCheckResult[];\n};\n\nconst isStackCheckResult = (value: unknown): value is StackCheckResult => {\n  if (!value || typeof value !== 'object') return false;\n  const candidate = value as { name?: unknown; status?: unknown };\n  return (\n    typeof candidate.name === 'string' &&\n    (candidate.status === 'ok' ||\n      candidate.status === 'warn' ||\n      candidate.status === 'error')\n  );\n};\n\nexport async function runStackHealthCheck(): Promise<StackHealthResponse> {\n  const response = await authFetch('/api/v1/system/health/run', {\n    method: 'POST',\n  });\n\n  if (!response.ok) {\n    const text = await response.text();\n    throw new Error(`Healthcheck недоступен: ${response.status} ${text}`);\n  }\n\n  const payload = (await response.json()) as unknown;\n  if (!payload || typeof payload !== 'object') {\n    throw new Error('Неверный ответ healthcheck');\n  }\n\n  const { ok, timestamp, results } = payload as Record<string, unknown>;\n  if (\n    typeof ok !== 'boolean' ||\n    typeof timestamp !== 'string' ||\n    !Array.isArray(results)\n  ) {\n    throw new Error('Неполный ответ healthcheck');\n  }\n\n  const parsedResults = results.filter(isStackCheckResult);\n  return {\n    ok,\n    timestamp,\n    results: parsedResults,\n  } satisfies StackHealthResponse;\n}\n","// Назначение: панель проверки состояния сервисов стека\n// Основные модули: React, services/healthcheck, ui/button\nimport React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport {\n  ArrowPathIcon,\n  PauseIcon,\n  PlayIcon,\n} from '@heroicons/react/24/outline';\nimport { Button } from '../../components/ui/button';\nimport {\n  runStackHealthCheck,\n  type StackCheckResult,\n  type StackCheckStatus,\n} from '../../services/healthcheck';\n\nconst statusColors: Record<StackCheckStatus, string> = {\n  ok: 'bg-emerald-50 text-emerald-700 ring-1 ring-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-200 dark:ring-emerald-700',\n  warn: 'bg-amber-50 text-amber-700 ring-1 ring-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:ring-amber-700',\n  error:\n    'bg-rose-50 text-rose-700 ring-1 ring-rose-200 dark:bg-rose-900/30 dark:text-rose-200 dark:ring-rose-700',\n};\n\nconst statusLabels: Record<StackCheckStatus, string> = {\n  ok: 'OK',\n  warn: 'Предупреждение',\n  error: 'Ошибка',\n};\n\nconst SHORT_INTERVAL_MS = 60_000;\n\nconst formatDateTime = (value: string | null): string => {\n  if (!value) return 'ещё не запускалось';\n  const parsed = new Date(value);\n  if (Number.isNaN(parsed.getTime())) return value;\n  return parsed.toLocaleString('ru-RU');\n};\n\nconst extractHint = (meta?: Record<string, unknown>): string | null => {\n  if (!meta) return null;\n  const hint = meta.hint;\n  return typeof hint === 'string' ? hint : null;\n};\n\nexport default function HealthCheckTab(): JSX.Element {\n  const [results, setResults] = useState<StackCheckResult[]>([]);\n  const [lastRun, setLastRun] = useState<string | null>(null);\n  const [auto, setAuto] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const timerRef = useRef<number | null>(null);\n\n  const sortedResults = useMemo(\n    () => [...results].sort((a, b) => a.name.localeCompare(b.name, 'ru-RU')),\n    [results],\n  );\n\n  const runCheck = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const report = await runStackHealthCheck();\n      setResults(report.results);\n      setLastRun(report.timestamp);\n    } catch (err: unknown) {\n      const message = err instanceof Error ? err.message : 'Неизвестная ошибка';\n      setError(message);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (auto) {\n      void runCheck();\n      timerRef.current = window.setInterval(() => {\n        void runCheck();\n      }, SHORT_INTERVAL_MS);\n    }\n    return () => {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n        timerRef.current = null;\n      }\n    };\n  }, [auto, runCheck]);\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex flex-wrap items-center gap-3\">\n        <Button\n          type=\"button\"\n          variant=\"success\"\n          size=\"sm\"\n          className=\"gap-2\"\n          disabled={loading}\n          onClick={() => void runCheck()}\n        >\n          {loading ? (\n            <ArrowPathIcon className=\"h-4 w-4 animate-spin\" />\n          ) : (\n            <PlayIcon className=\"h-4 w-4\" />\n          )}\n          Запустить проверку\n        </Button>\n        <label className=\"inline-flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-200\">\n          <input\n            type=\"checkbox\"\n            className=\"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500 dark:border-slate-600\"\n            checked={auto}\n            onChange={(event) => setAuto(event.target.checked)}\n          />\n          <span className=\"flex items-center gap-1\">\n            {auto ? (\n              <PauseIcon className=\"h-4 w-4\" />\n            ) : (\n              <PlayIcon className=\"h-4 w-4\" />\n            )}\n            Автоопрос раз в 60 секунд\n          </span>\n        </label>\n        <span className=\"text-sm text-slate-600 dark:text-slate-300\">\n          Последний запуск: {formatDateTime(lastRun)}\n        </span>\n      </div>\n\n      {error ? (\n        <div className=\"rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700 dark:border-rose-700 dark:bg-rose-900/40 dark:text-rose-100\">\n          {error}\n        </div>\n      ) : null}\n\n      <div className=\"overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm dark:border-slate-700 dark:bg-slate-900\">\n        <div className=\"grid grid-cols-[1fr_auto_auto_2fr] items-center gap-2 bg-slate-50 px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-slate-600 dark:bg-slate-800 dark:text-slate-300\">\n          <span>Компонент</span>\n          <span>Статус</span>\n          <span>Время</span>\n          <span>Детали</span>\n        </div>\n        {sortedResults.length === 0 ? (\n          <div className=\"px-4 py-5 text-sm text-slate-600 dark:text-slate-300\">\n            Результатов пока нет\n          </div>\n        ) : (\n          <ul className=\"divide-y divide-slate-200 dark:divide-slate-800\">\n            {sortedResults.map((item) => (\n              <li\n                key={item.name}\n                className=\"grid grid-cols-[1fr_auto_auto_2fr] items-start gap-2 px-4 py-3 text-sm text-slate-800 dark:text-slate-100\"\n              >\n                <div className=\"font-semibold capitalize\">{item.name}</div>\n                <div>\n                  <span\n                    className={`inline-flex items-center gap-1 rounded-full px-2 py-1 text-xs font-semibold ${statusColors[item.status]}`}\n                  >\n                    {statusLabels[item.status]}\n                  </span>\n                </div>\n                <div className=\"text-xs text-slate-500 dark:text-slate-300\">\n                  {typeof item.durationMs === 'number'\n                    ? `${item.durationMs} мс`\n                    : '—'}\n                </div>\n                <div className=\"space-y-2 text-xs text-slate-700 dark:text-slate-200\">\n                  {item.message ? (\n                    <div className=\"font-medium text-rose-600 dark:text-rose-200\">\n                      {item.message}\n                    </div>\n                  ) : null}\n                  {extractHint(item.meta) ? (\n                    <div className=\"rounded-xl border border-amber-200 bg-amber-50 px-3 py-2 font-medium text-amber-800 dark:border-amber-600 dark:bg-amber-900/40 dark:text-amber-100\">\n                      Что делать: {extractHint(item.meta)}\n                    </div>\n                  ) : null}\n                  {item.meta ? (\n                    <pre className=\"overflow-x-auto whitespace-pre-wrap rounded-xl bg-slate-50 p-3 text-[13px] leading-5 text-slate-800 ring-1 ring-slate-200 dark:bg-slate-800 dark:text-slate-100 dark:ring-slate-700\">\n                      {JSON.stringify(item.meta, null, 2)}\n                    </pre>\n                  ) : null}\n                </div>\n              </li>\n            ))}\n          </ul>\n        )}\n      </div>\n    </div>\n  );\n}\n","// Назначение файла: колонки таблицы универсальных коллекций настроек\n// Основные модули: @tanstack/react-table, services/collections\nimport type { ColumnDef } from '@tanstack/react-table';\nimport type { CollectionItem } from '../services/collections';\n\nexport interface CollectionTableRow extends CollectionItem {\n  displayValue: string;\n  metaSummary: string;\n  address?: string;\n  coordinates?: string;\n}\n\nexport const collectionColumns: ColumnDef<CollectionTableRow>[] = [\n  {\n    accessorKey: 'name',\n    header: 'Название',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'value',\n    header: 'Значение',\n    meta: { minWidth: '8rem', maxWidth: '20rem' },\n  },\n  {\n    accessorKey: 'displayValue',\n    header: 'Связанные данные',\n    meta: { minWidth: '10rem', maxWidth: '24rem' },\n  },\n  {\n    accessorKey: 'type',\n    header: 'Тип',\n    meta: { minWidth: '6rem', maxWidth: '12rem' },\n  },\n  {\n    accessorKey: '_id',\n    header: 'Идентификатор',\n    meta: { minWidth: '10rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'metaSummary',\n    header: 'Доп. сведения',\n    meta: { minWidth: '10rem', maxWidth: '24rem' },\n  },\n];\n\nexport const collectionObjectColumns: ColumnDef<CollectionTableRow>[] = [\n  {\n    accessorKey: 'name',\n    header: 'Название',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'address',\n    header: 'Адрес',\n    meta: { minWidth: '10rem', maxWidth: '20rem' },\n  },\n  {\n    accessorKey: 'coordinates',\n    header: 'Координаты',\n    meta: { minWidth: '8rem', maxWidth: '14rem' },\n  },\n  {\n    accessorKey: '_id',\n    header: 'Идентификатор',\n    meta: { minWidth: '10rem', maxWidth: '16rem' },\n  },\n];\n","// Назначение файла: колонки таблицы пользователей в настройках\n// Основные модули: @tanstack/react-table, types/user\nimport type { ColumnDef } from '@tanstack/react-table';\nimport type { User } from '../types/user';\nimport { formatRoleName } from '../utils/roleDisplay';\n\nexport const settingsUserColumns: ColumnDef<User>[] = [\n  {\n    accessorKey: 'telegram_id',\n    header: 'Telegram ID',\n    meta: { minWidth: '8rem' },\n  },\n  {\n    accessorKey: 'username',\n    header: 'Логин',\n    cell: ({ row }) =>\n      row.original.telegram_username ?? row.original.username ?? '',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'name',\n    header: 'Имя',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'phone',\n    header: 'Телефон',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'mobNumber',\n    header: 'Моб. номер',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'email',\n    header: 'E-mail',\n    meta: { minWidth: '10rem', maxWidth: '20rem' },\n  },\n  {\n    accessorKey: 'role',\n    header: 'Роль',\n    cell: ({ getValue }) => formatRoleName(getValue<string | undefined>()),\n    meta: { minWidth: '6rem', maxWidth: '12rem' },\n  },\n  {\n    accessorKey: 'access',\n    header: 'Доступ',\n    cell: ({ getValue }) => String(getValue<number | undefined>() ?? ''),\n    meta: { minWidth: '6rem', maxWidth: '10rem' },\n  },\n  {\n    accessorKey: 'roleId',\n    header: 'Роль ID',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'departmentId',\n    header: 'Департамент',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'divisionId',\n    header: 'Отдел',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'positionId',\n    header: 'Должность',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n];\n","// Назначение файла: колонки таблицы сотрудников с отображением связанных названий\n// Основные модули: @tanstack/react-table, types/user\nimport type { ColumnDef } from '@tanstack/react-table';\nimport type { User } from '../types/user';\nimport { formatRoleName } from '../utils/roleDisplay';\n\nexport interface EmployeeRow extends User {\n  roleName: string;\n  departmentName: string;\n  divisionName: string;\n  positionName: string;\n}\n\nconst renderAccess = (value: number | undefined) =>\n  value === undefined || value === null ? '' : String(value);\n\nexport const settingsEmployeeColumns: ColumnDef<EmployeeRow>[] = [\n  {\n    accessorKey: 'telegram_id',\n    header: 'Telegram ID',\n    meta: { minWidth: '8rem' },\n  },\n  {\n    accessorKey: 'username',\n    header: 'Логин',\n    cell: ({ row }) =>\n      row.original.telegram_username ?? row.original.username ?? '',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'name',\n    header: 'Имя',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'phone',\n    header: 'Телефон',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'mobNumber',\n    header: 'Моб. номер',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'email',\n    header: 'E-mail',\n    meta: { minWidth: '10rem', maxWidth: '20rem' },\n  },\n  {\n    accessorKey: 'role',\n    header: 'Роль',\n    cell: ({ getValue }) => formatRoleName(getValue<string | undefined>()),\n    meta: { minWidth: '6rem', maxWidth: '12rem' },\n  },\n  {\n    accessorKey: 'access',\n    header: 'Доступ',\n    cell: ({ getValue }) => renderAccess(getValue<number | undefined>()),\n    meta: { minWidth: '6rem', maxWidth: '10rem' },\n  },\n  {\n    accessorKey: 'roleId',\n    header: 'Роль ID',\n    cell: ({ row }) => formatRoleName(row.original.roleName),\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'departmentId',\n    header: 'Департамент',\n    cell: ({ row }) => row.original.departmentName || '—',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'divisionId',\n    header: 'Отдел',\n    cell: ({ row }) => row.original.divisionName || '—',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'positionId',\n    header: 'Должность',\n    cell: ({ row }) => row.original.positionName || '—',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n];\n","// Назначение: утилиты нормализации данных сотрудников и построения EmployeeRow\n// Основные модули: types/user\nimport type { EmployeeRow } from '../columns/settingsEmployeeColumns';\nimport type { User } from '../types/user';\n\nconst normalizeString = (value: unknown): string | undefined => {\n  if (typeof value !== 'string') return undefined;\n  const trimmed = value.trim();\n  return trimmed.length ? trimmed : undefined;\n};\n\nconst normalizeNumber = (value: unknown): number | undefined =>\n  typeof value === 'number' && Number.isFinite(value) ? value : undefined;\n\nconst normalizeStringArray = (value: unknown): string[] | undefined => {\n  if (!Array.isArray(value)) return undefined;\n  return value\n    .filter((item): item is string => typeof item === 'string')\n    .map((item) => item.trim())\n    .filter((item) => item.length > 0);\n};\n\nexport type EmployeeRowSource = User & {\n  roleName?: string | null;\n  departmentName?: string | null;\n  divisionName?: string | null;\n  positionName?: string | null;\n};\n\nexport const buildEmployeeRow = (source: EmployeeRowSource): EmployeeRow => {\n  const row: Partial<EmployeeRow> = {\n    roleName: normalizeString(source.roleName) ?? '',\n    departmentName: normalizeString(source.departmentName) ?? '',\n    divisionName: normalizeString(source.divisionName) ?? '',\n    positionName: normalizeString(source.positionName) ?? '',\n  };\n\n  const assignString = <K extends keyof EmployeeRow>(key: K, raw: unknown) => {\n    const normalized = normalizeString(raw);\n    if (normalized !== undefined) {\n      row[key] = normalized as EmployeeRow[K];\n    }\n  };\n\n  const assignNumber = <K extends keyof EmployeeRow>(key: K, raw: unknown) => {\n    const normalized = normalizeNumber(raw);\n    if (normalized !== undefined) {\n      row[key] = normalized as EmployeeRow[K];\n    }\n  };\n\n  assignString('id', source.id);\n  assignNumber('telegram_id', source.telegram_id);\n  assignString('telegram_username', source.telegram_username);\n  assignString('username', source.username);\n  assignString('name', source.name);\n  assignString('phone', source.phone);\n  assignString('mobNumber', source.mobNumber);\n  assignString('email', source.email);\n  assignString('role', source.role);\n  assignNumber('access', source.access);\n  const permissions = normalizeStringArray(source.permissions);\n  if (permissions !== undefined) {\n    row.permissions = permissions;\n  }\n  assignString('roleId', source.roleId);\n  assignString('roleName', row.roleName);\n  assignString('departmentId', source.departmentId);\n  assignString('departmentName', row.departmentName);\n  assignString('divisionId', source.divisionId);\n  assignString('divisionName', row.divisionName);\n  assignString('positionId', source.positionId);\n  assignString('positionName', row.positionName);\n\n  return row as EmployeeRow;\n};\n","// Назначение: форма редактирования пользователя\n// Основные модули: React, ConfirmDialog\nimport React from 'react';\n\nimport { Button } from '@/components/ui/button';\nimport ConfirmDialog from '../../components/ConfirmDialog';\nimport {\n  fetchCollectionItems,\n  type CollectionItem,\n} from '../../services/collections';\nimport { fetchRoles } from '../../services/roles';\nimport { ROLE_OPTIONS } from '../../utils/roleDisplay';\n\nexport interface UserFormData {\n  telegram_id?: number;\n  username: string;\n  name?: string;\n  phone?: string;\n  mobNumber?: string;\n  email?: string;\n  role?: string;\n  access?: number;\n  roleId?: string;\n  departmentId?: string;\n  divisionId?: string;\n  positionId?: string;\n}\n\ninterface Props {\n  form: UserFormData;\n  onChange: (form: UserFormData) => void;\n  onSubmit: () => void;\n  onReset: () => void;\n}\n\ninterface Role {\n  _id: string;\n  name: string;\n  access: number;\n}\n\nexport default function UserForm({ form, onChange, onSubmit, onReset }: Props) {\n  const [confirmSave, setConfirmSave] = React.useState(false);\n  const [departments, setDepartments] = React.useState<CollectionItem[]>([]);\n  const [divisions, setDivisions] = React.useState<CollectionItem[]>([]);\n  const [positions, setPositions] = React.useState<CollectionItem[]>([]);\n  const [roles, setRoles] = React.useState<Role[]>([]);\n\n  React.useEffect(() => {\n    fetchCollectionItems('departments', '', 1, 100)\n      .then((d) => setDepartments(d.items))\n      .catch(() => setDepartments([]));\n    fetchCollectionItems('divisions', '', 1, 100)\n      .then((d) => setDivisions(d.items))\n      .catch(() => setDivisions([]));\n    fetchCollectionItems('positions', '', 1, 100)\n      .then((d) => setPositions(d.items))\n      .catch(() => setPositions([]));\n    fetchRoles().then((r) => setRoles(r));\n  }, []);\n\n  const handleRoleChange = (value: string) => {\n    const r = roles.find((x) => x.name === value);\n    onChange({\n      ...form,\n      role: value,\n      roleId: r?._id,\n      access: r?.access ?? 1,\n    });\n  };\n\n  const submit = (e: React.FormEvent) => {\n    e.preventDefault();\n    setConfirmSave(true);\n  };\n  return (\n    <form onSubmit={submit} className=\"space-y-2\">\n      <div>\n        <label className=\"block text-sm font-medium\">ID</label>\n        <input\n          id=\"settings-user-telegram-id\"\n          name=\"telegramId\"\n          className=\"h-10 w-full rounded border px-3\"\n          value={form.telegram_id ?? ''}\n          onChange={(e) =>\n            onChange({\n              ...form,\n              telegram_id: e.target.value ? Number(e.target.value) : undefined,\n            })\n          }\n          readOnly={!!form.telegram_id}\n          required\n        />\n      </div>\n      <div>\n        <label className=\"block text-sm font-medium\">Username</label>\n        <input\n          id=\"settings-user-username\"\n          name=\"username\"\n          className=\"h-10 w-full rounded border px-3\"\n          value={form.username || ''}\n          onChange={(e) => onChange({ ...form, username: e.target.value })}\n          readOnly={!!form.telegram_id}\n        />\n      </div>\n      <div>\n        <label className=\"block text-sm font-medium\">Имя</label>\n        <input\n          id=\"settings-user-name\"\n          name=\"name\"\n          className=\"h-10 w-full rounded border px-3\"\n          value={form.name || ''}\n          onChange={(e) => onChange({ ...form, name: e.target.value })}\n        />\n      </div>\n      <div>\n        <label className=\"block text-sm font-medium\">Телефон</label>\n        <input\n          id=\"settings-user-phone\"\n          name=\"phone\"\n          className=\"h-10 w-full rounded border px-3\"\n          value={form.phone || ''}\n          onChange={(e) => onChange({ ...form, phone: e.target.value })}\n        />\n      </div>\n      <div>\n        <label className=\"block text-sm font-medium\">Доп. телефон</label>\n        <input\n          id=\"settings-user-mob\"\n          name=\"mobNumber\"\n          className=\"h-10 w-full rounded border px-3\"\n          value={form.mobNumber || ''}\n          onChange={(e) => onChange({ ...form, mobNumber: e.target.value })}\n        />\n      </div>\n      <div>\n        <label className=\"block text-sm font-medium\">Email</label>\n        <input\n          id=\"settings-user-email\"\n          name=\"email\"\n          className=\"h-10 w-full rounded border px-3\"\n          value={form.email || ''}\n          onChange={(e) => onChange({ ...form, email: e.target.value })}\n        />\n      </div>\n      <div>\n        <label className=\"block text-sm font-medium\">Роль</label>\n        <select\n          className=\"h-10 w-full rounded border px-3\"\n          value={form.role || 'user'}\n          onChange={(e) => handleRoleChange(e.target.value)}\n        >\n          {ROLE_OPTIONS.map((option) => (\n            <option key={option.value} value={option.value}>\n              {option.label}\n            </option>\n          ))}\n        </select>\n      </div>\n      <div>\n        <label className=\"block text-sm font-medium\">Департамент</label>\n        <select\n          className=\"h-10 w-full rounded border px-3\"\n          value={form.departmentId || ''}\n          onChange={(e) => onChange({ ...form, departmentId: e.target.value })}\n        >\n          <option value=\"\"></option>\n          {departments.map((d) => (\n            <option key={d._id} value={d._id}>\n              {d.name}\n            </option>\n          ))}\n        </select>\n      </div>\n      <div>\n        <label className=\"block text-sm font-medium\">Отдел</label>\n        <select\n          className=\"h-10 w-full rounded border px-3\"\n          value={form.divisionId || ''}\n          onChange={(e) => onChange({ ...form, divisionId: e.target.value })}\n        >\n          <option value=\"\"></option>\n          {divisions.map((d) => (\n            <option key={d._id} value={d._id}>\n              {d.name}\n            </option>\n          ))}\n        </select>\n      </div>\n      <div>\n        <label className=\"block text-sm font-medium\">Должность</label>\n        <select\n          className=\"h-10 w-full rounded border px-3\"\n          value={form.positionId || ''}\n          onChange={(e) => onChange({ ...form, positionId: e.target.value })}\n        >\n          <option value=\"\"></option>\n          {positions.map((p) => (\n            <option key={p._id} value={p._id}>\n              {p.name}\n            </option>\n          ))}\n        </select>\n      </div>\n      <div className=\"flex gap-2\">\n        <Button type=\"submit\">Сохранить</Button>\n        <Button type=\"button\" variant=\"outline\" onClick={onReset}>\n          Очистить\n        </Button>\n      </div>\n      <ConfirmDialog\n        open={confirmSave}\n        message=\"Сохранить изменения?\"\n        onConfirm={() => {\n          setConfirmSave(false);\n          onSubmit();\n        }}\n        onCancel={() => setConfirmSave(false)}\n        confirmText=\"Сохранить\"\n      />\n    </form>\n  );\n}\n"],"names":["indexesOf","AdjustmentsHorizontalIcon","_ref","svgRef","title","titleId","props","_objectWithoutProperties","_excluded","React.createElement","Object","assign","xmlns","fill","viewBox","strokeWidth","stroke","ref","id","strokeLinecap","strokeLinejoin","d","_queries$active","_searchDrafts$active","_userForm$telegram_id","_roleMap$get","_departmentMap$get3","_divisionMap$get5","_positionMap$get","_selectedEmployee$tel","_selectedEmployee$acc","_roleMap$get2","_departmentMap$get4","_divisionMap$get6","_positionMap$get2","t","useTranslation","_useSearchParams2","_slicedToArray","useSearchParams","searchParams","setSearchParams","_reactExports$useStat40","useState","param","get","isValidModuleKey","activeModule","setActiveModule","_reactExports$useStat42","active","setActive","_reactExports$useStat44","items","setItems","_reactExports$useStat46","isLoading","setIsLoading","_reactExports$useStat48","total","setTotal","_reactExports$useStat50","page","setPage","_reactExports$useStat52","createInitialQueries","queries","setQueries","_reactExports$useStat54","searchDrafts","setSearchDrafts","_reactExports$useStat56","emptyItemForm","form","setForm","_reactExports$useStat58","hint","setHint","_reactExports$useStat60","allDepartments","setAllDepartments","_reactExports$useStat62","allDivisions","setAllDivisions","_reactExports$useStat64","allPositions","setAllPositions","_reactExports$useStat66","allRoles","setAllRoles","limit","_reactExports$useStat68","users","setUsers","_reactExports$useStat70","userPage","setUserPage","_reactExports$useStat72","userQuery","setUserQuery","_reactExports$useStat74","userSearchDraft","setUserSearchDraft","_reactExports$useStat76","userModalOpen","setUserModalOpen","_reactExports$useStat78","emptyUser","userForm","setUserForm","_reactExports$useStat80","collectionModalOpen","setCollectionModalOpen","_reactExports$useStat82","selectedCollection","setSelectedCollection","collectionSearchTimer","useRef","_reactExports$useStat84","selectedEmployeeId","setSelectedEmployeeId","_reactExports$useStat86","isEmployeeModalOpen","setIsEmployeeModalOpen","_reactExports$useStat88","employeeFormMode","setEmployeeFormMode","_reactExports$useStat90","taskFieldItems","setTaskFieldItems","_reactExports$useStat92","taskTypeItems","setTaskTypeItems","_reactExports$useStat94","tasksLoading","setTasksLoading","currentUser","useAuth","user","_reactExports$useStat96","confirmUserDelete","setConfirmUserDelete","_reactExports$useStat98","confirmEmployeeDelete","setConfirmEmployeeDelete","canManageUsers","hasAccess","access","ACCESS_ADMIN","useEffect","current","window","clearTimeout","next","handleModuleChange","useCallback","value","URLSearchParams","toString","delete","set","replace","selectedCollectionInfo","useMemo","_meta$readonly","meta","_typeof","readonly","notice","Boolean","legacy","readonlyReason","selectedObjectDetails","type","toCollectionObject","breadcrumbs","label","href","currentQuery","currentSearchDraft","isCollectionSearchSupported","isUserSearchActive","isEmployeeSearchActive","applyCollectionSearch","raw","normalized","trim","prev","_objectSpread","_defineProperty","setTimeout","load","_callee16","list","_yield$fetchCollectio","loadedItems","loadedTotal","message","_t13","_regenerator","w","_context17","p","n","a","fetchAllCollectionItems","v","length","fetchCollectionObjects","fetchCollectionItems","mergeById","Error","f","loadUsers","_callee17","_t14","_context18","fetchUsers","USERS_ERROR_HINT","loadTaskSettings","_callee18","_yield$Promise$all","_yield$Promise$all2","fields","types2","_t15","_context19","Promise","all","types","TASK_SETTINGS_ERROR_HINT","saveTaskField","_ref74","_asyncToGenerator","m","_callee19","item","trimmed","_item$meta19","_t16","_context20","virtual","createCollectionItem","name","updateCollectionItem","_id","collectionType","TASK_FIELD_SAVE_ERROR","_x11","_x12","apply","arguments","deleteTaskField","_ref75","_callee20","_item$meta20","_t17","_context21","removeCollectionItem","TASK_SETTINGS_DELETE_ERROR","_x13","this","saveTaskType","_ref76","_callee21","payload","trimmedLabel","trimmedUrl","trimmedPhotosUrl","_item$meta21","buildMeta","_meta","_t18","_context22","tg_theme_url","tg_photos_url","keys","TASK_TYPE_SAVE_ERROR","_x14","_x15","deleteTaskType","_ref77","_callee22","_item$meta22","_t19","_context23","_x16","loadReferenceCollections","_callee23","_yield$Promise$allSet","_yield$Promise$allSet2","departmentsResult","divisionsResult","positionsResult","applyResult","_context24","allSettled","result","setter","fallbackMessage","status","reason","fetchRoles","then","catch","error","openCollectionModal","object","address","latitude","longitude","closeCollectionModal","openUserModal","_ref79","_user$telegram_userna2","_user$name2","_user$phone2","_user$mobNumber2","_user$email2","_user$role2","_user$access","_user$roleId","_user$departmentId","_user$divisionId","_user$positionId","telegram_id","username","telegram_username","phone","mobNumber","email","role","roleId","departmentId","divisionId","positionId","mapUserToForm","closeUserModal","openEmployeeModal","String","updateCollectionSearchDraft","submitCollectionSearch","handleCollectionSearchKeyDown","event","key","preventDefault","currentTarget","resetCollectionSearch","submitUserSearch","handleUserSearchKeyDown","executeUserDelete","_callee24","_t20","_context25","deleteUserApi","showToast","USER_DELETE_SUCCESS","USER_DELETE_ERROR","executeEmployeeDelete","_callee25","_t21","_context26","EMPLOYEE_DELETE_SUCCESS","EMPLOYEE_DELETE_ERROR","submit","_callee26","trimmedName","_selectedCollectionIn","valueToSave","metaToSave","_ref83","_form$address","_form$meta","saved","_t22","_context27","safeParseIds","join","parseCoordinateInput","location","lat","lng","remove","_callee27","_selectedCollectionIn2","msg","_t23","_context28","submitUser","_callee28","data","_context29","find","u","createUserApi","_excluded23","updateUserApi","departmentMap","map","Map","forEach","divisionMap","positionMap","position","employeeDetailsIndex","buildEmployeeDetailsIndex","enrichUserWithEmployeeDetails","mergeEmployeeDetails","findEmployeeDetails","enrichedUsers","roleMap","_reactExports$useMemo","owners","duplicates","Set","department","currentOwner","add","divisionOwners","duplicateDivisionIds","Array","from","duplicateDivisionHint","names","_ref86","_divisionMap$get","_allDivisions$find","division","filter","suffix","concat","DUPLICATE_DIVISION_HINT_PREFIX","startsWith","getItemDisplayValue","_item$value5","ids","SETTINGS_BADGE_EMPTY","_ref87","_divisionMap$get2","_allDivisions$find2","_ref88","_departmentMap$get","_allDepartments$find","departmentName","formatCollectionRawValue","_ref89","_divisionMap$get3","_allDivisions$find3","divisionName","_object$address","coordinates","formatCoordinatesValue","formatMetaSummary","summarizeRecord","parsed","Number","parseFloat","isFinite","copyIdLabel","copiedIdLabel","localizeColumns","columns","column","hasAccessorKey","accessorKey","header","cell","_ref90","getValue","safeValue","jsx","CopyableId","copyHint","copiedHint","className","children","localizedCollectionColumns","collectionColumns","localizedObjectColumns","collectionObjectColumns","collectionSearchPlaceholder","collectionSearchHint","collectionSearchCta","collectionResetCta","collectionAddCta","collectionEmptyTitle","collectionEmptyDescription","collectionEmptyAction","userSearchPlaceholder","userAddCta","employeeSearchPlaceholder","employeeAddCta","buildCollectionColumns","excludedKeys","includes","departmentColumns","divisionColumns","positionColumns","renderDepartmentValueField","currentForm","handleChange","options","selected","multiple","onChange","values","target","selectedOptions","option","disabled","ownerId","renderDivisionValueField","jsxs","required","renderPositionValueField","renderObjectValueField","_currentForm$address","_currentForm$latitude","_currentForm$longitud","addressValue","placeholder","totalPages","Math","ceil","filteredUsers","matchSorter","_item$username","threshold","rankings","STARTS_WITH","_item$telegram_userna","buildUserSearchTokens","CONTAINS","userTotalPages","paginatedUsers","slice","employeeRows","mergedUser","roleNameFromMap","resolveReferenceName","roleName","positionName","roleLabel","formatRoleName","buildEmployeeRow","selectedEmployee","base","fallbackDetails","fallbackUser","parsedId","selectedDepartmentDivisionNames","_ref91","_divisionMap$get4","_allDivisions$find4","selectedDivisionDepartmentName","_ref92","_departmentMap$get2","_allDepartments$find2","selectedDivisionPositionNames","selectedDivisionEmployeeNames","directoriesToolbar","addLabel","handleAdd","htmlFor","onKeyDown","Button","size","onClick","variant","Tabs","onValueChange","ActionBar","Breadcrumbs","description","toolbar","moduleTabs","tab","TabsList","Icon","icon","labelId","TabsTrigger","TabsContent","tabIcons","isActiveTab","rows","formatCoordinates","displayValue","metaSummary","columnsForType","showEmpty","DataTable","settingsUserColumns","pageIndex","pageSize","pageCount","onPageChange","index","showGlobalSearch","showFilters","onRowClick","row","wrapCellsAsBadges","badgeClassName","SETTINGS_BADGE_CLASS","badgeWrapperClassName","SETTINGS_BADGE_WRAPPER_CLASS","badgeEmptyPlaceholder","settingsEmployeeColumns","TaskSettingsTab","loading","onSaveField","onDeleteField","onSaveType","onDeleteType","FleetVehiclesTab","Spinner","Modal","open","onClose","Fragment","renderBadgeList","JSON","stringify","CollectionForm","onSubmit","onDelete","onReset","valueLabel","renderValueField","readonlyNotice","UserForm","EmployeeCardForm","telegramId","mode","onSaved","updated","ConfirmDialog","onConfirm","onCancel","confirmText","AnalyticsDashboard","ArchivePage","LogsPage","StoragePage","HealthCheckTab","ForwardRef","React.forwardRef","ArchiveBoxIcon","_ref2","_excluded2","BuildingOffice2Icon","_ref3","_excluded3","CheckIcon","_ref4","_excluded4","DocumentDuplicateIcon","_ref5","_excluded5","IdentificationIcon","_ref6","_excluded6","KeyIcon","_ref7","_excluded7","MapPinIcon","_ref8","_excluded8","PauseIcon","_ref9","_excluded9","PlayIcon","_ref0","_excluded0","RectangleStackIcon","_ref1","_excluded1","ShieldCheckIcon","_ref10","_excluded10","Squares2X2Icon","_ref11","_excluded11","TruckIcon","_ref12","_excluded12","UserGroupIcon","_ref13","_excluded13","characterMap","chars","allAccents","RegExp","firstAccent","matcher","match","removeAccents","string","removeAccentsModule","exports","has","CASE_SENSITIVE_EQUAL","EQUAL","WORD_STARTS_WITH","ACRONYM","MATCHES","NO_MATCH","defaultBaseSortFn","b","rankedValue","localeCompare","undefined","_options$threshold","_options$baseSort","baseSort","_options$sorter","sorter","matchedItems","sort","aFirst","bFirst","aRank","rank","aKeyIndex","keyIndex","bRank","bKeyIndex","sortRankedValues","reduce","matches","rankingInfo","getMatchRanking","keyThreshold","valuesToRank","allValues","j","J","attributes","getKeyAttributes","itemValues","getItemValues","i","I","push","itemValue","getAllValuesToRank","_ref15","_ref16","newRank","newRankedValue","minRanking","maxRanking","getHighestRanking","_rankingInfo$keyThres","_ref14","testString","stringToRank","_context","indexOf","_marked","prepareValueForComparison","indexesOfStringToRankInTestString","toLowerCase","firstIndexOfStringToRankInTestStringResult","indexOfStringToRankInTestString","indexOfStringToRankInTestStringResult","done","acronym","ch","charAt","getAcronym","matchingInOrderCharCount","charNumber","findMatchingCharacter","matchChar","getRanking","spread","spreadPercentage","inOrderPercentage","firstIndex","getClosenessRanking","_ref17","keepDiacritics","hasOwnProperty","call","path","split","nestedKey","nestedValues","nestedItem","nestedValue","isArray","_toConsumableArray","getNestedValues","defaultKeyAttributes","Infinity","TABS_NAME","_createContextScope2","createContextScope","createRovingFocusGroupScope","createTabsContext","useRovingFocusGroupScope","_createTabsContext2","TabsProvider","useTabsContext","forwardedRef","__scopeTabs","valueProp","defaultValue","_props$orientation","orientation","dir","_props$activationMode","activationMode","tabsProps","_excluded14","direction","useDirection","_useControllableState2","useControllableState","prop","defaultProp","caller","setValue","scope","baseId","useId","Primitive","div","displayName","TAB_LIST_NAME","_props$loop","loop","listProps","_excluded15","context","rovingFocusGroupScope","RovingFocusGroup.Root","asChild","TRIGGER_NAME","_props$disabled","triggerProps","_excluded16","triggerId","makeTriggerId","contentId","makeContentId","isSelected","RovingFocusGroup.Item","focusable","button","onMouseDown","composeEventHandlers","ctrlKey","onFocus","isAutomaticActivation","CONTENT_NAME","forceMount","contentProps","_excluded17","isMountAnimationPreventedRef","React.useRef","React.useEffect","rAF","requestAnimationFrame","cancelAnimationFrame","Presence","present","_ref18","hidden","tabIndex","style","animationDuration","Root2","List","Trigger","Content","_ref19","_excluded18","TabsPrimitive.Root","cn","_ref20","_excluded19","TabsPrimitive.List","_ref21","_excluded20","TabsPrimitive.Trigger","_ref22","_excluded21","TabsPrimitive.Content","_ref23","_ref24","onCopy","_excluded22","_React$useState2","React","copied","setCopied","resetTimerRef","textToShow","defaultCopyHint","defaultCopiedHint","handleCopy","_callee2","performCopy","_context3","_callee","_navigator$clipboard","textarea","_context2","navigator","clipboard","writeText","document","createElement","setAttribute","left","body","appendChild","select","execCommand","removeChild","_ref27","_ref27$valueLabel","_ref27$readonly","_React$useState4","confirmDelete","setConfirmDelete","_React$useState6","confirmSave","setConfirmSave","e","pendingRequests","buildKey","search","parseResponse","res","fallback","ok","json","text","listFleetVehicles","_callee29","existing","controller","params","request","_args30","_context30","promise","entry","pendingKey","abort","AbortController","authFetch","signal","finally","_listFleetVehicles","createFleetVehicle","_callee30","_context31","method","confirmed","headers","updateFleetVehicle","_x2","_x3","_updateFleetVehicle","_callee31","_context32","deleteFleetVehicle","_callee32","_context33","emptyForm","registrationNumber","odometerInitial","odometerCurrent","mileageTotal","transportType","fuelType","fuelRefilled","fuelAverageConsumption","fuelSpentTotal","currentTasks","parseTasks","FleetVehicleDialog","_ref28","vehicle","saving","_reactExports$useStat2","_reactExports$useStat4","setError","_reactExports$useStat6","_reactExports$useStat8","isUpdate","toUpperCase","handleConfirm","_callee3","_t2","_context4","handleDelete","_callee4","_t3","_context5","test","min","step","_unused2","fleetVehicleColumns","minWidth","maxWidth","badgeBaseClass","PAGE_LIMIT","transportHistoryFormatter","Intl","DateTimeFormat","day","month","year","hour","minute","formatHistoryInstant","date","Date","isNaN","getTime","format","buildHistoryLabel","assigned","assignedAt","removed","removedAt","taskTitle","taskId","formatTransportHistory","history","vehicleCardFields","render","_vehicle$transportHis","transportHistory","createdAt","updatedAt","unitId","remoteName","notes","_reactExports$useStat0","_reactExports$useStat10","_reactExports$useStat12","_reactExports$useStat14","setSearch","_reactExports$useStat16","appliedSearch","setAppliedSearch","_reactExports$useStat18","setLoading","_reactExports$useStat20","_reactExports$useStat22","modalOpen","setModalOpen","_reactExports$useStat24","setMode","_reactExports$useStat26","setSaving","_reactExports$useStat28","selectedVehicle","setSelectedVehicle","max","transportHistoryInfo","_callee5","_t4","_context6","closeModal","_ref34","_callee6","_context7","_x5","_x6","_ref35","_callee7","_context8","_x7","_ref36","CARD_CLASS","SECTION_GAP","FieldCard","_item$meta$defaultLab","_item$meta","_item$value","_item$meta2","_item$meta3","_item$meta4","_ref37","onSave","deleting","_React$useState8","localError","setLocalError","defaultLabel","storedLabel","trimmedValue","dirty","handleSave","_callee8","_t5","_context9","_callee9","_t6","_context0","fieldType","Input","TypeCard","_item$meta$defaultLab2","_item$meta5","_item$value2","_item$meta6","_item$meta7","_item$meta8","_item$meta9","_item$meta0","_item$meta1","_item$meta10","_ref40","url","photosUrl","onChangeLabel","onChangeUrl","onChangePhotosUrl","_React$useState0","storedUrl","storedPhotosUrl","_callee0","_t7","_context1","_callee1","_t8","_context10","tg_chat_id","tg_topic_id","tg_photos_chat_id","tg_photos_topic_id","sortByOrder","_a$meta","_b$meta","order","useDraftMap","selector","_React$useState10","draft","setDraft","changed","itemNames","_ref43","selectFieldDraft","_item$value3","_item$meta11","selectTypeDraft","_item$value4","_item$meta12","_item$meta13","_item$meta14","_useDraftMap2","fieldDrafts","setFieldDrafts","_useDraftMap4","typeDrafts","setTypeDrafts","_React$useState12","savingField","setSavingField","_React$useState14","savingType","setSavingType","_React$useState16","deletingField","setDeletingField","_React$useState18","deletingType","setDeletingType","_React$useState20","fieldErrors","setFieldErrors","_React$useState22","typeErrors","setTypeErrors","sortedFields","sortedTypes","handleTypeChange","patch","_prev$name$label","_prev$name","_prev$name$url","_prev$name2","_prev$name$photosUrl","_prev$name3","saveField","_ref44","_callee10","_fieldDrafts$item$nam","_t9","_context11","_x8","deleteField","_ref45","_callee11","_item$meta15","_t0","_context12","_x9","saveType","_ref46","_callee12","_typeDrafts$item$name","_t1","_context13","_x0","deleteType","_ref47","_callee13","_item$meta16","_t10","_context14","_x1","_fieldDrafts$item$nam2","_item$meta17","handleFieldChange","revertFieldDraft","_typeDrafts$item$name2","_typeDrafts$item$name3","_typeDrafts$item$name4","_typeDrafts$item$name5","_typeDrafts$item$name6","_typeDrafts$item$name7","_item$meta18","revertTypeDraft","fetchRoutePlanAnalytics","_fetchRoutePlanAnalytics","_callee33","query","response","_args34","_context34","to","ReactApexChart","lazy","__vitePreload","module","r","toDateInput","getTimezoneOffset","toISOString","defaultTo","defaultFrom","now","DAY_MS","statusOptions","percentFormatter","NumberFormat","minimumFractionDigits","maximumFractionDigits","numberFormatter","loadFormatter","ensureParams","filters","mapMileageSeries","_data$mileage$byPerio","mileage","byPeriod","point","x","y","mapLoadSeries","_data$load$byPeriod$m","mapSlaSeries","_data$sla$byPeriod$ma","sla","rate","toFixed","_summary$mileage$tota","_summary$period$from","_summary$period$to","_React$useState24","setFilters","_React$useState26","_React$useState28","_React$useState30","summary","setSummary","loadData","_ref48","_callee14","_t11","_context15","console","_x10","mileageSeries","loadSeries","slaSeries","FormData","nextFilters","period","average","Suspense","height","series","chart","animations","enabled","dataLabels","curve","width","xaxis","yaxis","labels","formatter","tooltip","markers","tickAmount","isStackCheckResult","candidate","runStackHealthCheck","_runStackHealthCheck","_callee34","timestamp","results","parsedResults","_context35","statusColors","warn","statusLabels","SHORT_INTERVAL_MS","formatDateTime","toLocaleString","extractHint","_reactExports$useStat30","setResults","_reactExports$useStat32","lastRun","setLastRun","_reactExports$useStat34","auto","setAuto","_reactExports$useStat36","_reactExports$useStat38","timerRef","sortedResults","runCheck","_callee15","report","_t12","_context16","setInterval","clearInterval","ArrowPathIcon","checked","durationMs","_ref50","_ref51","_row$original$telegra","original","_ref53","_getValue","_ref54","_ref55","_row$original$telegra2","_ref58","normalizeString","source","_normalizeString","_normalizeString2","_normalizeString3","_normalizeString4","assignString","assignNumber","permissions","normalizeStringArray","_form$telegram_id","_ref62","_React$useState32","_React$useState34","departments","setDepartments","_React$useState36","divisions","setDivisions","_React$useState38","positions","setPositions","_React$useState40","roles","setRoles","readOnly","_r$access","ROLE_OPTIONS","ChartPieIcon","DocumentTextIcon","some","acc","objects","employees","fleets","tasks","ClipboardDocumentListIcon","collectStringIds","flatMap","entries","_ref63","_ref64","KEY_LABEL_OVERRIDES","fleetId","sourceId","invalid","invalidReason","invalidCode","invalidAt","syncPending","syncWarning","syncError","syncFailedAt","formatKeyLabel","override","formatSummaryValue","_ref65","_ref66","nested","formatted","record","_ref67","_ref68","parse","_unused3","tryParseJsonValue","parts","part","IdsSchema","z.preprocess","input","_unused4","z.array","z.string","transform","normalizeId","safeParse","success","incoming","merged","indexById","fallbackName","_map$get","directName","readValue","_step","_iterator","_createForOfIteratorHelper","s","err","lowerCaseSource","_ref69","_ref70","_step2","_iterator2","lowerKey","pickString","pickNumber","collectEmployeeDetails","rawValue","_unused5","_item$name","combined","details","telegramUsername","firstName","lastName","middleName","pickStringArray","byId","byTelegramUsername","byUsername","TOKEN_SPLIT_REGEX","_user$username","_user$telegram_userna","_user$telegram_id","_user$name","_user$phone","_user$mobNumber","_user$email","_user$role","_user$roleName","_user$departmentName","_user$divisionName","_user$positionName","tokens","addValue","permission","fallbackId","candidateId","direct"],"mappings":"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MinB,GAA2BC,EAAAA,WAAiBwC,mECxBlD,IAAIG,EAAe,CAClB,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,KAAM,IACN,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,KAAM,IACN,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,KAAM,IACN,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,KAAM,IACN,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,KACL,KAAM,IACN,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,KAAM,IACN,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,KAAM,IACN,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,KAAM,IACN,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,KAAM,IACN,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,KAAM,IACN,KAAM,IACN,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,KACL,IAAK,IACL,IAAK,IACL,IAAK,KACL,IAAK,KACL,IAAK,IACL,IAAK,IACL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","x_google_ignoreList":[0,1,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18]}