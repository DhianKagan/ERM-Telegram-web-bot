# Назначение файла: пример переменных окружения для бота, API и клиента.
# Внимание: это только примеры. Реальные секреты не коммитим и храним в Secret Store/локально.

# --- Общие секреты ---
# BOT_TOKEN — токен Telegram-бота (BotFather).
BOT_TOKEN=rotated_bot_token
# CHAT_ID — id чата для уведомлений (узнайте у @userinfobot).
CHAT_ID=0
# JWT_SECRET — строка для подписи JWT.
JWT_SECRET=rotated_jwt_secret
# SESSION_SECRET — минимум 64 символа, используйте ./scripts/create_env_from_exports.sh для генерации.
SESSION_SECRET=
# LHCI_TOKEN — токен Lighthouse CI для загрузки отчётов (опционально).
LHCI_TOKEN=

# --- API (apps/api) ---
# MONGO_DATABASE_URL — строка подключения к MongoDB.
# По умолчанию используется локальный контейнер из Docker Compose
# с учётными данными admin/admin.
MONGO_DATABASE_URL=mongodb://admin:admin@localhost:27017/ermdb?authSource=admin
# APP_URL — базовый HTTPS-адрес приложения.
APP_URL=https://example.com
# APP_ORIGIN — origin клиентского приложения для коротких ссылок.
APP_ORIGIN=http://localhost:5173
# CORS_ORIGINS — список origin через запятую.
CORS_ORIGINS=https://example.com,http://localhost:5173
# COOKIE_DOMAIN — задайте домен куки в продакшене (например .example.com).
COOKIE_DOMAIN=
# PORT — порт, который слушает сервер (Railway передаст собственный).
PORT=8080
# COOKIE_SECURE=false разрешает передачу cookie по HTTP. Используйте только для локальной отладки.
COOKIE_SECURE=true
# Используем ЕДИНСТВЕННЫЙ флаг: DISABLE_CSRF (0=включена защита, 1=отключена).
# Не вводите параллельно CSRF_ENABLED, чтобы не возникало двойной логики.
# DISABLE_CSRF=1 полностью отключает проверку CSRF. Используйте только в тестах.
DISABLE_CSRF=0
# CAPTCHA_TOKEN — секрет для обхода лимита запросов (опционально).
CAPTCHA_TOKEN=
# STORAGE_DIR — базовый каталог для статических файлов и вложений.
# На Railway укажите путь к смонтированному тому, например /storage
STORAGE_DIR=
# ANTIVIRUS_VENDOR — сигнатурный сканер: signature или ClamAV-демон.
ANTIVIRUS_VENDOR=signature
# LOCALE — локализация приложения (ru|uk|en ...).
LOCALE=ru
# SCHEDULE_CRON — CRON-выражение для планировщика задач (пример: каждую минуту).
SCHEDULE_CRON=*/1 * * * *
# SECRETS_MANAGER — хранилище секретов: aws или vault (если используется).
SECRETS_MANAGER=
# R2_CORS_ORIGIN — список разрешённых Origin через запятую (если используете R2).
R2_CORS_ORIGIN=https://example.com
# ROUTING_URL — адрес сервиса ORSM (по умолчанию /route)
ROUTING_URL=https://orsm-production.up.railway.app/route
# OSRM_ALGORITHM — алгоритм сервиса OSRM (ch|mld)
OSRM_ALGORITHM=mld
# PROTOMAPS_API_KEY — ключ тайлов, если подключаете Protomaps или MapTiler.
PROTOMAPS_API_KEY=
# LOG_LEVEL управляет уровнем подробности логов. Можно не задавать — по умолчанию debug.
LOG_LEVEL=
# CSP_REPORT_ONLY=true включает режим отчётов для CSP.
# Дополнительные источники указываются через пробел (allowlists ниже — опциональны).
CSP_REPORT_ONLY=true
CSP_CONNECT_SRC_ALLOWLIST=
CSP_IMG_SRC_ALLOWLIST=
CSP_SCRIPT_SRC_ALLOWLIST=
CSP_STYLE_SRC_ALLOWLIST=
CSP_FONT_SRC_ALLOWLIST=

# --- Клиент (apps/web / Vite) ---
# Значения, начинающиеся с VITE_, автоматически доступны в браузере.
VITE_BOT_USERNAME=your_bot_username
VITE_CHAT_ID=your_chat_id
# VITE_ROUTING_URL — тот же адрес, что и ROUTING_URL, но используется на клиенте.
VITE_ROUTING_URL=https://orsm-production.up.railway.app/route
