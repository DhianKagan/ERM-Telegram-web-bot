import{l as T}from"./vendor-DBLHOZWC.js";import{r as g,P as S}from"./map-Djfvydgf.js";const b=6371;function N(e,t){const o=A=>A*Math.PI/180,l=o(t.lat-e.lat),n=o(t.lng-e.lng),y=o(e.lat),P=o(t.lat),i=Math.sin(l/2),a=Math.sin(n/2),c=i*i+Math.cos(y)*Math.cos(P)*a*a,E=2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c));return b*E}var L=g();const h=T(L);let p=!1;const R=()=>{if(!p)try{const e=new S;h.addProtocol("pmtiles",t=>e.tile(t)),p=!0}catch(e){console.error("Не удалось зарегистрировать протокол PMTiles",e)}};typeof window<"u"&&R();var u={};const s=e=>{if(typeof process>"u"||!u)return;const t=u[e];return t&&t.trim()?t.trim():void 0},v=e=>"",f=e=>{if(!e)return;const t=e.trim().toLowerCase();if(["pmtiles","vector","tiles"].includes(t))return"pmtiles";if(["raster","osm","fallback"].includes(t))return"raster"},D=()=>{var n;const e=(n=f(s("VITE_MAP_STYLE_MODE")))!=null?n:f(v());if(e)return e;const t=s("VITE_USE_PMTILES");if(t&&t.trim())return t==="0"||t.toLowerCase()==="false"?"raster":"pmtiles";const o=s("NODE_ENV");return o==="production"||o==="production-build"?"pmtiles":"raster"},O="/tiles/fonts/{fontstack}/{range}.pbf",x="https://demotiles.maplibre.org/font/{fontstack}/{range}.pbf",d=e=>{if(!e)return;const t=e.trim();if(!(!t.includes("{fontstack}")||!t.includes("{range}")))return t},I=e=>{var o;const t=(o=d(s("VITE_MAP_GLYPHS_URL")))!=null?o:d(s("VITE_MAP_GLYPHS_PATH"));return t||(e==="pmtiles"?x:O)},M=D(),w="© OpenStreetMap contributors, ODbL",r="openmaptiles",k="pmtiles://tiles/basemap.pmtiles",C="pmtiles://tiles/addresses.pmtiles",z=I(M),H={version:8,sources:{osmRaster:{type:"raster",tiles:["https://tile.openstreetmap.org/{z}/{x}/{y}.png"],tileSize:256,attribution:w}},layers:[{id:"osm-raster",type:"raster",source:"osmRaster"}]},m=["Noto Sans Regular","Open Sans Regular","Arial Unicode MS Regular"],_={"text-color":"#1f2937","text-halo-color":"#f8fafc","text-halo-width":1.2},U=()=>({version:8,glyphs:z,sources:{[r]:{type:"vector",url:k}},layers:[{id:"background",type:"background",paint:{"background-color":"#f8fafc"}},{id:"water-fill",type:"fill",source:r,"source-layer":"water",paint:{"fill-color":"#bfdbfe"}},{id:"landcover",type:"fill",source:r,"source-layer":"landcover",paint:{"fill-color":"#e2e8f0","fill-opacity":.4}},{id:"landuse",type:"fill",source:r,"source-layer":"landuse",paint:{"fill-color":"#f1f5f9","fill-opacity":.35}},{id:"building",type:"fill",source:r,"source-layer":"building",paint:{"fill-color":"#cbd5f5","fill-outline-color":"#94a3b8"}},{id:"road",type:"line",source:r,"source-layer":"transportation",paint:{"line-color":"#94a3b8","line-width":["interpolate",["linear"],["zoom"],5,.2,12,1.2,16,2.6]}},{id:"road-major",type:"line",source:r,"source-layer":"transportation",filter:["==",["get","class"],"trunk"],paint:{"line-color":"#64748b","line-width":["interpolate",["linear"],["zoom"],6,.6,12,2.4,16,4]}},{id:"street-label",type:"symbol",source:r,"source-layer":"transportation_name",layout:{"text-field":["coalesce",["get","name:uk"],["get","name:ru"],["get","name"]],"text-font":m,"text-size":["interpolate",["linear"],["zoom"],13,10,18,15],"symbol-placement":"line"},paint:_},{id:"settlement-major-label",type:"symbol",source:r,"source-layer":"place",filter:["any",["==",["get","class"],"city"],["==",["get","class"],"town"]],layout:{"text-field":["coalesce",["get","name:uk"],["get","name:ru"],["get","name"]],"text-font":m,"text-size":["interpolate",["linear"],["zoom"],6,11,14,20]},paint:_}]}),V=M==="pmtiles"?U():H,F=[48.3794,31.1656],j=6,q=[[22.1372,44.3865],[40.2286,52.3796]],B=45;export{r as M,q as a,j as b,F as c,V as d,w as e,C as f,M as g,N as h,B as i,h as m};
//# sourceMappingURL=map-sKDTM6ec.js.map
