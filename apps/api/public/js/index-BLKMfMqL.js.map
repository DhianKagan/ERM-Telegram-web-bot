{"version":3,"mappings":"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IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,KACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,KACL,EAAK,KACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,GAAM,IACN,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,IACL,EAAK,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","names":["AdjustmentsHorizontalIcon","title","titleId","props","svgRef","React.createElement","ForwardRef","React.forwardRef","ArchiveBoxIcon","BuildingOffice2Icon","CheckIcon","DocumentDuplicateIcon","IdentificationIcon","KeyIcon","MapPinIcon","PauseIcon","PlayIcon","RectangleStackIcon","ShieldCheckIcon","Squares2X2Icon","TruckIcon","UserGroupIcon","characterMap","chars","allAccents","firstAccent","matcher","match","removeAccents","string","hasAccents","removeAccentsModule","rankings","defaultBaseSortFn","a","b","matchSorter","items","value","options","keys","threshold","baseSort","sorter","matchedItems","sortRankedValues","reduceItemsToRanked","item","matches","index","rankingInfo","getHighestRanking","rank","keyThreshold","stringItem","getMatchRanking","getAllValuesToRank","rankedValue","keyIndex","itemValue","attributes","i","newRank","newRankedValue","minRanking","maxRanking","indexesOf","testString","stringToRank","prepareValueForComparison","indexesOfStringToRankInTestString","firstIndexOfStringToRankInTestStringResult","indexOfStringToRankInTestString","indexOfStringToRankInTestStringResult","getAcronym","getClosenessRanking","acronym","prev","ch","matchingInOrderCharCount","charNumber","findMatchingCharacter","matchChar","j","J","getRanking","spread","spreadPercentage","inOrderPercentage","firstIndex","I","aRank","aKeyIndex","bRank","bKeyIndex","keepDiacritics","getItemValues","key","getNestedValues","path","values","nestedKey","nestedValues","nestedItem","nestedValue","allValues","getKeyAttributes","itemValues","defaultKeyAttributes","TABS_NAME","createTabsContext","createTabsScope","createContextScope","createRovingFocusGroupScope","useRovingFocusGroupScope","TabsProvider","useTabsContext","Tabs","forwardedRef","__scopeTabs","valueProp","onValueChange","defaultValue","orientation","dir","activationMode","tabsProps","direction","useDirection","setValue","useControllableState","jsx","useId","Primitive","TAB_LIST_NAME","TabsList","loop","listProps","context","rovingFocusGroupScope","RovingFocusGroup.Root","TRIGGER_NAME","TabsTrigger","disabled","triggerProps","triggerId","makeTriggerId","contentId","makeContentId","isSelected","RovingFocusGroup.Item","composeEventHandlers","event","isAutomaticActivation","CONTENT_NAME","TabsContent","forceMount","children","contentProps","isMountAnimationPreventedRef","React.useRef","React.useEffect","rAF","Presence","present","baseId","Root2","List","Trigger","Content","className","TabsPrimitive.Root","cn","TabsPrimitive.List","TabsPrimitive.Trigger","TabsPrimitive.Content","ActionBar","breadcrumbs","description","toolbar","jsxs","CopyableId","displayValue","copyHint","copiedHint","onCopy","copied","setCopied","React","resetTimerRef","textToShow","defaultCopyHint","defaultCopiedHint","handleCopy","performCopy","_a","textarea","e","CollectionForm","form","onChange","onSubmit","onDelete","onReset","valueLabel","renderValueField","readonly","readonlyNotice","confirmDelete","setConfirmDelete","confirmSave","setConfirmSave","submit","Button","ConfirmDialog","pendingRequests","buildKey","search","page","limit","parseResponse","res","fallback","text","listFleetVehicles","existing","entry","pendingKey","controller","params","request","authFetch","createFleetVehicle","payload","updateFleetVehicle","id","deleteFleetVehicle","emptyForm","parseTasks","FleetVehicleDialog","open","mode","vehicle","saving","onClose","setForm","useState","error","setError","useEffect","currentTasks","isUpdate","useMemo","handleSubmit","handleConfirm","submitError","message","handleDelete","deleteError","stringify","fleetVehicleColumns","getValue","SETTINGS_BADGE_EMPTY","badgeBaseClass","SETTINGS_BADGE_CLASS","SETTINGS_BADGE_WRAPPER_CLASS","PAGE_LIMIT","transportHistoryFormatter","formatHistoryInstant","date","buildHistoryLabel","assigned","removed","formatTransportHistory","history","vehicleCardFields","FleetVehiclesTab","setItems","total","setTotal","setPage","setSearch","appliedSearch","setAppliedSearch","loading","setLoading","modalOpen","setModalOpen","setMode","setSaving","selectedVehicle","setSelectedVehicle","totalPages","rows","badgeClassName","badgeWrapperClassName","load","useCallback","data","loadError","openCreate","openEdit","closeModal","showToast","remove","handleSearchSubmit","handlePageChange","next","DataTable","row","Modal","label","render","CARD_CLASS","SECTION_GAP","FieldCard","onSave","deleting","localError","setLocalError","defaultLabel","_b","storedLabel","_c","trimmedValue","dirty","handleSave","err","handleReset","_d","_e","Input","Spinner","_f","TypeCard","url","photosUrl","onChangeLabel","onChangeUrl","onChangePhotosUrl","storedUrl","storedPhotosUrl","trimmedLabel","trimmedUrl","trimmedPhotosUrl","_g","_h","_i","_j","sortByOrder","left","right","useDraftMap","selector","draft","setDraft","changed","itemNames","TaskSettingsTab","fields","types","onSaveField","onDeleteField","onSaveType","onDeleteType","selectFieldDraft","selectTypeDraft","fieldDrafts","setFieldDrafts","typeDrafts","setTypeDrafts","savingField","setSavingField","savingType","setSavingType","deletingField","setDeletingField","deletingType","setDeletingType","fieldErrors","setFieldErrors","typeErrors","setTypeErrors","sortedFields","sortedTypes","handleFieldChange","name","handleTypeChange","patch","saveField","deleteField","revertFieldDraft","saveType","deleteType","revertTypeDraft","fetchRoutePlanAnalytics","query","response","ReactApexChart","__vitePreload","n","DAY_MS","toDateInput","defaultTo","defaultFrom","statusOptions","percentFormatter","numberFormatter","loadFormatter","ensureParams","filters","mapMileageSeries","point","mapLoadSeries","mapSlaSeries","AnalyticsDashboard","t","useTranslation","setFilters","summary","setSummary","loadData","nextFilters","mileageSeries","loadSeries","slaSeries","option","isStackCheckResult","candidate","runStackHealthCheck","ok","timestamp","results","parsedResults","statusColors","statusLabels","SHORT_INTERVAL_MS","formatDateTime","parsed","extractHint","meta","hint","HealthCheckTab","setResults","lastRun","setLastRun","auto","setAuto","timerRef","useRef","sortedResults","runCheck","report","ArrowPathIcon","collectionColumns","collectionObjectColumns","settingsUserColumns","formatRoleName","renderAccess","settingsEmployeeColumns","normalizeString","trimmed","normalizeNumber","normalizeStringArray","buildEmployeeRow","source","assignString","raw","normalized","assignNumber","permissions","UserForm","departments","setDepartments","divisions","setDivisions","positions","setPositions","roles","setRoles","fetchCollectionItems","d","fetchRoles","r","handleRoleChange","x","ROLE_OPTIONS","moduleTabs","ChartPieIcon","DocumentTextIcon","isValidModuleKey","module","createInitialQueries","acc","type","emptyUser","emptyItemForm","tabIcons","ClipboardDocumentListIcon","renderBadgeList","normalizeId","collectStringIds","result","KEY_LABEL_OVERRIDES","formatKeyLabel","override","formatSummaryValue","nested","formatted","summarizeRecord","record","tryParseJsonValue","formatCollectionRawValue","parts","part","IdsSchema","z.preprocess","input","z.array","z.string","safeParseIds","mergeById","current","incoming","merged","indexById","resolveReferenceName","map","fallbackName","directName","readValue","lowerCaseSource","lowerKey","pickString","pickNumber","pickStringArray","collectEmployeeDetails","rawValue","combined","details","telegramId","telegramUsername","username","firstName","lastName","middleName","phone","mobNumber","email","role","access","roleId","roleName","departmentId","departmentName","divisionId","divisionName","positionId","positionName","buildEmployeeDetailsIndex","mergeEmployeeDetails","user","TOKEN_SPLIT_REGEX","buildUserSearchTokens","tokens","addValue","_k","_l","permission","findEmployeeDetails","fallbackId","candidateId","direct","USERS_ERROR_HINT","DUPLICATE_DIVISION_HINT_PREFIX","TASK_SETTINGS_ERROR_HINT","TASK_FIELD_SAVE_ERROR","TASK_TYPE_SAVE_ERROR","TASK_SETTINGS_DELETE_ERROR","USER_DELETE_SUCCESS","USER_DELETE_ERROR","EMPLOYEE_DELETE_SUCCESS","EMPLOYEE_DELETE_ERROR","hasAccessorKey","column","formatCoordinatesValue","latitude","longitude","formatCoordinates","CollectionsPage","searchParams","setSearchParams","useSearchParams","activeModule","setActiveModule","param","active","setActive","isLoading","setIsLoading","queries","setQueries","searchDrafts","setSearchDrafts","setHint","allDepartments","setAllDepartments","allDivisions","setAllDivisions","allPositions","setAllPositions","allRoles","setAllRoles","users","setUsers","userPage","setUserPage","userQuery","setUserQuery","userSearchDraft","setUserSearchDraft","userModalOpen","setUserModalOpen","userForm","setUserForm","collectionModalOpen","setCollectionModalOpen","selectedCollection","setSelectedCollection","collectionSearchTimer","selectedEmployeeId","setSelectedEmployeeId","isEmployeeModalOpen","setIsEmployeeModalOpen","employeeFormMode","setEmployeeFormMode","taskFieldItems","setTaskFieldItems","taskTypeItems","setTaskTypeItems","tasksLoading","setTasksLoading","currentUser","useAuth","confirmUserDelete","setConfirmUserDelete","confirmEmployeeDelete","setConfirmEmployeeDelete","canManageUsers","hasAccess","ACCESS_ADMIN","handleModuleChange","selectedCollectionInfo","notice","selectedObjectDetails","toCollectionObject","currentQuery","currentSearchDraft","isCollectionSearchSupported","isUserSearchActive","isEmployeeSearchActive","applyCollectionSearch","list","fetchAllCollectionItems","loadedItems","loadedTotal","fetchCollectionObjects","loadUsers","fetchUsers","loadTaskSettings","saveTaskField","createCollectionItem","updateCollectionItem","deleteTaskField","removeCollectionItem","saveTaskType","buildMeta","deleteTaskType","departmentsResult","divisionsResult","positionsResult","applyResult","setter","fallbackMessage","reason","openCollectionModal","object","closeCollectionModal","mapUserToForm","openUserModal","closeUserModal","openEmployeeModal","updateCollectionSearchDraft","submitCollectionSearch","handleCollectionSearchKeyDown","resetCollectionSearch","submitUserSearch","handleUserSearchKeyDown","handleEmployeeSaved","updated","executeUserDelete","deleteUserApi","executeEmployeeDelete","trimmedName","valueToSave","metaToSave","address","parseCoordinateInput","saved","msg","submitUser","u","createUserApi","_telegramId","updateUserApi","departmentMap","divisionMap","positionMap","position","employeeDetailsIndex","enrichUserWithEmployeeDetails","enrichedUsers","roleMap","divisionOwners","duplicateDivisionIds","owners","duplicates","department","currentOwner","duplicateDivisionHint","names","division","suffix","getItemDisplayValue","ids","coordinates","formatMetaSummary","copyIdLabel","copiedIdLabel","localizeColumns","columns","safeValue","localizedCollectionColumns","localizedObjectColumns","collectionSearchPlaceholder","collectionSearchHint","collectionSearchCta","collectionResetCta","collectionAddCta","collectionEmptyTitle","collectionEmptyDescription","collectionEmptyAction","userSearchPlaceholder","userAddCta","employeeSearchPlaceholder","employeeAddCta","buildCollectionColumns","excludedKeys","departmentColumns","divisionColumns","positionColumns","renderDepartmentValueField","currentForm","handleChange","selected","handleSelect","ownerId","renderDivisionValueField","renderPositionValueField","renderObjectValueField","addressValue","filteredUsers","userTotalPages","paginatedUsers","employeeRows","mergedUser","roleNameFromMap","roleLabel","selectedEmployee","base","fallbackDetails","fallbackUser","parsedId","selectedDepartmentDivisionNames","selectedDivisionDepartmentName","selectedDivisionPositionNames","selectedDivisionEmployeeNames","directoriesToolbar","isEmployee","placeholder","addLabel","handleAdd","Breadcrumbs","tab","Icon","labelId","isActiveTab","columnsForType","showEmpty","Fragment","_m","EmployeeCardForm","ArchivePage","LogsPage","StoragePage"],"ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],"sources":["../../../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.2.0/node_modules/@heroicons/react/24/outline/esm/AdjustmentsHorizontalIcon.js","../../../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.2.0/node_modules/@heroicons/react/24/outline/esm/ArchiveBoxIcon.js","../../../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.2.0/node_modules/@heroicons/react/24/outline/esm/BuildingOffice2Icon.js","../../../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.2.0/node_modules/@heroicons/react/24/outline/esm/CheckIcon.js","../../../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.2.0/node_modules/@heroicons/react/24/outline/esm/DocumentDuplicateIcon.js","../../../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.2.0/node_modules/@heroicons/react/24/outline/esm/IdentificationIcon.js","../../../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.2.0/node_modules/@heroicons/react/24/outline/esm/KeyIcon.js","../../../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.2.0/node_modules/@heroicons/react/24/outline/esm/MapPinIcon.js","../../../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.2.0/node_modules/@heroicons/react/24/outline/esm/PauseIcon.js","../../../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.2.0/node_modules/@heroicons/react/24/outline/esm/PlayIcon.js","../../../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.2.0/node_modules/@heroicons/react/24/outline/esm/RectangleStackIcon.js","../../../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.2.0/node_modules/@heroicons/react/24/outline/esm/ShieldCheckIcon.js","../../../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.2.0/node_modules/@heroicons/react/24/outline/esm/Squares2X2Icon.js","../../../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.2.0/node_modules/@heroicons/react/24/outline/esm/TruckIcon.js","../../../../node_modules/.pnpm/@heroicons+react@2.2.0_react@18.2.0/node_modules/@heroicons/react/24/outline/esm/UserGroupIcon.js","../../../../node_modules/.pnpm/remove-accents@0.5.0/node_modules/remove-accents/index.js","../../../../node_modules/.pnpm/match-sorter@8.1.0/node_modules/match-sorter/dist/match-sorter.esm.js","../../../../node_modules/.pnpm/@radix-ui+react-tabs@1.1.13_@types+react-dom@18.3.7_@types+react@18.3.24__@types+react@_9a0a28c0fe72a405cc6b65427e0d242f/node_modules/@radix-ui/react-tabs/dist/index.mjs","../../../web/src/components/ui/tabs.tsx","../../../web/src/components/ActionBar.tsx","../../../web/src/components/CopyableId.tsx","../../../web/src/pages/Settings/CollectionForm.tsx","../../../web/src/services/fleets.ts","../../../web/src/pages/Settings/FleetVehicleDialog.tsx","../../../web/src/columns/fleetVehicleColumns.tsx","../../../web/src/pages/Settings/badgeStyles.ts","../../../web/src/pages/Settings/FleetVehiclesTab.tsx","../../../web/src/pages/Settings/TaskSettingsTab.tsx","../../../web/src/services/analytics.ts","../../../web/src/pages/AnalyticsDashboard.tsx","../../../web/src/services/healthcheck.ts","../../../web/src/pages/Settings/HealthCheckTab.tsx","../../../web/src/columns/collectionColumns.tsx","../../../web/src/columns/settingsUserColumns.tsx","../../../web/src/columns/settingsEmployeeColumns.tsx","../../../web/src/utils/employeeRow.ts","../../../web/src/pages/Settings/UserForm.tsx","../../../web/src/pages/Settings/CollectionsPage.tsx"],"sourcesContent":["import * as React from \"react\";\nfunction AdjustmentsHorizontalIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(AdjustmentsHorizontalIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ArchiveBoxIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ArchiveBoxIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction BuildingOffice2Icon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(BuildingOffice2Icon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction CheckIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"m4.5 12.75 6 6 9-13.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(CheckIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction DocumentDuplicateIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(DocumentDuplicateIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction IdentificationIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(IdentificationIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction KeyIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(KeyIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction MapPinIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(MapPinIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PauseIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M15.75 5.25v13.5m-7.5-13.5v13.5\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PauseIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction PlayIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(PlayIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction RectangleStackIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M6 6.878V6a2.25 2.25 0 0 1 2.25-2.25h7.5A2.25 2.25 0 0 1 18 6v.878m-12 0c.235-.083.487-.128.75-.128h10.5c.263 0 .515.045.75.128m-12 0A2.25 2.25 0 0 0 4.5 9v.878m13.5-3A2.25 2.25 0 0 1 19.5 9v.878m0 0a2.246 2.246 0 0 0-.75-.128H5.25c-.263 0-.515.045-.75.128m15 0A2.25 2.25 0 0 1 21 12v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6c0-.98.626-1.813 1.5-2.122\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(RectangleStackIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction ShieldCheckIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(ShieldCheckIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction Squares2X2Icon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(Squares2X2Icon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction TruckIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(TruckIcon);\nexport default ForwardRef;","import * as React from \"react\";\nfunction UserGroupIcon({\n  title,\n  titleId,\n  ...props\n}, svgRef) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    fill: \"none\",\n    viewBox: \"0 0 24 24\",\n    strokeWidth: 1.5,\n    stroke: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"path\", {\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    d: \"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z\"\n  }));\n}\nconst ForwardRef = /*#__PURE__*/ React.forwardRef(UserGroupIcon);\nexport default ForwardRef;","var characterMap = {\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"AE\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"A\",\n\t\"\": \"C\",\n\t\"\": \"C\",\n\t\"\": \"E\",\n\t\"\": \"E\",\n\t\"\": \"E\",\n\t\"\": \"E\",\n\t\"\": \"E\",\n\t\"\": \"E\",\n\t\"\": \"E\",\n\t\"\": \"E\",\n\t\"\": \"E\",\n\t\"\": \"E\",\n\t\"\": \"E\",\n\t\"\": \"E\",\n\t\"\": \"E\",\n\t\"\": \"E\",\n\t\"\": \"E\",\n\t\"\": \"E\",\n\t\"\": \"I\",\n\t\"\": \"I\",\n\t\"\": \"I\",\n\t\"\": \"I\",\n\t\"\": \"I\",\n\t\"\": \"I\",\n\t\"\": \"I\",\n\t\"\": \"I\",\n\t\"\": \"D\",\n\t\"\": \"N\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"O\",\n\t\"\": \"U\",\n\t\"\": \"U\",\n\t\"\": \"U\",\n\t\"\": \"U\",\n\t\"\": \"U\",\n\t\"\": \"U\",\n\t\"\": \"U\",\n\t\"\": \"U\",\n\t\"\": \"U\",\n\t\"\": \"Y\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"ae\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"a\",\n\t\"\": \"c\",\n\t\"\": \"c\",\n\t\"\": \"e\",\n\t\"\": \"e\",\n\t\"\": \"e\",\n\t\"\": \"e\",\n\t\"\": \"e\",\n\t\"\": \"e\",\n\t\"\": \"e\",\n\t\"\": \"e\",\n\t\"\": \"e\",\n\t\"\": \"e\",\n\t\"\": \"e\",\n\t\"\": \"e\",\n\t\"\": \"e\",\n\t\"\": \"e\",\n\t\"\": \"e\",\n\t\"\": \"e\",\n\t\"\": \"i\",\n\t\"\": \"i\",\n\t\"\": \"i\",\n\t\"\": \"i\",\n\t\"\": \"i\",\n\t\"\": \"i\",\n\t\"\": \"i\",\n\t\"\": \"i\",\n\t\"\": \"d\",\n\t\"\": \"n\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"o\",\n\t\"\": \"u\",\n\t\"\": \"u\",\n\t\"\": \"u\",\n\t\"\": \"u\",\n\t\"\": \"u\",\n\t\"\": \"u\",\n\t\"\": \"u\",\n\t\"\": \"u\",\n\t\"\": \"u\",\n\t\"\": \"y\",\n\t\"\": \"y\",\n\t\"\": \"A\",\n\t\"\": \"a\",\n\t\"\": \"A\",\n\t\"\": \"a\",\n\t\"\": \"A\",\n\t\"\": \"a\",\n\t\"\": \"C\",\n\t\"\": \"c\",\n\t\"\": \"C\",\n\t\"\": \"c\",\n\t\"\": \"C\",\n\t\"\": \"c\",\n\t\"\": \"C\",\n\t\"\": \"c\",\n\t\"C\": \"C\",\n\t\"c\": \"c\",\n\t\"\": \"D\",\n\t\"\": \"d\",\n\t\"\": \"D\",\n\t\"\": \"d\",\n\t\"\": \"E\",\n\t\"\": \"e\",\n\t\"\": \"E\",\n\t\"\": \"e\",\n\t\"\": \"E\",\n\t\"\": \"e\",\n\t\"\": \"E\",\n\t\"\": \"e\",\n\t\"\": \"E\",\n\t\"\": \"e\",\n\t\"\": \"G\",\n\t\"\": \"G\",\n\t\"\": \"g\",\n\t\"\": \"g\",\n\t\"\": \"G\",\n\t\"\": \"g\",\n\t\"\": \"G\",\n\t\"\": \"g\",\n\t\"\": \"G\",\n\t\"\": \"g\",\n\t\"\": \"H\",\n\t\"\": \"h\",\n\t\"\": \"H\",\n\t\"\": \"h\",\n\t\"\": \"H\",\n\t\"\": \"h\",\n\t\"\": \"I\",\n\t\"\": \"i\",\n\t\"\": \"I\",\n\t\"\": \"i\",\n\t\"\": \"I\",\n\t\"\": \"i\",\n\t\"\": \"I\",\n\t\"\": \"i\",\n\t\"\": \"I\",\n\t\"\": \"i\",\n\t\"\": \"IJ\",\n\t\"\": \"ij\",\n\t\"\": \"J\",\n\t\"\": \"j\",\n\t\"\": \"K\",\n\t\"\": \"k\",\n\t\"\": \"K\",\n\t\"\": \"k\",\n\t\"K\": \"K\",\n\t\"k\": \"k\",\n\t\"\": \"L\",\n\t\"\": \"l\",\n\t\"\": \"L\",\n\t\"\": \"l\",\n\t\"\": \"L\",\n\t\"\": \"l\",\n\t\"\": \"L\",\n\t\"\": \"l\",\n\t\"\": \"l\",\n\t\"\": \"l\",\n\t\"\": \"M\",\n\t\"\": \"m\",\n\t\"M\": \"M\",\n\t\"m\": \"m\",\n\t\"\": \"N\",\n\t\"\": \"n\",\n\t\"\": \"N\",\n\t\"\": \"n\",\n\t\"\": \"N\",\n\t\"\": \"n\",\n\t\"\": \"n\",\n\t\"N\": \"N\",\n\t\"n\": \"n\",\n\t\"\": \"O\",\n\t\"\": \"o\",\n\t\"\": \"O\",\n\t\"\": \"o\",\n\t\"\": \"O\",\n\t\"\": \"o\",\n\t\"\": \"OE\",\n\t\"\": \"oe\",\n\t\"P\": \"P\",\n\t\"p\": \"p\",\n\t\"\": \"R\",\n\t\"\": \"r\",\n\t\"\": \"R\",\n\t\"\": \"r\",\n\t\"\": \"R\",\n\t\"\": \"r\",\n\t\"R\": \"R\",\n\t\"r\": \"r\",\n\t\"\": \"R\",\n\t\"\": \"r\",\n\t\"\": \"S\",\n\t\"\": \"s\",\n\t\"\": \"S\",\n\t\"\": \"s\",\n\t\"\": \"S\",\n\t\"\": \"S\",\n\t\"\": \"s\",\n\t\"\": \"s\",\n\t\"\": \"S\",\n\t\"\": \"s\",\n\t\"\": \"T\",\n\t\"\": \"t\",\n\t\"\": \"t\",\n\t\"\": \"T\",\n\t\"\": \"T\",\n\t\"\": \"t\",\n\t\"\": \"T\",\n\t\"\": \"t\",\n\t\"T\": \"T\",\n\t\"t\": \"t\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"V\": \"V\",\n\t\"v\": \"v\",\n\t\"\": \"W\",\n\t\"\": \"w\",\n\t\"\": \"W\",\n\t\"\": \"w\",\n\t\"X\": \"X\",\n\t\"x\": \"x\",\n\t\"\": \"Y\",\n\t\"\": \"y\",\n\t\"\": \"Y\",\n\t\"Y\": \"Y\",\n\t\"y\": \"y\",\n\t\"\": \"Z\",\n\t\"\": \"z\",\n\t\"\": \"Z\",\n\t\"\": \"z\",\n\t\"\": \"Z\",\n\t\"\": \"z\",\n\t\"\": \"s\",\n\t\"\": \"f\",\n\t\"\": \"O\",\n\t\"\": \"o\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"\": \"A\",\n\t\"\": \"a\",\n\t\"\": \"I\",\n\t\"\": \"i\",\n\t\"\": \"O\",\n\t\"\": \"o\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"\": \"A\",\n\t\"\": \"a\",\n\t\"\": \"AE\",\n\t\"\": \"ae\",\n\t\"\": \"O\",\n\t\"\": \"o\",\n\t\"\": \"TH\",\n\t\"\": \"th\",\n\t\"\": \"P\",\n\t\"\": \"p\",\n\t\"\": \"S\",\n\t\"\": \"s\",\n\t\"X\": \"X\",\n\t\"x\": \"x\",\n\t\"\": \"\",\n\t\"\": \"\",\n\t\"\": \"\",\n\t\"\": \"\",\n\t\"A\": \"A\",\n\t\"a\": \"a\",\n\t\"E\": \"E\",\n\t\"e\": \"e\",\n\t\"I\": \"I\",\n\t\"i\": \"i\",\n\t\"\": \"N\",\n\t\"\": \"n\",\n\t\"\": \"O\",\n\t\"\": \"o\",\n\t\"\": \"O\",\n\t\"\": \"o\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"\": \"W\",\n\t\"\": \"w\",\n\t\"\": \"Y\",\n\t\"\": \"y\",\n\t\"\": \"A\",\n\t\"\": \"a\",\n\t\"\": \"E\",\n\t\"\": \"e\",\n\t\"\": \"I\",\n\t\"\": \"i\",\n\t\"\": \"O\",\n\t\"\": \"o\",\n\t\"\": \"R\",\n\t\"\": \"r\",\n\t\"\": \"U\",\n\t\"\": \"u\",\n\t\"B\": \"B\",\n\t\"b\": \"b\",\n\t\"\": \"C\",\n\t\"\": \"c\",\n\t\"\": \"E\",\n\t\"\": \"e\",\n\t\"F\": \"F\",\n\t\"f\": \"f\",\n\t\"\": \"G\",\n\t\"\": \"g\",\n\t\"\": \"H\",\n\t\"\": \"h\",\n\t\"J\": \"J\",\n\t\"\": \"j\",\n\t\"\": \"K\",\n\t\"\": \"k\",\n\t\"M\": \"M\",\n\t\"m\": \"m\",\n\t\"P\": \"P\",\n\t\"p\": \"p\",\n\t\"Q\": \"Q\",\n\t\"q\": \"q\",\n\t\"\": \"R\",\n\t\"\": \"r\",\n\t\"\": \"S\",\n\t\"\": \"s\",\n\t\"V\": \"V\",\n\t\"v\": \"v\",\n\t\"W\": \"W\",\n\t\"w\": \"w\",\n\t\"X\": \"X\",\n\t\"x\": \"x\",\n\t\"Y\": \"Y\",\n\t\"y\": \"y\",\n\t\"A\": \"A\",\n\t\"a\": \"a\",\n\t\"B\": \"B\",\n\t\"b\": \"b\",\n\t\"\": \"D\",\n\t\"\": \"d\",\n\t\"\": \"E\",\n\t\"\": \"e\",\n\t\"\": \"E\",\n\t\"\": \"e\",\n\t\"\": \"H\",\n\t\"\": \"h\",\n\t\"I\": \"I\",\n\t\"i\": \"i\",\n\t\"\": \"I\",\n\t\"\": \"i\",\n\t\"M\": \"M\",\n\t\"m\": \"m\",\n\t\"O\": \"O\",\n\t\"o\": \"o\",\n\t\"Q\": \"Q\",\n\t\"q\": \"q\",\n\t\"U\": \"U\",\n\t\"u\": \"u\",\n\t\"X\": \"X\",\n\t\"x\": \"x\",\n\t\"Z\": \"Z\",\n\t\"z\": \"z\",\n\t\"\":\"\",\n\t\"\":\"\",\n\t\"\":\"\",\n\t\"\":\"\",\n};\n\nvar chars = Object.keys(characterMap).join('|');\nvar allAccents = new RegExp(chars, 'g');\nvar firstAccent = new RegExp(chars, '');\n\nfunction matcher(match) {\n\treturn characterMap[match];\n}\n\nvar removeAccents = function(string) {\n\treturn string.replace(allAccents, matcher);\n};\n\nvar hasAccents = function(string) {\n\treturn !!string.match(firstAccent);\n};\n\nmodule.exports = removeAccents;\nmodule.exports.has = hasAccents;\nmodule.exports.remove = removeAccents;\n","import removeAccents from 'remove-accents';\n\n/**\n * @name match-sorter\n * @license MIT license.\n * @copyright (c) 2020 Kent C. Dodds\n * @author Kent C. Dodds <me@kentcdodds.com> (https://kentcdodds.com)\n */\nconst rankings = {\n  CASE_SENSITIVE_EQUAL: 7,\n  EQUAL: 6,\n  STARTS_WITH: 5,\n  WORD_STARTS_WITH: 4,\n  CONTAINS: 3,\n  ACRONYM: 2,\n  MATCHES: 1,\n  NO_MATCH: 0\n};\nconst defaultBaseSortFn = (a, b) => String(a.rankedValue).localeCompare(String(b.rankedValue));\n\n/**\n * Takes an array of items and a value and returns a new array with the items that match the given value\n * @param {Array} items - the items to sort\n * @param {String} value - the value to use for ranking\n * @param {Object} options - Some options to configure the sorter\n * @return {Array} - the new sorted array\n */\nfunction matchSorter(items, value, options = {}) {\n  const {\n    keys,\n    threshold = rankings.MATCHES,\n    baseSort = defaultBaseSortFn,\n    sorter = matchedItems => matchedItems.sort((a, b) => sortRankedValues(a, b, baseSort))\n  } = options;\n  const matchedItems = items.reduce(reduceItemsToRanked, []);\n  return sorter(matchedItems).map(({\n    item\n  }) => item);\n  function reduceItemsToRanked(matches, item, index) {\n    const rankingInfo = getHighestRanking(item, keys, value, options);\n    const {\n      rank,\n      keyThreshold = threshold\n    } = rankingInfo;\n    if (rank >= keyThreshold) {\n      matches.push({\n        ...rankingInfo,\n        item,\n        index\n      });\n    }\n    return matches;\n  }\n}\nmatchSorter.rankings = rankings;\n\n/**\n * Gets the highest ranking for value for the given item based on its values for the given keys\n * @param {*} item - the item to rank\n * @param {Array} keys - the keys to get values from the item for the ranking\n * @param {String} value - the value to rank against\n * @param {Object} options - options to control the ranking\n * @return {{rank: Number, keyIndex: Number, keyThreshold: Number}} - the highest ranking\n */\nfunction getHighestRanking(item, keys, value, options) {\n  if (!keys) {\n    // if keys is not specified, then we assume the item given is ready to be matched\n    const stringItem = item;\n    return {\n      // ends up being duplicate of 'item' in matches but consistent\n      rankedValue: stringItem,\n      rank: getMatchRanking(stringItem, value, options),\n      keyIndex: -1,\n      keyThreshold: options.threshold\n    };\n  }\n  const valuesToRank = getAllValuesToRank(item, keys);\n  return valuesToRank.reduce(({\n    rank,\n    rankedValue,\n    keyIndex,\n    keyThreshold\n  }, {\n    itemValue,\n    attributes\n  }, i) => {\n    let newRank = getMatchRanking(itemValue, value, options);\n    let newRankedValue = rankedValue;\n    const {\n      minRanking,\n      maxRanking,\n      threshold\n    } = attributes;\n    if (newRank < minRanking && newRank >= rankings.MATCHES) {\n      newRank = minRanking;\n    } else if (newRank > maxRanking) {\n      newRank = maxRanking;\n    }\n    if (newRank > rank) {\n      rank = newRank;\n      keyIndex = i;\n      keyThreshold = threshold;\n      newRankedValue = itemValue;\n    }\n    return {\n      rankedValue: newRankedValue,\n      rank,\n      keyIndex,\n      keyThreshold\n    };\n  }, {\n    rankedValue: item,\n    rank: rankings.NO_MATCH,\n    keyIndex: -1,\n    keyThreshold: options.threshold\n  });\n}\nfunction* indexesOf(testString, stringToRank) {\n  let index = -1;\n  while ((index = testString.indexOf(stringToRank, index + 1)) > -1) {\n    yield index;\n  }\n  return -1;\n}\n\n/**\n * Gives a rankings score based on how well the two strings match.\n * @param {String} testString - the string to test against\n * @param {String} stringToRank - the string to rank\n * @param {Object} options - options for the match (like keepDiacritics for comparison)\n * @returns {Number} the ranking for how well stringToRank matches testString\n */\nfunction getMatchRanking(testString, stringToRank, options) {\n  testString = prepareValueForComparison(testString, options);\n  stringToRank = prepareValueForComparison(stringToRank, options);\n\n  // too long\n  if (stringToRank.length > testString.length) {\n    return rankings.NO_MATCH;\n  }\n\n  // case sensitive equals\n  if (testString === stringToRank) {\n    return rankings.CASE_SENSITIVE_EQUAL;\n  }\n\n  // Lower casing before further comparison\n  testString = testString.toLowerCase();\n  stringToRank = stringToRank.toLowerCase();\n\n  // Use indexOf to check for equality/includes\n  const indexesOfStringToRankInTestString = indexesOf(testString, stringToRank);\n  const firstIndexOfStringToRankInTestStringResult = indexesOfStringToRankInTestString.next();\n  const indexOfStringToRankInTestString = firstIndexOfStringToRankInTestStringResult.value;\n\n  // case insensitive equals\n  if (testString.length === stringToRank.length && indexOfStringToRankInTestString === 0) {\n    return rankings.EQUAL;\n  }\n\n  // starts with\n  if (indexOfStringToRankInTestString === 0) {\n    return rankings.STARTS_WITH;\n  }\n\n  // word starts with\n  let indexOfStringToRankInTestStringResult = firstIndexOfStringToRankInTestStringResult;\n  while (!indexOfStringToRankInTestStringResult.done) {\n    if (indexOfStringToRankInTestStringResult.value > 0 && testString[indexOfStringToRankInTestStringResult.value - 1] === ' ') {\n      return rankings.WORD_STARTS_WITH;\n    }\n    indexOfStringToRankInTestStringResult = indexesOfStringToRankInTestString.next();\n  }\n\n  // contains\n  if (indexOfStringToRankInTestString > 0) {\n    return rankings.CONTAINS;\n  } else if (stringToRank.length === 1) {\n    // If the only character in the given stringToRank\n    //   isn't even contained in the testString, then\n    //   it's definitely not a match.\n    return rankings.NO_MATCH;\n  }\n\n  // acronym\n  if (getAcronym(testString).includes(stringToRank)) {\n    return rankings.ACRONYM;\n  }\n\n  // will return a number between rankings.MATCHES and\n  // rankings.MATCHES + 1 depending  on how close of a match it is.\n  return getClosenessRanking(testString, stringToRank);\n}\n\n/**\n * Generates an acronym for a string.\n *\n * Segment starts  at the beginning of the phrase, after a **space**, or after a **hyphen**.\n * We capture the first non-delimiter character of every segment and skip runs of delimiters.\n *\n * @example\n *   getAcronym('The Tail-spin Test')  //  \"TTsT\"\n *   getAcronym('edge-case')           //  \"ec\"\n *   getAcronym('multiple  spaces')    //  \"ms\"\n *\n * @param {String} string the string for which to produce the acronym\n * @returns {String} the acronym\n */\nfunction getAcronym(string) {\n  let acronym = '';\n  let prev = ' '; // virtual delimiter so the very first char qualifies\n\n  for (let i = 0; i < string.length; i++) {\n    const ch = string.charAt(i);\n    const prevWasDelimiter = prev === ' ' || prev === '-';\n    const currIsDelimiter = ch === ' ' || ch === '-';\n    if (prevWasDelimiter && !currIsDelimiter) {\n      acronym += ch;\n    }\n    prev = ch;\n  }\n  return acronym;\n}\n\n/**\n * Returns a score based on how spread apart the\n * characters from the stringToRank are within the testString.\n * A number close to rankings.MATCHES represents a loose match. A number close\n * to rankings.MATCHES + 1 represents a tighter match.\n * @param {String} testString - the string to test against\n * @param {String} stringToRank - the string to rank\n * @returns {Number} the number between rankings.MATCHES and\n * rankings.MATCHES + 1 for how well stringToRank matches testString\n */\nfunction getClosenessRanking(testString, stringToRank) {\n  let matchingInOrderCharCount = 0;\n  let charNumber = 0;\n  function findMatchingCharacter(matchChar, string, index) {\n    for (let j = index, J = string.length; j < J; j++) {\n      const stringChar = string[j];\n      if (stringChar === matchChar) {\n        matchingInOrderCharCount += 1;\n        return j + 1;\n      }\n    }\n    return -1;\n  }\n  function getRanking(spread) {\n    const spreadPercentage = 1 / spread;\n    const inOrderPercentage = matchingInOrderCharCount / stringToRank.length;\n    const ranking = rankings.MATCHES + inOrderPercentage * spreadPercentage;\n    return ranking;\n  }\n  const firstIndex = findMatchingCharacter(stringToRank[0], testString, 0);\n  if (firstIndex < 0) {\n    return rankings.NO_MATCH;\n  }\n  charNumber = firstIndex;\n  for (let i = 1, I = stringToRank.length; i < I; i++) {\n    const matchChar = stringToRank[i];\n    charNumber = findMatchingCharacter(matchChar, testString, charNumber);\n    const found = charNumber > -1;\n    if (!found) {\n      return rankings.NO_MATCH;\n    }\n  }\n  const spread = charNumber - firstIndex;\n  return getRanking(spread);\n}\n\n/**\n * Sorts items that have a rank, index, and keyIndex\n * @param {Object} a - the first item to sort\n * @param {Object} b - the second item to sort\n * @return {Number} -1 if a should come first, 1 if b should come first, 0 if equal\n */\nfunction sortRankedValues(a, b, baseSort) {\n  const aFirst = -1;\n  const bFirst = 1;\n  const {\n    rank: aRank,\n    keyIndex: aKeyIndex\n  } = a;\n  const {\n    rank: bRank,\n    keyIndex: bKeyIndex\n  } = b;\n  const same = aRank === bRank;\n  if (same) {\n    if (aKeyIndex === bKeyIndex) {\n      // use the base sort function as a tie-breaker\n      return baseSort(a, b);\n    } else {\n      return aKeyIndex < bKeyIndex ? aFirst : bFirst;\n    }\n  } else {\n    return aRank > bRank ? aFirst : bFirst;\n  }\n}\n\n/**\n * Prepares value for comparison by stringifying it, removing diacritics (if specified)\n * @param {String} value - the value to clean\n * @param {Object} options - {keepDiacritics: whether to remove diacritics}\n * @return {String} the prepared value\n */\nfunction prepareValueForComparison(value, {\n  keepDiacritics\n}) {\n  // value might not actually be a string at this point (we don't get to choose)\n  // so part of preparing the value for comparison is ensure that it is a string\n  value = `${value}`; // toString\n  if (!keepDiacritics) {\n    value = removeAccents(value);\n  }\n  return value;\n}\n\n/**\n * Gets value for key in item at arbitrarily nested keypath\n * @param {Object} item - the item\n * @param {Object|Function} key - the potentially nested keypath or property callback\n * @return {Array} - an array containing the value(s) at the nested keypath\n */\nfunction getItemValues(item, key) {\n  if (typeof key === 'object') {\n    key = key.key;\n  }\n  let value;\n  if (typeof key === 'function') {\n    value = key(item);\n  } else if (item == null) {\n    value = null;\n  } else if (Object.hasOwnProperty.call(item, key)) {\n    value = item[key];\n  } else if (key.includes('.')) {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n    return getNestedValues(key, item);\n  } else {\n    value = null;\n  }\n\n  // because `value` can also be undefined\n  if (value == null) {\n    return [];\n  }\n  if (Array.isArray(value)) {\n    return value;\n  }\n  return [String(value)];\n}\n\n/**\n * Given path: \"foo.bar.baz\"\n * And item: {foo: {bar: {baz: 'buzz'}}}\n *   -> 'buzz'\n * @param path a dot-separated set of keys\n * @param item the item to get the value from\n */\nfunction getNestedValues(path, item) {\n  const keys = path.split('.');\n  let values = [item];\n  for (let i = 0, I = keys.length; i < I; i++) {\n    const nestedKey = keys[i];\n    let nestedValues = [];\n    for (let j = 0, J = values.length; j < J; j++) {\n      const nestedItem = values[j];\n      if (nestedItem == null) continue;\n      if (Object.hasOwnProperty.call(nestedItem, nestedKey)) {\n        const nestedValue = nestedItem[nestedKey];\n        if (nestedValue != null) {\n          nestedValues.push(nestedValue);\n        }\n      } else if (nestedKey === '*') {\n        // ensure that values is an array\n        nestedValues = nestedValues.concat(nestedItem);\n      }\n    }\n    values = nestedValues;\n  }\n  if (Array.isArray(values[0])) {\n    // keep allowing the implicit wildcard for an array of strings at the end of\n    // the path; don't use `.flat()` because that's not available in node.js v10\n    const result = [];\n    return result.concat(...values);\n  }\n  // Based on our logic it should be an array of strings by now...\n  // assuming the user's path terminated in strings\n  return values;\n}\n\n/**\n * Gets all the values for the given keys in the given item and returns an array of those values\n * @param item - the item from which the values will be retrieved\n * @param keys - the keys to use to retrieve the values\n * @return objects with {itemValue, attributes}\n */\nfunction getAllValuesToRank(item, keys) {\n  const allValues = [];\n  for (let j = 0, J = keys.length; j < J; j++) {\n    const key = keys[j];\n    const attributes = getKeyAttributes(key);\n    const itemValues = getItemValues(item, key);\n    for (let i = 0, I = itemValues.length; i < I; i++) {\n      allValues.push({\n        itemValue: itemValues[i],\n        attributes\n      });\n    }\n  }\n  return allValues;\n}\nconst defaultKeyAttributes = {\n  maxRanking: Infinity,\n  minRanking: -Infinity\n};\n/**\n * Gets all the attributes for the given key\n * @param key - the key from which the attributes will be retrieved\n * @return object containing the key's attributes\n */\nfunction getKeyAttributes(key) {\n  if (typeof key === 'string') {\n    return defaultKeyAttributes;\n  }\n  return {\n    ...defaultKeyAttributes,\n    ...key\n  };\n}\n\n/*\neslint\n  no-continue: \"off\",\n*/\n\nexport { defaultBaseSortFn, matchSorter, rankings };\n","\"use client\";\n\n// src/tabs.tsx\nimport * as React from \"react\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { createRovingFocusGroupScope } from \"@radix-ui/react-roving-focus\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport * as RovingFocusGroup from \"@radix-ui/react-roving-focus\";\nimport { useDirection } from \"@radix-ui/react-direction\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { useId } from \"@radix-ui/react-id\";\nimport { jsx } from \"react/jsx-runtime\";\nvar TABS_NAME = \"Tabs\";\nvar [createTabsContext, createTabsScope] = createContextScope(TABS_NAME, [\n  createRovingFocusGroupScope\n]);\nvar useRovingFocusGroupScope = createRovingFocusGroupScope();\nvar [TabsProvider, useTabsContext] = createTabsContext(TABS_NAME);\nvar Tabs = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeTabs,\n      value: valueProp,\n      onValueChange,\n      defaultValue,\n      orientation = \"horizontal\",\n      dir,\n      activationMode = \"automatic\",\n      ...tabsProps\n    } = props;\n    const direction = useDirection(dir);\n    const [value, setValue] = useControllableState({\n      prop: valueProp,\n      onChange: onValueChange,\n      defaultProp: defaultValue ?? \"\",\n      caller: TABS_NAME\n    });\n    return /* @__PURE__ */ jsx(\n      TabsProvider,\n      {\n        scope: __scopeTabs,\n        baseId: useId(),\n        value,\n        onValueChange: setValue,\n        orientation,\n        dir: direction,\n        activationMode,\n        children: /* @__PURE__ */ jsx(\n          Primitive.div,\n          {\n            dir: direction,\n            \"data-orientation\": orientation,\n            ...tabsProps,\n            ref: forwardedRef\n          }\n        )\n      }\n    );\n  }\n);\nTabs.displayName = TABS_NAME;\nvar TAB_LIST_NAME = \"TabsList\";\nvar TabsList = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTabs, loop = true, ...listProps } = props;\n    const context = useTabsContext(TAB_LIST_NAME, __scopeTabs);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeTabs);\n    return /* @__PURE__ */ jsx(\n      RovingFocusGroup.Root,\n      {\n        asChild: true,\n        ...rovingFocusGroupScope,\n        orientation: context.orientation,\n        dir: context.dir,\n        loop,\n        children: /* @__PURE__ */ jsx(\n          Primitive.div,\n          {\n            role: \"tablist\",\n            \"aria-orientation\": context.orientation,\n            ...listProps,\n            ref: forwardedRef\n          }\n        )\n      }\n    );\n  }\n);\nTabsList.displayName = TAB_LIST_NAME;\nvar TRIGGER_NAME = \"TabsTrigger\";\nvar TabsTrigger = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTabs, value, disabled = false, ...triggerProps } = props;\n    const context = useTabsContext(TRIGGER_NAME, __scopeTabs);\n    const rovingFocusGroupScope = useRovingFocusGroupScope(__scopeTabs);\n    const triggerId = makeTriggerId(context.baseId, value);\n    const contentId = makeContentId(context.baseId, value);\n    const isSelected = value === context.value;\n    return /* @__PURE__ */ jsx(\n      RovingFocusGroup.Item,\n      {\n        asChild: true,\n        ...rovingFocusGroupScope,\n        focusable: !disabled,\n        active: isSelected,\n        children: /* @__PURE__ */ jsx(\n          Primitive.button,\n          {\n            type: \"button\",\n            role: \"tab\",\n            \"aria-selected\": isSelected,\n            \"aria-controls\": contentId,\n            \"data-state\": isSelected ? \"active\" : \"inactive\",\n            \"data-disabled\": disabled ? \"\" : void 0,\n            disabled,\n            id: triggerId,\n            ...triggerProps,\n            ref: forwardedRef,\n            onMouseDown: composeEventHandlers(props.onMouseDown, (event) => {\n              if (!disabled && event.button === 0 && event.ctrlKey === false) {\n                context.onValueChange(value);\n              } else {\n                event.preventDefault();\n              }\n            }),\n            onKeyDown: composeEventHandlers(props.onKeyDown, (event) => {\n              if ([\" \", \"Enter\"].includes(event.key)) context.onValueChange(value);\n            }),\n            onFocus: composeEventHandlers(props.onFocus, () => {\n              const isAutomaticActivation = context.activationMode !== \"manual\";\n              if (!isSelected && !disabled && isAutomaticActivation) {\n                context.onValueChange(value);\n              }\n            })\n          }\n        )\n      }\n    );\n  }\n);\nTabsTrigger.displayName = TRIGGER_NAME;\nvar CONTENT_NAME = \"TabsContent\";\nvar TabsContent = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeTabs, value, forceMount, children, ...contentProps } = props;\n    const context = useTabsContext(CONTENT_NAME, __scopeTabs);\n    const triggerId = makeTriggerId(context.baseId, value);\n    const contentId = makeContentId(context.baseId, value);\n    const isSelected = value === context.value;\n    const isMountAnimationPreventedRef = React.useRef(isSelected);\n    React.useEffect(() => {\n      const rAF = requestAnimationFrame(() => isMountAnimationPreventedRef.current = false);\n      return () => cancelAnimationFrame(rAF);\n    }, []);\n    return /* @__PURE__ */ jsx(Presence, { present: forceMount || isSelected, children: ({ present }) => /* @__PURE__ */ jsx(\n      Primitive.div,\n      {\n        \"data-state\": isSelected ? \"active\" : \"inactive\",\n        \"data-orientation\": context.orientation,\n        role: \"tabpanel\",\n        \"aria-labelledby\": triggerId,\n        hidden: !present,\n        id: contentId,\n        tabIndex: 0,\n        ...contentProps,\n        ref: forwardedRef,\n        style: {\n          ...props.style,\n          animationDuration: isMountAnimationPreventedRef.current ? \"0s\" : void 0\n        },\n        children: present && children\n      }\n    ) });\n  }\n);\nTabsContent.displayName = CONTENT_NAME;\nfunction makeTriggerId(baseId, value) {\n  return `${baseId}-trigger-${value}`;\n}\nfunction makeContentId(baseId, value) {\n  return `${baseId}-content-${value}`;\n}\nvar Root2 = Tabs;\nvar List = TabsList;\nvar Trigger = TabsTrigger;\nvar Content = TabsContent;\nexport {\n  Content,\n  List,\n  Root2 as Root,\n  Tabs,\n  TabsContent,\n  TabsList,\n  TabsTrigger,\n  Trigger,\n  createTabsScope\n};\n//# sourceMappingURL=index.mjs.map\n","'use client';\n\nimport * as React from 'react';\nimport * as TabsPrimitive from '@radix-ui/react-tabs';\n\nimport { cn } from '@/lib/utils';\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return (\n    <TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn('flex flex-col gap-2', className)}\n      {...props}\n    />\n  );\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        // : w-fit +  overflow          \n        'bg-muted text-muted-foreground inline-flex h-9 w-full max-w-full items-center justify-start overflow-x-auto rounded-lg p-[3px]',\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        // : flex-1          .\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] shrink-0 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className,\n      )}\n      {...props}\n    />\n  );\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn('flex-1 outline-none', className)}\n      {...props}\n    />\n  );\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent };\n","//  :      ,   \n//  : React, cn util\nimport React from 'react';\n\nimport { cn } from '@/lib/utils';\n\ninterface ActionBarProps {\n  breadcrumbs?: React.ReactNode;\n  title?: React.ReactNode;\n  description?: React.ReactNode;\n  toolbar?: React.ReactNode;\n  children?: React.ReactNode;\n  className?: string;\n}\n\nexport default function ActionBar({\n  breadcrumbs,\n  title,\n  description,\n  toolbar,\n  children,\n  className,\n}: ActionBarProps) {\n  return (\n    <section\n      className={cn(\n        'flex flex-col gap-3 rounded-3xl border border-[color:var(--color-gray-200)]',\n        'bg-[color:var(--color-gray-25)] p-4 shadow-[var(--shadow-theme-sm)] sm:p-6',\n        'dark:border-[color:var(--color-gray-700)] dark:bg-[color:var(--color-gray-dark)]',\n        className,\n      )}\n    >\n      {breadcrumbs ? (\n        <div className=\"text-xs font-semibold uppercase tracking-wide text-[color:var(--color-gray-500)] dark:text-[color:var(--color-gray-300)]\">\n          {breadcrumbs}\n        </div>\n      ) : null}\n      {title || description || toolbar ? (\n        <div className=\"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between\">\n          <div className=\"min-w-0 space-y-1\">\n            {title ? (\n              <h1 className=\"text-lg font-semibold text-[color:var(--color-gray-900)] dark:text-white sm:text-xl\">\n                {title}\n              </h1>\n            ) : null}\n            {description ? (\n              <p className=\"text-sm text-[color:var(--color-gray-600)] dark:text-[color:var(--color-gray-300)]\">\n                {description}\n              </p>\n            ) : null}\n          </div>\n          {toolbar ? (\n            <div className=\"flex flex-wrap items-center justify-end gap-2\">\n              {toolbar}\n            </div>\n          ) : null}\n        </div>\n      ) : null}\n      {children ? (\n        <div className=\"space-y-3 sm:space-y-4\">{children}</div>\n      ) : null}\n    </section>\n  );\n}\n","//  :  -   \n//  : React, heroicons, cn util\nimport React from 'react';\nimport { CheckIcon, DocumentDuplicateIcon } from '@heroicons/react/24/outline';\n\nimport { cn } from '@/lib/utils';\n\ninterface CopyableIdProps\n  extends Omit<React.ButtonHTMLAttributes<HTMLButtonElement>, 'value'> {\n  value: string;\n  displayValue?: string;\n  copyHint?: string;\n  copiedHint?: string;\n  onCopy?: (payload: { value: string }) => void;\n}\n\nexport default function CopyableId({\n  value,\n  displayValue,\n  copyHint,\n  copiedHint,\n  onCopy,\n  className,\n  disabled,\n  ...props\n}: CopyableIdProps) {\n  const [copied, setCopied] = React.useState(false);\n  const resetTimerRef = React.useRef<number>();\n\n  const textToShow = displayValue ?? value;\n  const defaultCopyHint = copyHint ?? 'Copy';\n  const defaultCopiedHint = copiedHint ?? 'Copied';\n\n  React.useEffect(() => {\n    return () => {\n      if (resetTimerRef.current) {\n        window.clearTimeout(resetTimerRef.current);\n      }\n    };\n  }, []);\n\n  React.useEffect(() => {\n    if (!copied) return;\n    resetTimerRef.current = window.setTimeout(() => setCopied(false), 1600);\n    return () => {\n      if (resetTimerRef.current) {\n        window.clearTimeout(resetTimerRef.current);\n      }\n    };\n  }, [copied]);\n\n  const handleCopy = async () => {\n    if (!value || disabled) return;\n    const performCopy = async () => {\n      if (typeof navigator !== 'undefined' && navigator.clipboard?.writeText) {\n        await navigator.clipboard.writeText(value);\n        return true;\n      }\n      if (typeof document === 'undefined') {\n        return false;\n      }\n      const textarea = document.createElement('textarea');\n      textarea.value = value;\n      textarea.setAttribute('readonly', '');\n      textarea.style.position = 'absolute';\n      textarea.style.left = '-9999px';\n      document.body.appendChild(textarea);\n      textarea.select();\n      try {\n        const result = document.execCommand('copy');\n        return result;\n      } catch {\n        return false;\n      } finally {\n        document.body.removeChild(textarea);\n      }\n    };\n\n    try {\n      const success = await performCopy();\n      if (success) {\n        setCopied(true);\n      }\n    } finally {\n      onCopy?.({ value });\n    }\n  };\n\n  return (\n    <button\n      type=\"button\"\n      className={cn(\n        'inline-flex items-center gap-1.5 rounded-full border border-[color:var(--color-gray-300)]',\n        'bg-[color:var(--color-gray-25)] px-3 py-1 text-[11px] font-semibold tracking-wide text-[color:var(--color-gray-700)]',\n        'transition-colors duration-150 ease-out hover:border-[color:var(--color-brand-400)] hover:bg-[color:var(--color-brand-50)]',\n        'focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--color-brand-500)] focus-visible:ring-offset-2',\n        'disabled:cursor-not-allowed disabled:border-[color:var(--color-gray-200)] disabled:text-[color:var(--color-gray-400)]',\n        'dark:border-[color:var(--color-gray-700)] dark:bg-[color:var(--color-gray-dark)] dark:text-[color:var(--color-gray-100)]',\n        'dark:hover:border-[color:var(--color-brand-400)] dark:hover:bg-[color:var(--color-gray-800)]',\n        className,\n      )}\n      onClick={handleCopy}\n      title={copied ? defaultCopiedHint : defaultCopyHint}\n      aria-pressed={copied}\n      aria-live=\"polite\"\n      disabled={disabled}\n      {...props}\n    >\n      <span className=\"inline-flex items-center gap-1\">\n        {copied ? (\n          <CheckIcon\n            className=\"h-4 w-4 text-[color:var(--color-brand-500)] dark:text-[color:var(--color-brand-400)]\"\n            aria-hidden=\"true\"\n          />\n        ) : (\n          <DocumentDuplicateIcon\n            className=\"h-4 w-4 text-[color:var(--color-gray-500)] dark:text-[color:var(--color-gray-300)]\"\n            aria-hidden=\"true\"\n          />\n        )}\n        <span className=\"truncate text-left\">{textToShow}</span>\n      </span>\n      <span className=\"sr-only\">\n        {copied ? defaultCopiedHint : defaultCopyHint}\n      </span>\n    </button>\n  );\n}\n","// :      \n//  : React, ConfirmDialog\nimport React from 'react';\n\nimport { Button } from '@/components/ui/button';\nimport ConfirmDialog from '../../components/ConfirmDialog';\n\nexport interface CollectionFormState {\n  _id?: string;\n  name: string;\n  value: string;\n  meta?: Record<string, unknown>;\n  address?: string;\n  latitude?: string;\n  longitude?: string;\n}\n\ninterface Props {\n  form: CollectionFormState;\n  onChange: (form: CollectionFormState) => void;\n  onSubmit: () => void;\n  onDelete: () => void;\n  onReset: () => void;\n  valueLabel?: string;\n  renderValueField?: (\n    form: CollectionFormState,\n    onChange: (form: CollectionFormState) => void,\n    options?: { readonly?: boolean },\n  ) => React.ReactNode;\n  readonly?: boolean;\n  readonlyNotice?: string;\n}\n\nexport default function CollectionForm({\n  form,\n  onChange,\n  onSubmit,\n  onDelete,\n  onReset,\n  valueLabel = '',\n  renderValueField,\n  readonly = false,\n  readonlyNotice,\n}: Props) {\n  const [confirmDelete, setConfirmDelete] = React.useState(false);\n  const [confirmSave, setConfirmSave] = React.useState(false);\n\n  const submit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (readonly) return;\n    setConfirmSave(true);\n  };\n\n  return (\n    <form onSubmit={submit} className=\"space-y-2\">\n      <div>\n        <label className=\"block text-sm font-medium\"></label>\n        <input\n          id=\"collection-form-name\"\n          name=\"collectionName\"\n          className=\"h-10 w-full rounded border px-3\"\n          value={form.name}\n          onChange={(e) => onChange({ ...form, name: e.target.value })}\n          required\n          disabled={readonly}\n        />\n      </div>\n      <div>\n        <label className=\"block text-sm font-medium\">{valueLabel}</label>\n        {renderValueField ? (\n          renderValueField(form, readonly ? () => undefined : onChange, {\n            readonly,\n          })\n        ) : (\n          <input\n            id=\"collection-form-value\"\n            name=\"collectionValue\"\n            className=\"h-10 w-full rounded border px-3\"\n            value={form.value}\n            onChange={(e) => onChange({ ...form, value: e.target.value })}\n            required\n            disabled={readonly}\n          />\n        )}\n      </div>\n      {readonly ? (\n        <p className=\"rounded border border-amber-200 bg-amber-50 p-2 text-sm text-amber-900\">\n          {readonlyNotice ?? '    .'}\n        </p>\n      ) : null}\n      <div className=\"flex gap-2\">\n        <Button type=\"submit\" disabled={readonly}>\n          \n        </Button>\n        {form._id ? (\n          <Button\n            type=\"button\"\n            variant=\"destructive\"\n            disabled={readonly}\n            onClick={() => {\n              if (readonly) return;\n              setConfirmDelete(true);\n            }}\n          >\n            \n          </Button>\n        ) : (\n          <Button\n            type=\"button\"\n            variant=\"outline\"\n            onClick={onReset}\n            disabled={readonly}\n          >\n            \n          </Button>\n        )}\n      </div>\n      <ConfirmDialog\n        open={confirmSave}\n        message=\" ?\"\n        onConfirm={() => {\n          setConfirmSave(false);\n          onSubmit();\n        }}\n        onCancel={() => setConfirmSave(false)}\n        confirmText=\"\"\n      />\n      <ConfirmDialog\n        open={confirmDelete}\n        message=\" ?\"\n        onConfirm={() => {\n          setConfirmDelete(false);\n          onDelete();\n        }}\n        onCancel={() => setConfirmDelete(false)}\n      />\n    </form>\n  );\n}\n","// :       \n//  : authFetch, shared/FleetVehicleDto\nimport authFetch from '../utils/authFetch';\nimport type { FleetVehicleDto } from 'shared';\n\ntype PendingRequest = {\n  controller: AbortController;\n  promise: Promise<FleetVehicleResponse>;\n};\n\nconst pendingRequests = new Map<string, PendingRequest>();\n\nconst buildKey = (search: string, page: number, limit: number): string =>\n  `${search}::${page}::${limit}`;\n\nexport interface FleetVehiclePositionPayload {\n  lat: number;\n  lon: number;\n  timestamp?: string;\n}\n\nexport interface FleetVehiclePayload {\n  name: string;\n  registrationNumber: string;\n  odometerInitial: number;\n  odometerCurrent: number;\n  mileageTotal: number;\n  transportType: '' | '';\n  fuelType: '' | '' | '';\n  fuelRefilled: number;\n  fuelAverageConsumption: number;\n  fuelSpentTotal: number;\n  currentTasks: string[];\n  position?: FleetVehiclePositionPayload | null;\n}\n\nexport interface FleetVehicleResponse {\n  items: FleetVehicleDto[];\n  total: number;\n  page: number;\n  limit: number;\n}\n\nfunction parseResponse(res: Response, fallback: string) {\n  if (res.ok) return res.json();\n  return res.text().then((text) => {\n    throw new Error(text || fallback);\n  });\n}\n\nexport async function listFleetVehicles(\n  search = '',\n  page = 1,\n  limit = 10,\n): Promise<FleetVehicleResponse> {\n  const key = buildKey(search, page, limit);\n  const existing = pendingRequests.get(key);\n  if (existing) {\n    return existing.promise;\n  }\n\n  if (pendingRequests.size > 0) {\n    pendingRequests.forEach((entry, pendingKey) => {\n      if (pendingKey !== key) {\n        entry.controller.abort();\n        pendingRequests.delete(pendingKey);\n      }\n    });\n  }\n\n  const controller = new AbortController();\n  const params = new URLSearchParams();\n  params.set('page', String(page));\n  params.set('limit', String(limit));\n  if (search) params.set('search', search);\n  const request = authFetch(`/api/v1/fleets?${params.toString()}`, {\n    signal: controller.signal,\n  })\n    .then((res) => parseResponse(res, '   '))\n    .finally(() => {\n      const entry = pendingRequests.get(key);\n      if (entry?.controller === controller) {\n        pendingRequests.delete(key);\n      }\n    });\n  pendingRequests.set(key, { controller, promise: request });\n  return request;\n}\n\nexport interface LegacyFleetVehiclesResponse {\n  fleet: { id: string; name: string };\n  vehicles: FleetVehicleDto[];\n}\n\nexport async function fetchFleetVehicles(\n  _fleetId?: string,\n): Promise<LegacyFleetVehiclesResponse> {\n  void _fleetId;\n  const data = await listFleetVehicles();\n  return {\n    fleet: { id: 'manual-fleet', name: '' },\n    vehicles: data.items,\n  };\n}\n\nexport async function createFleetVehicle(\n  payload: FleetVehiclePayload,\n): Promise<FleetVehicleDto> {\n  const res = await authFetch('/api/v1/fleets', {\n    method: 'POST',\n    confirmed: true,\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  });\n  return parseResponse(res, '   ');\n}\n\nexport async function updateFleetVehicle(\n  id: string,\n  payload: Partial<FleetVehiclePayload>,\n): Promise<FleetVehicleDto> {\n  const res = await authFetch(`/api/v1/fleets/${id}`, {\n    method: 'PUT',\n    confirmed: true,\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  });\n  return parseResponse(res, '   ');\n}\n\nexport async function deleteFleetVehicle(id: string): Promise<void> {\n  const res = await authFetch(`/api/v1/fleets/${id}`, {\n    method: 'DELETE',\n    confirmed: true,\n  });\n  if (!res.ok) {\n    const text = await res.text().catch(() => '');\n    throw new Error(text || '   ');\n  }\n}\n","// :      \n//  : React, ConfirmDialog, services/fleets\nimport React, { useEffect, useMemo, useState } from 'react';\n\nimport { Button } from '@/components/ui/button';\nimport ConfirmDialog from '../../components/ConfirmDialog';\nimport type { FleetVehicleDto } from 'shared';\nimport type { FleetVehiclePayload } from '../../services/fleets';\n\ninterface FleetVehicleDialogProps {\n  open: boolean;\n  mode: 'create' | 'update';\n  vehicle: FleetVehicleDto | null;\n  saving: boolean;\n  onSubmit: (payload: FleetVehiclePayload, id?: string) => Promise<void>;\n  onDelete?: (id: string) => Promise<void>;\n  onClose: () => void;\n}\n\ninterface FormState {\n  name: string;\n  registrationNumber: string;\n  odometerInitial: string;\n  odometerCurrent: string;\n  mileageTotal: string;\n  transportType: '' | '';\n  fuelType: '' | '' | '';\n  fuelRefilled: string;\n  fuelAverageConsumption: string;\n  fuelSpentTotal: string;\n  currentTasks: string;\n}\n\nconst emptyForm: FormState = {\n  name: '',\n  registrationNumber: '',\n  odometerInitial: '0',\n  odometerCurrent: '0',\n  mileageTotal: '0',\n  transportType: '',\n  fuelType: '',\n  fuelRefilled: '0',\n  fuelAverageConsumption: '0',\n  fuelSpentTotal: '0',\n  currentTasks: '',\n};\n\nconst parseTasks = (value: string): string[] =>\n  value\n    .split(/[\\n,]/)\n    .map((item) => item.trim())\n    .filter(Boolean);\n\nexport default function FleetVehicleDialog({\n  open,\n  mode,\n  vehicle,\n  saving,\n  onSubmit,\n  onDelete,\n  onClose,\n}: FleetVehicleDialogProps) {\n  const [form, setForm] = useState<FormState>(emptyForm);\n  const [error, setError] = useState<string | null>(null);\n  const [confirmSave, setConfirmSave] = useState(false);\n  const [confirmDelete, setConfirmDelete] = useState(false);\n\n  useEffect(() => {\n    if (open && vehicle) {\n      const currentTasks = Array.isArray(vehicle.currentTasks)\n        ? vehicle.currentTasks.filter(Boolean)\n        : [];\n      setForm({\n        name: vehicle.name,\n        registrationNumber: vehicle.registrationNumber,\n        odometerInitial: String(vehicle.odometerInitial),\n        odometerCurrent: String(vehicle.odometerCurrent),\n        mileageTotal: String(vehicle.mileageTotal),\n        transportType: vehicle.transportType,\n        fuelType: vehicle.fuelType,\n        fuelRefilled: String(vehicle.fuelRefilled),\n        fuelAverageConsumption: String(vehicle.fuelAverageConsumption),\n        fuelSpentTotal: String(vehicle.fuelSpentTotal),\n        currentTasks: currentTasks.join('\\n'),\n      });\n      setError(null);\n      setConfirmSave(false);\n      setConfirmDelete(false);\n      return;\n    }\n    if (open && mode === 'create') {\n      setForm(emptyForm);\n      setError(null);\n      setConfirmSave(false);\n      setConfirmDelete(false);\n    }\n    if (!open) {\n      setForm(emptyForm);\n      setError(null);\n      setConfirmSave(false);\n      setConfirmDelete(false);\n    }\n  }, [open, mode, vehicle]);\n\n  const isUpdate = mode === 'update' && vehicle;\n\n  const payload = useMemo(() => {\n    const base: FleetVehiclePayload = {\n      name: form.name.trim(),\n      registrationNumber: form.registrationNumber.trim().toUpperCase(),\n      odometerInitial: Number(form.odometerInitial || '0'),\n      odometerCurrent: Number(form.odometerCurrent || '0'),\n      mileageTotal: Number(form.mileageTotal || '0'),\n      transportType: form.transportType,\n      fuelType: form.fuelType,\n      fuelRefilled: Number(form.fuelRefilled || '0'),\n      fuelAverageConsumption: Number(form.fuelAverageConsumption || '0'),\n      fuelSpentTotal: Number(form.fuelSpentTotal || '0'),\n      currentTasks: parseTasks(form.currentTasks),\n    };\n    return base;\n  }, [form]);\n\n  const handleSubmit = (event: React.FormEvent) => {\n    event.preventDefault();\n    if (!form.name.trim()) {\n      setError(' ');\n      return;\n    }\n    if (\n      !/^[A-Z-]{2} \\d{4} [A-Z-]{2}$/u.test(payload.registrationNumber)\n    ) {\n      setError('      XX 0000 XX');\n      return;\n    }\n    setError(null);\n    setConfirmSave(true);\n  };\n\n  const handleConfirm = async () => {\n    try {\n      await onSubmit(payload, vehicle?.id);\n      setConfirmSave(false);\n      onClose();\n    } catch (submitError) {\n      const message =\n        submitError instanceof Error\n          ? submitError.message\n          : '   ';\n      setError(message);\n      setConfirmSave(false);\n    }\n  };\n\n  const handleDelete = async () => {\n    if (!vehicle || !onDelete) return;\n    try {\n      await onDelete(vehicle.id);\n      setConfirmDelete(false);\n      onClose();\n    } catch (deleteError) {\n      const message =\n        deleteError instanceof Error\n          ? deleteError.message\n          : '   ';\n      setError(message);\n      setConfirmDelete(false);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-3\">\n      <div className=\"grid gap-3 md:grid-cols-2\">\n        <label className=\"flex flex-col gap-1\">\n          <span className=\"text-sm font-medium\"></span>\n          <input\n            id=\"fleet-vehicle-name\"\n            name=\"name\"\n            className=\"h-10 w-full rounded border px-3\"\n            value={form.name}\n            onChange={(event) =>\n              setForm((prev) => ({ ...prev, name: event.target.value }))\n            }\n            disabled={saving}\n            required\n          />\n        </label>\n        <label className=\"flex flex-col gap-1\">\n          <span className=\"text-sm font-medium\"> </span>\n          <input\n            id=\"fleet-vehicle-registration\"\n            name=\"registrationNumber\"\n            className=\"h-10 w-full rounded border px-3 uppercase\"\n            value={form.registrationNumber}\n            onChange={(event) =>\n              setForm((prev) => ({\n                ...prev,\n                registrationNumber: event.target.value,\n              }))\n            }\n            disabled={saving}\n            required\n            placeholder=\"AA 1234 BB\"\n          />\n        </label>\n        <label className=\"flex flex-col gap-1\">\n          <span className=\"text-sm font-medium\"> </span>\n          <select\n            id=\"fleet-vehicle-transport-type\"\n            name=\"transportType\"\n            className=\"h-10 w-full rounded border px-3\"\n            value={form.transportType}\n            onChange={(event) =>\n              setForm((prev) => ({\n                ...prev,\n                transportType: event.target.value as FormState['transportType'],\n              }))\n            }\n            disabled={saving}\n            required\n          >\n            <option value=\"\"></option>\n            <option value=\"\"></option>\n          </select>\n        </label>\n        <label className=\"flex flex-col gap-1\">\n          <span className=\"text-sm font-medium\"> , </span>\n          <input\n            type=\"number\"\n            min=\"0\"\n            id=\"fleet-vehicle-odometer-initial\"\n            name=\"odometerInitial\"\n            className=\"h-10 w-full rounded border px-3\"\n            value={form.odometerInitial}\n            onChange={(event) =>\n              setForm((prev) => ({\n                ...prev,\n                odometerInitial: event.target.value,\n              }))\n            }\n            disabled={saving}\n            required\n          />\n        </label>\n        <label className=\"flex flex-col gap-1\">\n          <span className=\"text-sm font-medium\"> , </span>\n          <input\n            type=\"number\"\n            min=\"0\"\n            id=\"fleet-vehicle-odometer-current\"\n            name=\"odometerCurrent\"\n            className=\"h-10 w-full rounded border px-3\"\n            value={form.odometerCurrent}\n            onChange={(event) =>\n              setForm((prev) => ({\n                ...prev,\n                odometerCurrent: event.target.value,\n              }))\n            }\n            disabled={saving}\n            required\n          />\n        </label>\n        <label className=\"flex flex-col gap-1\">\n          <span className=\"text-sm font-medium\"> , </span>\n          <input\n            type=\"number\"\n            min=\"0\"\n            id=\"fleet-vehicle-mileage-total\"\n            name=\"mileageTotal\"\n            className=\"h-10 w-full rounded border px-3\"\n            value={form.mileageTotal}\n            onChange={(event) =>\n              setForm((prev) => ({ ...prev, mileageTotal: event.target.value }))\n            }\n            disabled={saving}\n            required\n          />\n        </label>\n        <label className=\"flex flex-col gap-1\">\n          <span className=\"text-sm font-medium\"> </span>\n          <select\n            id=\"fleet-vehicle-fuel-type\"\n            name=\"fuelType\"\n            className=\"h-10 w-full rounded border px-3\"\n            value={form.fuelType}\n            onChange={(event) =>\n              setForm((prev) => ({\n                ...prev,\n                fuelType: event.target.value as FormState['fuelType'],\n              }))\n            }\n            disabled={saving}\n          >\n            <option value=\"\"></option>\n            <option value=\"\"></option>\n            <option value=\"\"></option>\n          </select>\n        </label>\n        <label className=\"flex flex-col gap-1\">\n          <span className=\"text-sm font-medium\"> </span>\n          <input\n            type=\"number\"\n            min=\"0\"\n            id=\"fleet-vehicle-fuel-refilled\"\n            name=\"fuelRefilled\"\n            className=\"h-10 w-full rounded border px-3\"\n            value={form.fuelRefilled}\n            onChange={(event) =>\n              setForm((prev) => ({ ...prev, fuelRefilled: event.target.value }))\n            }\n            disabled={saving}\n            required\n          />\n        </label>\n        <label className=\"flex flex-col gap-1\">\n          <span className=\"text-sm font-medium\"> , /</span>\n          <input\n            type=\"number\"\n            min=\"0\"\n            step=\"0.01\"\n            id=\"fleet-vehicle-fuel-average\"\n            name=\"fuelAverageConsumption\"\n            className=\"h-10 w-full rounded border px-3\"\n            value={form.fuelAverageConsumption}\n            onChange={(event) =>\n              setForm((prev) => ({\n                ...prev,\n                fuelAverageConsumption: event.target.value,\n              }))\n            }\n            disabled={saving}\n            required\n          />\n        </label>\n        <label className=\"flex flex-col gap-1\">\n          <span className=\"text-sm font-medium\">\n              , \n          </span>\n          <input\n            type=\"number\"\n            min=\"0\"\n            id=\"fleet-vehicle-fuel-spent\"\n            name=\"fuelSpentTotal\"\n            className=\"h-10 w-full rounded border px-3\"\n            value={form.fuelSpentTotal}\n            onChange={(event) =>\n              setForm((prev) => ({\n                ...prev,\n                fuelSpentTotal: event.target.value,\n              }))\n            }\n            disabled={saving}\n            required\n          />\n        </label>\n      </div>\n      <label className=\"flex flex-col gap-1\">\n        <span className=\"text-sm font-medium\">\n            (ID     )\n        </span>\n        <textarea\n          id=\"fleet-vehicle-current-tasks\"\n          name=\"currentTasks\"\n          className=\"min-h-[5rem] w-full rounded border px-3 py-2\"\n          value={form.currentTasks}\n          onChange={(event) =>\n            setForm((prev) => ({ ...prev, currentTasks: event.target.value }))\n          }\n          disabled={saving}\n        />\n      </label>\n      {error ? <p className=\"text-sm text-red-600\">{error}</p> : null}\n      <div className=\"flex flex-wrap gap-2\">\n        <Button type=\"submit\" disabled={saving}>\n          \n        </Button>\n        <Button\n          type=\"button\"\n          variant=\"outline\"\n          onClick={onClose}\n          disabled={saving}\n        >\n          \n        </Button>\n        {isUpdate && onDelete ? (\n          <Button\n            type=\"button\"\n            variant=\"destructive\"\n            onClick={() => setConfirmDelete(true)}\n            disabled={saving}\n          >\n            \n          </Button>\n        ) : null}\n      </div>\n      <ConfirmDialog\n        open={confirmSave}\n        message=\" ?\"\n        confirmText=\"\"\n        onConfirm={handleConfirm}\n        onCancel={() => setConfirmSave(false)}\n      />\n      <ConfirmDialog\n        open={confirmDelete}\n        message=\" ?\"\n        confirmText=\"\"\n        status=\"danger\"\n        onConfirm={handleDelete}\n        onCancel={() => setConfirmDelete(false)}\n      />\n    </form>\n  );\n}\n","//  :      \n//  : @tanstack/react-table, shared/types\nimport type { ColumnDef } from '@tanstack/react-table';\nimport type { FleetVehicleDto } from 'shared';\n\nconst stringify = (value: unknown) => {\n  if (value === undefined || value === null) return '';\n  if (Array.isArray(value)) {\n    return value.length ? value.join(', ') : '';\n  }\n  if (typeof value === 'object') {\n    try {\n      return JSON.stringify(value);\n    } catch {\n      return String(value);\n    }\n  }\n  return String(value);\n};\n\nexport type FleetVehicleRow = FleetVehicleDto & {\n  transportHistoryInfo: string;\n};\n\nexport const fleetVehicleColumns: ColumnDef<FleetVehicleRow>[] = [\n  {\n    accessorKey: 'name',\n    header: '',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'registrationNumber',\n    header: '. ',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'odometerInitial',\n    header: ' ',\n    meta: { minWidth: '8rem', maxWidth: '14rem' },\n  },\n  {\n    accessorKey: 'odometerCurrent',\n    header: ' ',\n    meta: { minWidth: '8rem', maxWidth: '14rem' },\n  },\n  {\n    accessorKey: 'mileageTotal',\n    header: '',\n    meta: { minWidth: '6rem', maxWidth: '12rem' },\n  },\n  {\n    accessorKey: 'transportType',\n    header: ' ',\n    meta: { minWidth: '8rem', maxWidth: '14rem' },\n  },\n  {\n    accessorKey: 'fuelType',\n    header: ' ',\n    meta: { minWidth: '6rem', maxWidth: '12rem' },\n  },\n  {\n    accessorKey: 'fuelRefilled',\n    header: '',\n    meta: { minWidth: '6rem', maxWidth: '10rem' },\n  },\n  {\n    accessorKey: 'fuelAverageConsumption',\n    header: '',\n    meta: { minWidth: '6rem', maxWidth: '10rem' },\n  },\n  {\n    accessorKey: 'fuelSpentTotal',\n    header: '',\n    meta: { minWidth: '6rem', maxWidth: '10rem' },\n  },\n  {\n    accessorKey: 'currentTasks',\n    header: ' ',\n    cell: ({ getValue }) => stringify(getValue<string[] | undefined>()),\n    meta: { minWidth: '10rem', maxWidth: '24rem' },\n  },\n  {\n    accessorKey: 'transportHistoryInfo',\n    header: ' ',\n    cell: ({ getValue }) => stringify(getValue<string | undefined>()),\n    meta: { minWidth: '12rem', maxWidth: '28rem' },\n  },\n  {\n    accessorKey: 'createdAt',\n    header: '',\n    meta: { minWidth: '10rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'updatedAt',\n    header: '',\n    meta: { minWidth: '10rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'unitId',\n    header: '',\n    meta: { minWidth: '8rem', maxWidth: '12rem' },\n  },\n  {\n    accessorKey: 'remoteName',\n    header: ' ',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'notes',\n    header: '',\n    meta: { minWidth: '10rem', maxWidth: '20rem' },\n  },\n];\n","//  :      \n//  : DataTable badge helpers\n\nexport const SETTINGS_BADGE_EMPTY = ' ';\n\nconst badgeBaseClass = [\n  'inline-flex min-h-[1.65rem] min-w-0 max-w-full items-center justify-start gap-1',\n  'rounded-full px-2.5 py-0.5 text-[0.72rem] font-semibold leading-tight text-slate-900',\n  'ring-1 ring-slate-300/80 bg-slate-100/95 shadow-xs',\n  'dark:text-slate-100 dark:ring-slate-600/60 dark:bg-slate-800/80',\n  'truncate',\n].join(' ');\n\nexport const SETTINGS_BADGE_CLASS = `${badgeBaseClass}`;\n\nexport const SETTINGS_BADGE_WRAPPER_CLASS =\n  'flex flex-wrap items-center gap-1.5';\n","// :      \n//  : React, services/fleets, FleetVehicleDialog, Modal, DataTable\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\n\nimport { Button } from '@/components/ui/button';\nimport DataTable from '../../components/DataTable';\nimport Modal from '../../components/Modal';\nimport { showToast } from '../../utils/toast';\nimport {\n  listFleetVehicles,\n  createFleetVehicle,\n  updateFleetVehicle,\n  deleteFleetVehicle,\n  type FleetVehiclePayload,\n} from '../../services/fleets';\nimport type { FleetVehicleDto } from 'shared';\nimport FleetVehicleDialog from './FleetVehicleDialog';\nimport {\n  fleetVehicleColumns,\n  type FleetVehicleRow,\n} from '../../columns/fleetVehicleColumns';\nimport {\n  SETTINGS_BADGE_CLASS,\n  SETTINGS_BADGE_EMPTY,\n  SETTINGS_BADGE_WRAPPER_CLASS,\n} from './badgeStyles';\n\nconst PAGE_LIMIT = 10;\n\nconst transportHistoryFormatter = new Intl.DateTimeFormat('ru-RU', {\n  day: '2-digit',\n  month: '2-digit',\n  year: 'numeric',\n  hour: '2-digit',\n  minute: '2-digit',\n});\n\nconst formatHistoryInstant = (value?: string): string => {\n  if (!value) {\n    return '';\n  }\n  const date = new Date(value);\n  if (Number.isNaN(date.getTime())) {\n    return '';\n  }\n  return transportHistoryFormatter.format(date);\n};\n\nconst buildHistoryLabel = (\n  entry: NonNullable<FleetVehicleDto['transportHistory']>[number],\n): string => {\n  const assigned = formatHistoryInstant(entry.assignedAt);\n  const removed = formatHistoryInstant(entry.removedAt);\n  const title =\n    entry.taskTitle && entry.taskTitle.trim().length\n      ? entry.taskTitle.trim()\n      : entry.taskId;\n  if (assigned && removed) {\n    return `${assigned}  ${title} ( ${removed})`;\n  }\n  if (assigned) {\n    return `${assigned}  ${title}`;\n  }\n  if (removed) {\n    return `${title} ( ${removed})`;\n  }\n  return title;\n};\n\nconst formatTransportHistory = (\n  history?: FleetVehicleDto['transportHistory'],\n): string => {\n  if (!history?.length) {\n    return '';\n  }\n  return history.map(buildHistoryLabel).join('; ');\n};\n\ntype VehicleCardField = {\n  id: string;\n  label: string;\n  render: (vehicle: FleetVehicleDto) => React.ReactNode;\n};\n\nconst vehicleCardFields: VehicleCardField[] = [\n  {\n    id: 'id',\n    label: 'ID',\n    render: (vehicle) => vehicle.id,\n  },\n  {\n    id: 'name',\n    label: '',\n    render: (vehicle) => vehicle.name,\n  },\n  {\n    id: 'registrationNumber',\n    label: ' ',\n    render: (vehicle) => vehicle.registrationNumber,\n  },\n  {\n    id: 'odometerInitial',\n    label: ' ',\n    render: (vehicle) => vehicle.odometerInitial,\n  },\n  {\n    id: 'odometerCurrent',\n    label: ' ',\n    render: (vehicle) => vehicle.odometerCurrent,\n  },\n  {\n    id: 'mileageTotal',\n    label: '',\n    render: (vehicle) => vehicle.mileageTotal,\n  },\n  {\n    id: 'transportType',\n    label: ' ',\n    render: (vehicle) => vehicle.transportType,\n  },\n  {\n    id: 'fuelType',\n    label: ' ',\n    render: (vehicle) => vehicle.fuelType,\n  },\n  {\n    id: 'fuelRefilled',\n    label: '',\n    render: (vehicle) => vehicle.fuelRefilled,\n  },\n  {\n    id: 'fuelAverageConsumption',\n    label: '',\n    render: (vehicle) => vehicle.fuelAverageConsumption,\n  },\n  {\n    id: 'fuelSpentTotal',\n    label: '',\n    render: (vehicle) => vehicle.fuelSpentTotal,\n  },\n  {\n    id: 'currentTasks',\n    label: '',\n    render: (vehicle) =>\n      vehicle.currentTasks.length ? vehicle.currentTasks.join(', ') : '',\n  },\n  {\n    id: 'transportHistory',\n    label: ' ',\n    render: (vehicle) =>\n      vehicle.transportHistory?.length ? (\n        <ul className=\"space-y-1 text-sm\">\n          {vehicle.transportHistory.map((entry) => (\n            <li\n              key={`${entry.taskId}-${entry.assignedAt}`}\n              className=\"leading-snug\"\n            >\n              {buildHistoryLabel(entry)}\n            </li>\n          ))}\n        </ul>\n      ) : (\n        ''\n      ),\n  },\n  {\n    id: 'createdAt',\n    label: '',\n    render: (vehicle) => vehicle.createdAt || '',\n  },\n  {\n    id: 'updatedAt',\n    label: '',\n    render: (vehicle) => vehicle.updatedAt || '',\n  },\n  {\n    id: 'unitId',\n    label: '',\n    render: (vehicle) =>\n      vehicle.unitId !== undefined && vehicle.unitId !== null\n        ? vehicle.unitId\n        : '',\n  },\n  {\n    id: 'remoteName',\n    label: ' ',\n    render: (vehicle) => vehicle.remoteName || '',\n  },\n  {\n    id: 'notes',\n    label: '',\n    render: (vehicle) => vehicle.notes || '',\n  },\n];\n\nexport default function FleetVehiclesTab() {\n  const [items, setItems] = useState<FleetVehicleDto[]>([]);\n  const [total, setTotal] = useState(0);\n  const [page, setPage] = useState(1);\n  const [search, setSearch] = useState('');\n  const [appliedSearch, setAppliedSearch] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [modalOpen, setModalOpen] = useState(false);\n  const [mode, setMode] = useState<'create' | 'update'>('create');\n  const [saving, setSaving] = useState(false);\n  const [selectedVehicle, setSelectedVehicle] =\n    useState<FleetVehicleDto | null>(null);\n\n  const totalPages = useMemo(\n    () => Math.max(1, Math.ceil(total / PAGE_LIMIT)),\n    [total],\n  );\n  const rows = useMemo<FleetVehicleRow[]>(\n    () =>\n      items.map((item) => ({\n        ...item,\n        transportHistoryInfo: formatTransportHistory(item.transportHistory),\n      })),\n    [items],\n  );\n\n  const badgeClassName = useMemo(\n    () => `${SETTINGS_BADGE_CLASS} whitespace-nowrap sm:text-sm`,\n    [],\n  );\n  const badgeWrapperClassName = useMemo(\n    () => `${SETTINGS_BADGE_WRAPPER_CLASS} justify-start`,\n    [],\n  );\n\n  const load = useCallback(async () => {\n    setLoading(true);\n    setError('');\n    try {\n      const data = await listFleetVehicles(appliedSearch, page, PAGE_LIMIT);\n      setItems(data.items);\n      setTotal(data.total);\n    } catch (loadError) {\n      const message =\n        loadError instanceof Error\n          ? loadError.message\n          : '   ';\n      setError(message);\n      setItems([]);\n      setTotal(0);\n    } finally {\n      setLoading(false);\n    }\n  }, [appliedSearch, page]);\n\n  useEffect(() => {\n    void load();\n  }, [load]);\n\n  const openCreate = () => {\n    setMode('create');\n    setSelectedVehicle(null);\n    setModalOpen(true);\n  };\n\n  const openEdit = (item: FleetVehicleDto) => {\n    setMode('update');\n    setSelectedVehicle(item);\n    setModalOpen(true);\n  };\n\n  const closeModal = () => {\n    if (saving) return;\n    setModalOpen(false);\n    setSelectedVehicle(null);\n  };\n\n  const submit = async (payload: FleetVehiclePayload, id?: string) => {\n    setSaving(true);\n    try {\n      if (mode === 'create' || !id) {\n        await createFleetVehicle(payload);\n        showToast(' ', 'success');\n      } else {\n        await updateFleetVehicle(id, payload);\n        showToast(' ', 'success');\n      }\n      await load();\n      setSelectedVehicle(null);\n      setModalOpen(false);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const remove = async (id: string) => {\n    setSaving(true);\n    try {\n      await deleteFleetVehicle(id);\n      showToast(' ', 'success');\n      await load();\n      setSelectedVehicle(null);\n      setModalOpen(false);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleSearchSubmit = (event: React.FormEvent) => {\n    event.preventDefault();\n    setPage(1);\n    setAppliedSearch(search.trim());\n  };\n\n  const handlePageChange = (next: number) => {\n    if (next < 1 || next > totalPages) return;\n    setPage(next);\n  };\n\n  return (\n    <section className=\"space-y-4\">\n      <div className=\"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-start sm:gap-3 lg:items-center lg:gap-3\">\n        <form\n          onSubmit={handleSearchSubmit}\n          className=\"mt-2 flex w-full flex-col gap-2 sm:flex-row sm:flex-wrap sm:items-center sm:gap-2 lg:grid lg:flex-1 lg:grid-cols-[minmax(0,18rem)_auto] lg:items-center lg:gap-3\"\n        >\n          <label className=\"flex w-full flex-col gap-1 sm:w-64 lg:w-full lg:min-w-0\">\n            <span className=\"text-sm font-medium\"></span>\n            <input\n              id=\"fleet-vehicles-search\"\n              name=\"fleetVehicleSearch\"\n              className=\"h-10 w-full rounded border px-3 text-sm lg:h-9 lg:text-xs\"\n              value={search}\n              onChange={(event) => setSearch(event.target.value)}\n              placeholder=\"  \"\n            />\n          </label>\n          <Button\n            type=\"submit\"\n            className=\"h-10 w-full max-w-[11rem] px-3 text-sm font-semibold sm:h-10 sm:w-auto sm:px-3 lg:h-8 lg:text-xs\"\n          >\n            \n          </Button>\n        </form>\n        <Button\n          type=\"button\"\n          variant=\"success\"\n          className=\"h-10 w-full max-w-[11rem] px-3 text-sm font-semibold sm:w-auto lg:h-8 lg:text-xs\"\n          onClick={openCreate}\n        >\n          \n        </Button>\n      </div>\n      {loading ? (\n        <p className=\"text-sm text-gray-500\"> </p>\n      ) : null}\n      {error ? (\n        <p className=\"rounded border border-red-200 bg-red-50 p-3 text-sm text-red-700\">\n          {error}\n        </p>\n      ) : null}\n      {!loading && !error && !items.length ? (\n        <p className=\"text-sm text-gray-500\">  .</p>\n      ) : null}\n      <DataTable\n        columns={fleetVehicleColumns}\n        data={rows}\n        pageIndex={page - 1}\n        pageSize={PAGE_LIMIT}\n        pageCount={totalPages}\n        onPageChange={(index) => handlePageChange(index + 1)}\n        showGlobalSearch={false}\n        showFilters={false}\n        onRowClick={(row) => openEdit(row)}\n        wrapCellsAsBadges\n        badgeClassName={badgeClassName}\n        badgeWrapperClassName={badgeWrapperClassName}\n        badgeEmptyPlaceholder={SETTINGS_BADGE_EMPTY}\n      />\n      <Modal open={modalOpen} onClose={closeModal}>\n        <div className=\"space-y-4\">\n          {selectedVehicle ? (\n            <article className=\"rounded-xl border border-slate-200 bg-slate-50 p-4 shadow-sm\">\n              <h3 className=\"text-base font-semibold\"> </h3>\n              <dl className=\"mt-2 grid grid-cols-1 gap-2 text-sm sm:grid-cols-2\">\n                {vehicleCardFields.map(({ id, label, render }) => (\n                  <div key={id}>\n                    <dt className=\"font-medium text-slate-500\">{label}</dt>\n                    <dd className=\"text-slate-900\">\n                      {render(selectedVehicle)}\n                    </dd>\n                  </div>\n                ))}\n              </dl>\n            </article>\n          ) : null}\n          <FleetVehicleDialog\n            open={modalOpen}\n            mode={mode}\n            vehicle={selectedVehicle}\n            saving={saving}\n            onSubmit={submit}\n            onDelete={mode === 'update' ? remove : undefined}\n            onClose={closeModal}\n          />\n        </div>\n      </Modal>\n    </section>\n  );\n}\n","//  :      .\n//  : React, Spinner, Button, Input.\n\nimport React from 'react';\n\nimport Spinner from '../../components/Spinner';\nimport { Button } from '../../components/ui/button';\nimport { Input } from '../../components/ui/input';\nimport type { CollectionItem } from '../../services/collections';\n\ntype TaskFieldItem = CollectionItem & {\n  meta?: CollectionItem['meta'] & {\n    defaultLabel?: string;\n    fieldType?: string;\n    required?: boolean;\n    order?: number;\n    virtual?: boolean;\n  };\n};\n\ntype TaskTypeItem = CollectionItem & {\n  meta?: CollectionItem['meta'] & {\n    defaultLabel?: string;\n    order?: number;\n    virtual?: boolean;\n    tg_theme_url?: string;\n    tg_chat_id?: string;\n    tg_topic_id?: number;\n    tg_photos_url?: string;\n    tg_photos_chat_id?: string;\n    tg_photos_topic_id?: number;\n  };\n};\n\ninterface TaskSettingsTabProps {\n  fields: TaskFieldItem[];\n  types: TaskTypeItem[];\n  loading: boolean;\n  onSaveField: (item: TaskFieldItem, label: string) => Promise<void>;\n  onDeleteField: (item: TaskFieldItem) => Promise<void>;\n  onSaveType: (\n    item: TaskTypeItem,\n    payload: { label: string; tg_theme_url: string; tg_photos_url: string },\n  ) => Promise<void>;\n  onDeleteType: (item: TaskTypeItem) => Promise<void>;\n}\n\nconst CARD_CLASS =\n  'rounded-lg border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-900';\n\nconst SECTION_GAP = 'space-y-4';\n\nconst FieldCard: React.FC<{\n  item: TaskFieldItem;\n  value: string;\n  onChange: (value: string) => void;\n  onSave: () => Promise<void>;\n  onReset: () => void;\n  onDelete?: () => Promise<void>;\n  saving: boolean;\n  deleting?: boolean;\n  error?: string;\n}> = ({\n  item,\n  value,\n  onChange,\n  onSave,\n  onReset,\n  onDelete,\n  saving,\n  deleting,\n  error,\n}) => {\n  const [localError, setLocalError] = React.useState<string | undefined>(error);\n\n  React.useEffect(() => {\n    setLocalError(error);\n  }, [error]);\n\n  const defaultLabel = item.meta?.defaultLabel ?? item.name;\n  const storedLabel = item.value?.trim() || defaultLabel;\n  const trimmedValue = value.trim();\n  const dirty = trimmedValue !== storedLabel;\n\n  const handleSave = async () => {\n    setLocalError(undefined);\n    try {\n      await onSave();\n    } catch (err) {\n      const message = err instanceof Error ? err.message : String(err);\n      setLocalError(message);\n    }\n  };\n\n  const handleReset = () => {\n    setLocalError(undefined);\n    onReset();\n  };\n\n  const handleDelete = async () => {\n    if (!onDelete) return;\n    setLocalError(undefined);\n    try {\n      await onDelete();\n    } catch (err) {\n      const message = err instanceof Error ? err.message : String(err);\n      setLocalError(message);\n    }\n  };\n\n  return (\n    <article className={CARD_CLASS}>\n      <div className=\"flex flex-col gap-2\">\n        <div className=\"flex flex-wrap items-center justify-between gap-2\">\n          <div>\n            <h4 className=\"text-base font-semibold text-slate-900 dark:text-slate-100\">\n              {defaultLabel}\n              {item.meta?.required ? ' *' : ''}\n            </h4>\n            <p className=\"text-sm text-slate-500 dark:text-slate-400\">\n              : <span className=\"font-mono\">{item.name}</span>\n              {item.meta?.fieldType ? `  : ${item.meta.fieldType}` : ''}\n            </p>\n          </div>\n        </div>\n        <label className=\"flex flex-col gap-1\">\n          <span className=\"text-sm font-medium text-slate-700 dark:text-slate-300\">\n             \n          </span>\n          <Input\n            value={value}\n            onChange={(event) => onChange(event.target.value)}\n            placeholder={defaultLabel}\n            aria-label={`  ${defaultLabel}`}\n          />\n        </label>\n        {localError ? (\n          <p className=\"text-sm text-rose-600\" role=\"alert\">\n            {localError}\n          </p>\n        ) : null}\n        <div className=\"flex flex-wrap gap-2\">\n          <Button\n            type=\"button\"\n            size=\"sm\"\n            onClick={handleSave}\n            disabled={saving || deleting || !dirty || !trimmedValue}\n          >\n            {saving ? <Spinner /> : ''}\n          </Button>\n          <Button\n            type=\"button\"\n            size=\"sm\"\n            variant=\"outline\"\n            onClick={handleReset}\n            disabled={saving || deleting}\n          >\n            \n          </Button>\n          {onDelete && !item.meta?.virtual ? (\n            <Button\n              type=\"button\"\n              size=\"sm\"\n              variant=\"destructive\"\n              onClick={handleDelete}\n              disabled={saving || deleting}\n            >\n              {deleting ? <Spinner /> : ''}\n            </Button>\n          ) : null}\n        </div>\n      </div>\n    </article>\n  );\n};\n\nconst TypeCard: React.FC<{\n  item: TaskTypeItem;\n  label: string;\n  url: string;\n  photosUrl: string;\n  onChangeLabel: (value: string) => void;\n  onChangeUrl: (value: string) => void;\n  onChangePhotosUrl: (value: string) => void;\n  onSave: () => Promise<void>;\n  onReset: () => void;\n  onDelete?: () => Promise<void>;\n  saving: boolean;\n  deleting?: boolean;\n  error?: string;\n}> = ({\n  item,\n  label,\n  url,\n  photosUrl,\n  onChangeLabel,\n  onChangeUrl,\n  onChangePhotosUrl,\n  onSave,\n  onReset,\n  onDelete,\n  saving,\n  deleting,\n  error,\n}) => {\n  const [localError, setLocalError] = React.useState<string | undefined>(error);\n\n  React.useEffect(() => {\n    setLocalError(error);\n  }, [error]);\n\n  const defaultLabel = item.meta?.defaultLabel ?? item.name;\n  const storedLabel = item.value?.trim() || defaultLabel;\n  const storedUrl =\n    typeof item.meta?.tg_theme_url === 'string' ? item.meta.tg_theme_url : '';\n  const storedPhotosUrl =\n    typeof item.meta?.tg_photos_url === 'string' ? item.meta.tg_photos_url : '';\n  const trimmedLabel = label.trim();\n  const trimmedUrl = url.trim();\n  const trimmedPhotosUrl = photosUrl.trim();\n  const dirty =\n    trimmedLabel !== storedLabel ||\n    trimmedUrl !== (storedUrl || '') ||\n    trimmedPhotosUrl !== (storedPhotosUrl || '');\n\n  const handleSave = async () => {\n    setLocalError(undefined);\n    try {\n      await onSave();\n    } catch (err) {\n      const message = err instanceof Error ? err.message : String(err);\n      setLocalError(message);\n    }\n  };\n\n  const handleReset = () => {\n    setLocalError(undefined);\n    onReset();\n  };\n\n  const handleDelete = async () => {\n    if (!onDelete) return;\n    setLocalError(undefined);\n    try {\n      await onDelete();\n    } catch (err) {\n      const message = err instanceof Error ? err.message : String(err);\n      setLocalError(message);\n    }\n  };\n\n  return (\n    <article className={CARD_CLASS}>\n      <div className=\"flex flex-col gap-2\">\n        <div className=\"flex flex-wrap items-center justify-between gap-2\">\n          <div>\n            <h4 className=\"text-base font-semibold text-slate-900 dark:text-slate-100\">\n              {defaultLabel}\n            </h4>\n            <p className=\"text-sm text-slate-500 dark:text-slate-400\">\n               : <span className=\"font-mono\">{item.name}</span>\n            </p>\n          </div>\n        </div>\n        <div className=\"grid gap-3 sm:grid-cols-2\">\n          <label className=\"flex flex-col gap-1\">\n            <span className=\"text-sm font-medium text-slate-700 dark:text-slate-300\">\n               \n            </span>\n            <Input\n              value={label}\n              onChange={(event) => onChangeLabel(event.target.value)}\n              placeholder={defaultLabel}\n              aria-label={`  ${defaultLabel}`}\n            />\n          </label>\n          <label className=\"flex flex-col gap-1\">\n            <span className=\"text-sm font-medium text-slate-700 dark:text-slate-300\">\n                 Telegram\n            </span>\n            <Input\n              value={url}\n              onChange={(event) => onChangeUrl(event.target.value)}\n              placeholder=\"https://t.me/c/...\"\n              aria-label={`    ${defaultLabel}`}\n            />\n          </label>\n          <label className=\"flex flex-col gap-1\">\n            <span className=\"text-sm font-medium text-slate-700 dark:text-slate-300\">\n                \n            </span>\n            <Input\n              value={photosUrl}\n              onChange={(event) => onChangePhotosUrl(event.target.value)}\n              placeholder=\"https://t.me/c/...\"\n              aria-label={`    ${defaultLabel}`}\n            />\n          </label>\n        </div>\n        {item.meta?.tg_chat_id ? (\n          <p className=\"text-xs text-slate-500 dark:text-slate-400\">\n            : {item.meta.tg_chat_id}\n          </p>\n        ) : null}\n        {item.meta?.tg_topic_id ? (\n          <p className=\"text-xs text-slate-500 dark:text-slate-400\">\n            : {item.meta.tg_topic_id}\n          </p>\n        ) : null}\n        {item.meta?.tg_photos_chat_id ? (\n          <p className=\"text-xs text-slate-500 dark:text-slate-400\">\n             : {item.meta.tg_photos_chat_id}\n          </p>\n        ) : null}\n        {item.meta?.tg_photos_topic_id ? (\n          <p className=\"text-xs text-slate-500 dark:text-slate-400\">\n             : {item.meta.tg_photos_topic_id}\n          </p>\n        ) : null}\n        {localError ? (\n          <p className=\"text-sm text-rose-600\" role=\"alert\">\n            {localError}\n          </p>\n        ) : null}\n        <div className=\"flex flex-wrap gap-2\">\n          <Button\n            type=\"button\"\n            size=\"sm\"\n            onClick={handleSave}\n            disabled={saving || deleting || !trimmedLabel || !dirty}\n          >\n            {saving ? <Spinner /> : ''}\n          </Button>\n          <Button\n            type=\"button\"\n            size=\"sm\"\n            variant=\"outline\"\n            onClick={handleReset}\n            disabled={saving || deleting}\n          >\n            \n          </Button>\n          {onDelete && !item.meta?.virtual ? (\n            <Button\n              type=\"button\"\n              size=\"sm\"\n              variant=\"destructive\"\n              onClick={handleDelete}\n              disabled={saving || deleting}\n            >\n              {deleting ? <Spinner /> : ''}\n            </Button>\n          ) : null}\n        </div>\n      </div>\n    </article>\n  );\n};\n\nconst sortByOrder = <T extends { meta?: { order?: number } }>(\n  items: T[],\n): T[] =>\n  [...items].sort((a, b) => {\n    const left = typeof a.meta?.order === 'number' ? a.meta.order : 0;\n    const right = typeof b.meta?.order === 'number' ? b.meta.order : 0;\n    return left - right;\n  });\n\nconst useDraftMap = <TItem extends CollectionItem, TDraft>(\n  items: TItem[],\n  selector: (item: TItem) => TDraft,\n) => {\n  const [draft, setDraft] = React.useState<Record<string, TDraft>>({});\n\n  React.useEffect(() => {\n    setDraft((prev) => {\n      let changed = false;\n      const next: Record<string, TDraft> = { ...prev };\n      const itemNames = new Set(items.map((item) => item.name));\n\n      items.forEach((item) => {\n        const key = item.name;\n        if (!(key in prev)) {\n          next[key] = selector(item);\n          changed = true;\n        }\n      });\n\n      Object.keys(prev).forEach((key) => {\n        if (!itemNames.has(key)) {\n          delete next[key];\n          changed = true;\n        }\n      });\n\n      return changed ? next : prev;\n    });\n  }, [items, selector]);\n\n  return [draft, setDraft] as const;\n};\n\nconst TaskSettingsTab: React.FC<TaskSettingsTabProps> = ({\n  fields,\n  types,\n  loading,\n  onSaveField,\n  onDeleteField,\n  onSaveType,\n  onDeleteType,\n}) => {\n  const selectFieldDraft = React.useCallback(\n    (item: TaskFieldItem) =>\n      item.value?.trim() || item.meta?.defaultLabel || item.name,\n    [],\n  );\n  const selectTypeDraft = React.useCallback(\n    (item: TaskTypeItem) => ({\n      label: item.value?.trim() || item.meta?.defaultLabel || item.name,\n      url:\n        typeof item.meta?.tg_theme_url === 'string'\n          ? item.meta.tg_theme_url\n          : '',\n      photosUrl:\n        typeof item.meta?.tg_photos_url === 'string'\n          ? item.meta.tg_photos_url\n          : '',\n    }),\n    [],\n  );\n\n  const [fieldDrafts, setFieldDrafts] = useDraftMap(fields, selectFieldDraft);\n  const [typeDrafts, setTypeDrafts] = useDraftMap(types, selectTypeDraft);\n  const [savingField, setSavingField] = React.useState<string | null>(null);\n  const [savingType, setSavingType] = React.useState<string | null>(null);\n  const [deletingField, setDeletingField] = React.useState<string | null>(null);\n  const [deletingType, setDeletingType] = React.useState<string | null>(null);\n  const [fieldErrors, setFieldErrors] = React.useState<Record<string, string>>(\n    {},\n  );\n  const [typeErrors, setTypeErrors] = React.useState<Record<string, string>>(\n    {},\n  );\n\n  const sortedFields = React.useMemo(() => sortByOrder(fields), [fields]);\n  const sortedTypes = React.useMemo(() => sortByOrder(types), [types]);\n\n  const handleFieldChange = (name: string, value: string) => {\n    setFieldDrafts((prev) => ({ ...prev, [name]: value }));\n    setFieldErrors((prev) => ({ ...prev, [name]: '' }));\n  };\n\n  const handleTypeChange = (\n    name: string,\n    patch: Partial<{ label: string; url: string; photosUrl: string }>,\n  ) => {\n    setTypeDrafts((prev) => ({\n      ...prev,\n      [name]: {\n        label: prev[name]?.label ?? '',\n        url: prev[name]?.url ?? '',\n        photosUrl: prev[name]?.photosUrl ?? '',\n        ...patch,\n      },\n    }));\n    setTypeErrors((prev) => ({ ...prev, [name]: '' }));\n  };\n\n  const saveField = async (item: TaskFieldItem) => {\n    const value = fieldDrafts[item.name] ?? '';\n    setSavingField(item.name);\n    setFieldErrors((prev) => ({ ...prev, [item.name]: '' }));\n    try {\n      await onSaveField(item, value);\n      setFieldDrafts((prev) => ({\n        ...prev,\n        [item.name]: value,\n      }));\n    } catch (err) {\n      const message = err instanceof Error ? err.message : String(err);\n      setFieldErrors((prev) => ({ ...prev, [item.name]: message }));\n      throw err;\n    } finally {\n      setSavingField((prev) => (prev === item.name ? null : prev));\n    }\n  };\n\n  const deleteField = async (item: TaskFieldItem) => {\n    if (item.meta?.virtual) {\n      return;\n    }\n    setDeletingField(item.name);\n    setFieldErrors((prev) => ({ ...prev, [item.name]: '' }));\n    try {\n      await onDeleteField(item);\n    } catch (err) {\n      const message = err instanceof Error ? err.message : String(err);\n      setFieldErrors((prev) => ({ ...prev, [item.name]: message }));\n      throw err;\n    } finally {\n      setDeletingField((prev) => (prev === item.name ? null : prev));\n    }\n  };\n\n  const revertFieldDraft = (item: TaskFieldItem) => {\n    setFieldDrafts((prev) => ({\n      ...prev,\n      [item.name]: selectFieldDraft(item),\n    }));\n    setFieldErrors((prev) => ({ ...prev, [item.name]: '' }));\n  };\n\n  const saveType = async (item: TaskTypeItem) => {\n    const draft = typeDrafts[item.name] ?? {\n      label: '',\n      url: '',\n      photosUrl: '',\n    };\n    setSavingType(item.name);\n    setTypeErrors((prev) => ({ ...prev, [item.name]: '' }));\n    try {\n      await onSaveType(item, {\n        label: draft.label,\n        tg_theme_url: draft.url,\n        tg_photos_url: draft.photosUrl,\n      });\n      setTypeDrafts((prev) => ({\n        ...prev,\n        [item.name]: {\n          label: draft.label,\n          url: draft.url,\n          photosUrl: draft.photosUrl,\n        },\n      }));\n    } catch (err) {\n      const message = err instanceof Error ? err.message : String(err);\n      setTypeErrors((prev) => ({ ...prev, [item.name]: message }));\n      throw err;\n    } finally {\n      setSavingType((prev) => (prev === item.name ? null : prev));\n    }\n  };\n\n  const deleteType = async (item: TaskTypeItem) => {\n    if (item.meta?.virtual) {\n      return;\n    }\n    setDeletingType(item.name);\n    setTypeErrors((prev) => ({ ...prev, [item.name]: '' }));\n    try {\n      await onDeleteType(item);\n    } catch (err) {\n      const message = err instanceof Error ? err.message : String(err);\n      setTypeErrors((prev) => ({ ...prev, [item.name]: message }));\n      throw err;\n    } finally {\n      setDeletingType((prev) => (prev === item.name ? null : prev));\n    }\n  };\n\n  const revertTypeDraft = (item: TaskTypeItem) => {\n    setTypeDrafts((prev) => ({\n      ...prev,\n      [item.name]: selectTypeDraft(item),\n    }));\n    setTypeErrors((prev) => ({ ...prev, [item.name]: '' }));\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <section className={SECTION_GAP}>\n        <header className=\"space-y-1\">\n          <h3 className=\"text-lg font-semibold text-slate-900 dark:text-slate-100\">\n             \n          </h3>\n          <p className=\"text-sm text-slate-500 dark:text-slate-400\">\n              ,     \n            .\n          </p>\n        </header>\n        {loading && !sortedFields.length ? (\n          <div className=\"flex items-center justify-center py-6\">\n            <Spinner />\n          </div>\n        ) : (\n          <div className=\"grid gap-4 lg:grid-cols-2\">\n            {sortedFields.map((item) => (\n              <FieldCard\n                key={item._id}\n                item={item}\n                value={fieldDrafts[item.name] ?? ''}\n                onChange={(value) => handleFieldChange(item.name, value)}\n                onSave={() => saveField(item)}\n                onReset={() => revertFieldDraft(item)}\n                onDelete={\n                  item.meta?.virtual ? undefined : () => deleteField(item)\n                }\n                saving={savingField === item.name}\n                deleting={deletingField === item.name}\n                error={fieldErrors[item.name]}\n              />\n            ))}\n          </div>\n        )}\n      </section>\n      <section className={SECTION_GAP}>\n        <header className=\"space-y-1\">\n          <h3 className=\"text-lg font-semibold text-slate-900 dark:text-slate-100\">\n                Telegram\n          </h3>\n          <p className=\"text-sm text-slate-500 dark:text-slate-400\">\n                   , \n              Telegram      .\n          </p>\n        </header>\n        {loading && !sortedTypes.length ? (\n          <div className=\"flex items-center justify-center py-6\">\n            <Spinner />\n          </div>\n        ) : (\n          <div className=\"grid gap-4 lg:grid-cols-2\">\n            {sortedTypes.map((item) => (\n              <TypeCard\n                key={item._id}\n                item={item}\n                label={typeDrafts[item.name]?.label ?? ''}\n                url={typeDrafts[item.name]?.url ?? ''}\n                photosUrl={typeDrafts[item.name]?.photosUrl ?? ''}\n                onChangeLabel={(value) =>\n                  handleTypeChange(item.name, { label: value })\n                }\n                onChangeUrl={(value) =>\n                  handleTypeChange(item.name, { url: value })\n                }\n                onChangePhotosUrl={(value) =>\n                  handleTypeChange(item.name, { photosUrl: value })\n                }\n                onSave={() => saveType(item)}\n                onReset={() => revertTypeDraft(item)}\n                onDelete={\n                  item.meta?.virtual ? undefined : () => deleteType(item)\n                }\n                saving={savingType === item.name}\n                deleting={deletingType === item.name}\n                error={typeErrors[item.name]}\n              />\n            ))}\n          </div>\n        )}\n      </section>\n    </div>\n  );\n};\n\nexport default TaskSettingsTab;\n","// : HTTP-   .\n//  : authFetch, shared\n\nimport type { RoutePlanAnalyticsSummary, RoutePlanStatus } from 'shared';\nimport authFetch from '../utils/authFetch';\n\nexport interface RoutePlanAnalyticsParams {\n  from?: string;\n  to?: string;\n  status?: RoutePlanStatus;\n}\n\nexport async function fetchRoutePlanAnalytics(\n  params: RoutePlanAnalyticsParams = {},\n): Promise<RoutePlanAnalyticsSummary> {\n  const search = new URLSearchParams();\n  if (params.from) search.set('from', params.from);\n  if (params.to) search.set('to', params.to);\n  if (params.status) search.set('status', params.status);\n  const query = search.toString();\n  const response = await authFetch(\n    `/api/v1/analytics/route-plans/summary${query ? `?${query}` : ''}`,\n  );\n  if (!response.ok) {\n    throw new Error('     ');\n  }\n  return (await response.json()) as RoutePlanAnalyticsSummary;\n}\n\nexport default { fetchRoutePlanAnalytics };\n","// :        .\n//  : React, react-apexcharts, services/analytics\n\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport type { RoutePlanAnalyticsSummary, RoutePlanStatus } from 'shared';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { fetchRoutePlanAnalytics } from '../services/analytics';\n\nconst ReactApexChart = React.lazy(() => import('react-apexcharts'));\n\nconst DAY_MS = 24 * 60 * 60 * 1000;\n\nconst toDateInput = (date: Date): string => {\n  const iso = new Date(date.getTime() - date.getTimezoneOffset() * 60000)\n    .toISOString()\n    .slice(0, 10);\n  return iso;\n};\n\nconst defaultTo = toDateInput(new Date());\nconst defaultFrom = toDateInput(new Date(Date.now() - DAY_MS * 29));\n\ntype DashboardFilters = {\n  from: string;\n  to: string;\n  status: RoutePlanStatus | 'all';\n};\n\nconst statusOptions: Array<{ value: RoutePlanStatus | 'all'; label: string }> =\n  [\n    { value: 'all', label: ' ' },\n    { value: 'draft', label: '' },\n    { value: 'approved', label: '' },\n    { value: 'completed', label: '' },\n  ];\n\nconst percentFormatter = new Intl.NumberFormat('ru-RU', {\n  style: 'percent',\n  minimumFractionDigits: 0,\n  maximumFractionDigits: 1,\n});\n\nconst numberFormatter = new Intl.NumberFormat('ru-RU', {\n  minimumFractionDigits: 0,\n  maximumFractionDigits: 1,\n});\n\nconst loadFormatter = new Intl.NumberFormat('ru-RU', {\n  minimumFractionDigits: 0,\n  maximumFractionDigits: 2,\n});\n\nconst ensureParams = (filters: DashboardFilters) => {\n  const params: Record<string, string> = {};\n  if (filters.from) params.from = filters.from;\n  if (filters.to) params.to = filters.to;\n  if (filters.status !== 'all') params.status = filters.status;\n  return params;\n};\n\nconst mapMileageSeries = (data?: RoutePlanAnalyticsSummary | null) =>\n  data?.mileage.byPeriod.map((point) => ({\n    x: point.date,\n    y: typeof point.value === 'number' ? point.value : 0,\n  })) ?? [];\n\nconst mapLoadSeries = (data?: RoutePlanAnalyticsSummary | null) =>\n  data?.load.byPeriod.map((point) => ({\n    x: point.date,\n    y: typeof point.value === 'number' ? point.value : null,\n  })) ?? [];\n\nconst mapSlaSeries = (data?: RoutePlanAnalyticsSummary | null) =>\n  data?.sla.byPeriod.map((point) => ({\n    x: point.date,\n    y:\n      typeof point.rate === 'number'\n        ? Number((point.rate * 100).toFixed(2))\n        : null,\n  })) ?? [];\n\nexport default function AnalyticsDashboard(): React.ReactElement {\n  const { t } = useTranslation();\n  const [filters, setFilters] = React.useState<DashboardFilters>({\n    from: defaultFrom,\n    to: defaultTo,\n    status: 'completed',\n  });\n  const [loading, setLoading] = React.useState(false);\n  const [error, setError] = React.useState<string | null>(null);\n  const [summary, setSummary] =\n    React.useState<RoutePlanAnalyticsSummary | null>(null);\n\n  const loadData = React.useCallback(\n    async (params: DashboardFilters) => {\n      setLoading(true);\n      setError(null);\n      try {\n        const response = await fetchRoutePlanAnalytics(ensureParams(params));\n        setSummary(response);\n      } catch (err) {\n        console.error('     ', err);\n        setError(t('analytics.loadError'));\n      } finally {\n        setLoading(false);\n      }\n    },\n    [t],\n  );\n\n  React.useEffect(() => {\n    void loadData(filters);\n  }, [filters, loadData]);\n\n  const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    const form = new FormData(event.currentTarget);\n    const nextFilters: DashboardFilters = {\n      from: String(form.get('from') || ''),\n      to: String(form.get('to') || ''),\n      status: (form.get('status') as DashboardFilters['status']) || 'all',\n    };\n    setFilters(nextFilters);\n  };\n\n  const handleReset = () => {\n    const initial: DashboardFilters = {\n      from: defaultFrom,\n      to: defaultTo,\n      status: 'completed',\n    };\n    setFilters(initial);\n  };\n\n  const mileageSeries = React.useMemo(\n    () => mapMileageSeries(summary),\n    [summary],\n  );\n  const loadSeries = React.useMemo(() => mapLoadSeries(summary), [summary]);\n  const slaSeries = React.useMemo(() => mapSlaSeries(summary), [summary]);\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"space-y-3\">\n        <h1 className=\"text-2xl font-semibold\">{t('analytics.title')}</h1>\n        <p className=\"text-sm text-slate-600 dark:text-slate-300\">\n          {t('analytics.description')}\n        </p>\n      </div>\n      <form\n        onSubmit={handleSubmit}\n        className=\"flex flex-wrap items-end gap-3 rounded-lg bg-white p-4 shadow-sm dark:bg-slate-900\"\n      >\n        <label className=\"flex flex-col text-sm text-slate-700 dark:text-slate-200\">\n          {t('analytics.filters.from')}\n          <Input type=\"date\" name=\"from\" defaultValue={filters.from} />\n        </label>\n        <label className=\"flex flex-col text-sm text-slate-700 dark:text-slate-200\">\n          {t('analytics.filters.to')}\n          <Input type=\"date\" name=\"to\" defaultValue={filters.to} />\n        </label>\n        <label className=\"flex flex-col text-sm text-slate-700 dark:text-slate-200\">\n          {t('analytics.filters.status')}\n          <select\n            name=\"status\"\n            defaultValue={filters.status}\n            className=\"mt-1 w-48 rounded-md border border-slate-300 bg-white px-3 py-2 text-sm focus:border-slate-400 focus:outline-none focus:ring-2 focus:ring-primary/60 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-100\"\n          >\n            {statusOptions.map((option) => (\n              <option key={option.value} value={option.value}>\n                {t(`analytics.status.${option.value}`)}\n              </option>\n            ))}\n          </select>\n        </label>\n        <div className=\"flex flex-wrap gap-2\">\n          <Button type=\"submit\" disabled={loading}>\n            {loading ? t('analytics.loading') : t('analytics.apply')}\n          </Button>\n          <Button type=\"button\" variant=\"outline\" onClick={handleReset}>\n            {t('analytics.reset')}\n          </Button>\n        </div>\n      </form>\n      {error ? (\n        <div className=\"rounded-lg border border-red-200 bg-red-50 p-4 text-sm text-red-600 dark:border-red-800 dark:bg-red-900/30 dark:text-red-200\">\n          {error}\n        </div>\n      ) : null}\n      <section className=\"grid gap-4 md:grid-cols-3\">\n        <article className=\"rounded-lg bg-white p-4 shadow-sm dark:bg-slate-900\">\n          <h2 className=\"text-sm font-medium text-slate-500 dark:text-slate-300\">\n            {t('analytics.cards.mileage')}\n          </h2>\n          <p className=\"mt-2 text-2xl font-semibold\">\n            {numberFormatter.format(summary?.mileage.total ?? 0)} \n          </p>\n          <p className=\"mt-1 text-xs text-slate-500 dark:text-slate-400\">\n            {t('analytics.cards.period', {\n              from: summary?.period.from ?? filters.from,\n              to: summary?.period.to ?? filters.to,\n            })}\n          </p>\n        </article>\n        <article className=\"rounded-lg bg-white p-4 shadow-sm dark:bg-slate-900\">\n          <h2 className=\"text-sm font-medium text-slate-500 dark:text-slate-300\">\n            {t('analytics.cards.load')}\n          </h2>\n          <p className=\"mt-2 text-2xl font-semibold\">\n            {typeof summary?.load.average === 'number'\n              ? `${loadFormatter.format(summary.load.average)} `\n              : t('analytics.noData')}\n          </p>\n          <p className=\"mt-1 text-xs text-slate-500 dark:text-slate-400\">\n            {t('analytics.cards.loadHint')}\n          </p>\n        </article>\n        <article className=\"rounded-lg bg-white p-4 shadow-sm dark:bg-slate-900\">\n          <h2 className=\"text-sm font-medium text-slate-500 dark:text-slate-300\">\n            SLA\n          </h2>\n          <p className=\"mt-2 text-2xl font-semibold\">\n            {typeof summary?.sla.average === 'number'\n              ? percentFormatter.format(summary.sla.average)\n              : t('analytics.noData')}\n          </p>\n          <p className=\"mt-1 text-xs text-slate-500 dark:text-slate-400\">\n            {t('analytics.cards.slaHint')}\n          </p>\n        </article>\n      </section>\n      <section className=\"grid gap-4 lg:grid-cols-3\">\n        <div className=\"space-y-2 rounded-lg bg-white p-4 shadow-sm dark:bg-slate-900 lg:col-span-3\">\n          <h3 className=\"text-base font-semibold text-slate-700 dark:text-slate-200\">\n            {t('analytics.charts.mileage')}\n          </h3>\n          <React.Suspense fallback={<div>{t('analytics.loading')}</div>}>\n            <ReactApexChart\n              type=\"area\"\n              height={280}\n              series={[\n                { name: t('analytics.cards.mileage'), data: mileageSeries },\n              ]}\n              options={{\n                chart: {\n                  id: 'analytics-mileage',\n                  animations: { enabled: false },\n                },\n                dataLabels: { enabled: false },\n                stroke: { curve: 'smooth', width: 2 },\n                xaxis: { type: 'category' },\n                yaxis: {\n                  labels: {\n                    formatter: (value: number) => numberFormatter.format(value),\n                  },\n                },\n                tooltip: {\n                  y: {\n                    formatter: (value: number) =>\n                      `${numberFormatter.format(value)} `,\n                  },\n                },\n              }}\n            />\n          </React.Suspense>\n        </div>\n        <div className=\"space-y-2 rounded-lg bg-white p-4 shadow-sm dark:bg-slate-900\">\n          <h3 className=\"text-base font-semibold text-slate-700 dark:text-slate-200\">\n            {t('analytics.charts.load')}\n          </h3>\n          <React.Suspense fallback={<div>{t('analytics.loading')}</div>}>\n            <ReactApexChart\n              type=\"bar\"\n              height={280}\n              series={[{ name: t('analytics.cards.load'), data: loadSeries }]}\n              options={{\n                chart: { id: 'analytics-load', animations: { enabled: false } },\n                dataLabels: { enabled: false },\n                xaxis: { type: 'category' },\n                yaxis: {\n                  labels: {\n                    formatter: (value: number) =>\n                      `${loadFormatter.format(value)} `,\n                  },\n                },\n                tooltip: {\n                  y: {\n                    formatter: (value: number) =>\n                      `${loadFormatter.format(value)} `,\n                  },\n                },\n              }}\n            />\n          </React.Suspense>\n        </div>\n        <div className=\"space-y-2 rounded-lg bg-white p-4 shadow-sm dark:bg-slate-900\">\n          <h3 className=\"text-base font-semibold text-slate-700 dark:text-slate-200\">\n            {t('analytics.charts.sla')}\n          </h3>\n          <React.Suspense fallback={<div>{t('analytics.loading')}</div>}>\n            <ReactApexChart\n              type=\"line\"\n              height={280}\n              series={[{ name: 'SLA', data: slaSeries }]}\n              options={{\n                chart: { id: 'analytics-sla', animations: { enabled: false } },\n                dataLabels: { enabled: false },\n                stroke: { curve: 'straight', width: 2 },\n                markers: { size: 4 },\n                xaxis: { type: 'category' },\n                yaxis: {\n                  min: 0,\n                  max: 100,\n                  tickAmount: 5,\n                  labels: {\n                    formatter: (value: number) =>\n                      percentFormatter.format(value / 100),\n                  },\n                },\n                tooltip: {\n                  y: {\n                    formatter: (value: number) =>\n                      percentFormatter.format(value / 100),\n                  },\n                },\n              }}\n            />\n          </React.Suspense>\n        </div>\n      </section>\n    </div>\n  );\n}\n","// :   healthcheck API\n//  : authFetch\nimport authFetch from '../utils/authFetch';\n\nexport type StackCheckStatus = 'ok' | 'warn' | 'error';\n\nexport type StackCheckResult = {\n  name: string;\n  status: StackCheckStatus;\n  durationMs?: number;\n  message?: string;\n  meta?: Record<string, unknown>;\n};\n\nexport type StackHealthResponse = {\n  ok: boolean;\n  timestamp: string;\n  results: StackCheckResult[];\n};\n\nconst isStackCheckResult = (value: unknown): value is StackCheckResult => {\n  if (!value || typeof value !== 'object') return false;\n  const candidate = value as { name?: unknown; status?: unknown };\n  return (\n    typeof candidate.name === 'string' &&\n    (candidate.status === 'ok' ||\n      candidate.status === 'warn' ||\n      candidate.status === 'error')\n  );\n};\n\nexport async function runStackHealthCheck(): Promise<StackHealthResponse> {\n  const response = await authFetch('/api/v1/system/health/run', {\n    method: 'POST',\n  });\n\n  if (!response.ok) {\n    const text = await response.text();\n    throw new Error(`Healthcheck : ${response.status} ${text}`);\n  }\n\n  const payload = (await response.json()) as unknown;\n  if (!payload || typeof payload !== 'object') {\n    throw new Error('  healthcheck');\n  }\n\n  const { ok, timestamp, results } = payload as Record<string, unknown>;\n  if (\n    typeof ok !== 'boolean' ||\n    typeof timestamp !== 'string' ||\n    !Array.isArray(results)\n  ) {\n    throw new Error('  healthcheck');\n  }\n\n  const parsedResults = results.filter(isStackCheckResult);\n  return {\n    ok,\n    timestamp,\n    results: parsedResults,\n  } satisfies StackHealthResponse;\n}\n","// :     \n//  : React, services/healthcheck, ui/button\nimport React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport {\n  ArrowPathIcon,\n  PauseIcon,\n  PlayIcon,\n} from '@heroicons/react/24/outline';\nimport { Button } from '../../components/ui/button';\nimport {\n  runStackHealthCheck,\n  type StackCheckResult,\n  type StackCheckStatus,\n} from '../../services/healthcheck';\n\nconst statusColors: Record<StackCheckStatus, string> = {\n  ok: 'bg-emerald-50 text-emerald-700 ring-1 ring-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-200 dark:ring-emerald-700',\n  warn: 'bg-amber-50 text-amber-700 ring-1 ring-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:ring-amber-700',\n  error:\n    'bg-rose-50 text-rose-700 ring-1 ring-rose-200 dark:bg-rose-900/30 dark:text-rose-200 dark:ring-rose-700',\n};\n\nconst statusLabels: Record<StackCheckStatus, string> = {\n  ok: 'OK',\n  warn: '',\n  error: '',\n};\n\nconst SHORT_INTERVAL_MS = 60_000;\n\nconst formatDateTime = (value: string | null): string => {\n  if (!value) return '  ';\n  const parsed = new Date(value);\n  if (Number.isNaN(parsed.getTime())) return value;\n  return parsed.toLocaleString('ru-RU');\n};\n\nconst extractHint = (meta?: Record<string, unknown>): string | null => {\n  if (!meta) return null;\n  const hint = meta.hint;\n  return typeof hint === 'string' ? hint : null;\n};\n\nexport default function HealthCheckTab(): JSX.Element {\n  const [results, setResults] = useState<StackCheckResult[]>([]);\n  const [lastRun, setLastRun] = useState<string | null>(null);\n  const [auto, setAuto] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const timerRef = useRef<number | null>(null);\n\n  const sortedResults = useMemo(\n    () => [...results].sort((a, b) => a.name.localeCompare(b.name, 'ru-RU')),\n    [results],\n  );\n\n  const runCheck = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const report = await runStackHealthCheck();\n      setResults(report.results);\n      setLastRun(report.timestamp);\n    } catch (err: unknown) {\n      const message = err instanceof Error ? err.message : ' ';\n      setError(message);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (auto) {\n      void runCheck();\n      timerRef.current = window.setInterval(() => {\n        void runCheck();\n      }, SHORT_INTERVAL_MS);\n    }\n    return () => {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n        timerRef.current = null;\n      }\n    };\n  }, [auto, runCheck]);\n\n  return (\n    <div className=\"flex flex-col gap-4\">\n      <div className=\"flex flex-wrap items-center gap-3\">\n        <Button\n          type=\"button\"\n          variant=\"success\"\n          size=\"sm\"\n          className=\"gap-2\"\n          disabled={loading}\n          onClick={() => void runCheck()}\n        >\n          {loading ? (\n            <ArrowPathIcon className=\"h-4 w-4 animate-spin\" />\n          ) : (\n            <PlayIcon className=\"h-4 w-4\" />\n          )}\n           \n        </Button>\n        <label className=\"inline-flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-200\">\n          <input\n            type=\"checkbox\"\n            className=\"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500 dark:border-slate-600\"\n            checked={auto}\n            onChange={(event) => setAuto(event.target.checked)}\n          />\n          <span className=\"flex items-center gap-1\">\n            {auto ? (\n              <PauseIcon className=\"h-4 w-4\" />\n            ) : (\n              <PlayIcon className=\"h-4 w-4\" />\n            )}\n               60 \n          </span>\n        </label>\n        <span className=\"text-sm text-slate-600 dark:text-slate-300\">\n           : {formatDateTime(lastRun)}\n        </span>\n      </div>\n\n      {error ? (\n        <div className=\"rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700 dark:border-rose-700 dark:bg-rose-900/40 dark:text-rose-100\">\n          {error}\n        </div>\n      ) : null}\n\n      <div className=\"overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm dark:border-slate-700 dark:bg-slate-900\">\n        <div className=\"grid grid-cols-[1fr_auto_auto_2fr] items-center gap-2 bg-slate-50 px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-slate-600 dark:bg-slate-800 dark:text-slate-300\">\n          <span></span>\n          <span></span>\n          <span></span>\n          <span></span>\n        </div>\n        {sortedResults.length === 0 ? (\n          <div className=\"px-4 py-5 text-sm text-slate-600 dark:text-slate-300\">\n              \n          </div>\n        ) : (\n          <ul className=\"divide-y divide-slate-200 dark:divide-slate-800\">\n            {sortedResults.map((item) => (\n              <li\n                key={item.name}\n                className=\"grid grid-cols-[1fr_auto_auto_2fr] items-start gap-2 px-4 py-3 text-sm text-slate-800 dark:text-slate-100\"\n              >\n                <div className=\"font-semibold capitalize\">{item.name}</div>\n                <div>\n                  <span\n                    className={`inline-flex items-center gap-1 rounded-full px-2 py-1 text-xs font-semibold ${statusColors[item.status]}`}\n                  >\n                    {statusLabels[item.status]}\n                  </span>\n                </div>\n                <div className=\"text-xs text-slate-500 dark:text-slate-300\">\n                  {typeof item.durationMs === 'number'\n                    ? `${item.durationMs} `\n                    : ''}\n                </div>\n                <div className=\"space-y-2 text-xs text-slate-700 dark:text-slate-200\">\n                  {item.message ? (\n                    <div className=\"font-medium text-rose-600 dark:text-rose-200\">\n                      {item.message}\n                    </div>\n                  ) : null}\n                  {extractHint(item.meta) ? (\n                    <div className=\"rounded-xl border border-amber-200 bg-amber-50 px-3 py-2 font-medium text-amber-800 dark:border-amber-600 dark:bg-amber-900/40 dark:text-amber-100\">\n                       : {extractHint(item.meta)}\n                    </div>\n                  ) : null}\n                  {item.meta ? (\n                    <pre className=\"overflow-x-auto whitespace-pre-wrap rounded-xl bg-slate-50 p-3 text-[13px] leading-5 text-slate-800 ring-1 ring-slate-200 dark:bg-slate-800 dark:text-slate-100 dark:ring-slate-700\">\n                      {JSON.stringify(item.meta, null, 2)}\n                    </pre>\n                  ) : null}\n                </div>\n              </li>\n            ))}\n          </ul>\n        )}\n      </div>\n    </div>\n  );\n}\n","//  :     \n//  : @tanstack/react-table, services/collections\nimport type { ColumnDef } from '@tanstack/react-table';\nimport type { CollectionItem } from '../services/collections';\n\nexport interface CollectionTableRow extends CollectionItem {\n  displayValue: string;\n  metaSummary: string;\n  address?: string;\n  coordinates?: string;\n}\n\nexport const collectionColumns: ColumnDef<CollectionTableRow>[] = [\n  {\n    accessorKey: 'name',\n    header: '',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'value',\n    header: '',\n    meta: { minWidth: '8rem', maxWidth: '20rem' },\n  },\n  {\n    accessorKey: 'displayValue',\n    header: ' ',\n    meta: { minWidth: '10rem', maxWidth: '24rem' },\n  },\n  {\n    accessorKey: 'type',\n    header: '',\n    meta: { minWidth: '6rem', maxWidth: '12rem' },\n  },\n  {\n    accessorKey: '_id',\n    header: '',\n    meta: { minWidth: '10rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'metaSummary',\n    header: '. ',\n    meta: { minWidth: '10rem', maxWidth: '24rem' },\n  },\n];\n\nexport const collectionObjectColumns: ColumnDef<CollectionTableRow>[] = [\n  {\n    accessorKey: 'name',\n    header: '',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'address',\n    header: '',\n    meta: { minWidth: '10rem', maxWidth: '20rem' },\n  },\n  {\n    accessorKey: 'coordinates',\n    header: '',\n    meta: { minWidth: '8rem', maxWidth: '14rem' },\n  },\n  {\n    accessorKey: '_id',\n    header: '',\n    meta: { minWidth: '10rem', maxWidth: '16rem' },\n  },\n];\n","//  :     \n//  : @tanstack/react-table, types/user\nimport type { ColumnDef } from '@tanstack/react-table';\nimport type { User } from '../types/user';\nimport { formatRoleName } from '../utils/roleDisplay';\n\nexport const settingsUserColumns: ColumnDef<User>[] = [\n  {\n    accessorKey: 'telegram_id',\n    header: 'Telegram ID',\n    meta: { minWidth: '8rem' },\n  },\n  {\n    accessorKey: 'username',\n    header: '',\n    cell: ({ row }) =>\n      row.original.telegram_username ?? row.original.username ?? '',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'name',\n    header: '',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'phone',\n    header: '',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'mobNumber',\n    header: '. ',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'email',\n    header: 'E-mail',\n    meta: { minWidth: '10rem', maxWidth: '20rem' },\n  },\n  {\n    accessorKey: 'role',\n    header: '',\n    cell: ({ getValue }) => formatRoleName(getValue<string | undefined>()),\n    meta: { minWidth: '6rem', maxWidth: '12rem' },\n  },\n  {\n    accessorKey: 'access',\n    header: '',\n    cell: ({ getValue }) => String(getValue<number | undefined>() ?? ''),\n    meta: { minWidth: '6rem', maxWidth: '10rem' },\n  },\n  {\n    accessorKey: 'roleId',\n    header: ' ID',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'departmentId',\n    header: '',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'divisionId',\n    header: '',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'positionId',\n    header: '',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n];\n","//  :       \n//  : @tanstack/react-table, types/user\nimport type { ColumnDef } from '@tanstack/react-table';\nimport type { User } from '../types/user';\nimport { formatRoleName } from '../utils/roleDisplay';\n\nexport interface EmployeeRow extends User {\n  roleName: string;\n  departmentName: string;\n  divisionName: string;\n  positionName: string;\n}\n\nconst renderAccess = (value: number | undefined) =>\n  value === undefined || value === null ? '' : String(value);\n\nexport const settingsEmployeeColumns: ColumnDef<EmployeeRow>[] = [\n  {\n    accessorKey: 'telegram_id',\n    header: 'Telegram ID',\n    meta: { minWidth: '8rem' },\n  },\n  {\n    accessorKey: 'username',\n    header: '',\n    cell: ({ row }) =>\n      row.original.telegram_username ?? row.original.username ?? '',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'name',\n    header: '',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'phone',\n    header: '',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'mobNumber',\n    header: '. ',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'email',\n    header: 'E-mail',\n    meta: { minWidth: '10rem', maxWidth: '20rem' },\n  },\n  {\n    accessorKey: 'role',\n    header: '',\n    cell: ({ getValue }) => formatRoleName(getValue<string | undefined>()),\n    meta: { minWidth: '6rem', maxWidth: '12rem' },\n  },\n  {\n    accessorKey: 'access',\n    header: '',\n    cell: ({ getValue }) => renderAccess(getValue<number | undefined>()),\n    meta: { minWidth: '6rem', maxWidth: '10rem' },\n  },\n  {\n    accessorKey: 'roleId',\n    header: ' ID',\n    cell: ({ row }) => formatRoleName(row.original.roleName),\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'departmentId',\n    header: '',\n    cell: ({ row }) => row.original.departmentName || '',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'divisionId',\n    header: '',\n    cell: ({ row }) => row.original.divisionName || '',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n  {\n    accessorKey: 'positionId',\n    header: '',\n    cell: ({ row }) => row.original.positionName || '',\n    meta: { minWidth: '8rem', maxWidth: '16rem' },\n  },\n];\n","// :       EmployeeRow\n//  : types/user\nimport type { EmployeeRow } from '../columns/settingsEmployeeColumns';\nimport type { User } from '../types/user';\n\nconst normalizeString = (value: unknown): string | undefined => {\n  if (typeof value !== 'string') return undefined;\n  const trimmed = value.trim();\n  return trimmed.length ? trimmed : undefined;\n};\n\nconst normalizeNumber = (value: unknown): number | undefined =>\n  typeof value === 'number' && Number.isFinite(value) ? value : undefined;\n\nconst normalizeStringArray = (value: unknown): string[] | undefined => {\n  if (!Array.isArray(value)) return undefined;\n  return value\n    .filter((item): item is string => typeof item === 'string')\n    .map((item) => item.trim())\n    .filter((item) => item.length > 0);\n};\n\nexport type EmployeeRowSource = User & {\n  roleName?: string | null;\n  departmentName?: string | null;\n  divisionName?: string | null;\n  positionName?: string | null;\n};\n\nexport const buildEmployeeRow = (source: EmployeeRowSource): EmployeeRow => {\n  const row: Partial<EmployeeRow> = {\n    roleName: normalizeString(source.roleName) ?? '',\n    departmentName: normalizeString(source.departmentName) ?? '',\n    divisionName: normalizeString(source.divisionName) ?? '',\n    positionName: normalizeString(source.positionName) ?? '',\n  };\n\n  const assignString = <K extends keyof EmployeeRow>(key: K, raw: unknown) => {\n    const normalized = normalizeString(raw);\n    if (normalized !== undefined) {\n      row[key] = normalized as EmployeeRow[K];\n    }\n  };\n\n  const assignNumber = <K extends keyof EmployeeRow>(key: K, raw: unknown) => {\n    const normalized = normalizeNumber(raw);\n    if (normalized !== undefined) {\n      row[key] = normalized as EmployeeRow[K];\n    }\n  };\n\n  assignString('id', source.id);\n  assignNumber('telegram_id', source.telegram_id);\n  assignString('telegram_username', source.telegram_username);\n  assignString('username', source.username);\n  assignString('name', source.name);\n  assignString('phone', source.phone);\n  assignString('mobNumber', source.mobNumber);\n  assignString('email', source.email);\n  assignString('role', source.role);\n  assignNumber('access', source.access);\n  const permissions = normalizeStringArray(source.permissions);\n  if (permissions !== undefined) {\n    row.permissions = permissions;\n  }\n  assignString('roleId', source.roleId);\n  assignString('roleName', row.roleName);\n  assignString('departmentId', source.departmentId);\n  assignString('departmentName', row.departmentName);\n  assignString('divisionId', source.divisionId);\n  assignString('divisionName', row.divisionName);\n  assignString('positionId', source.positionId);\n  assignString('positionName', row.positionName);\n\n  return row as EmployeeRow;\n};\n","// :   \n//  : React, ConfirmDialog\nimport React from 'react';\n\nimport { Button } from '@/components/ui/button';\nimport ConfirmDialog from '../../components/ConfirmDialog';\nimport {\n  fetchCollectionItems,\n  type CollectionItem,\n} from '../../services/collections';\nimport { fetchRoles } from '../../services/roles';\nimport { ROLE_OPTIONS } from '../../utils/roleDisplay';\n\nexport interface UserFormData {\n  telegram_id?: number;\n  username: string;\n  name?: string;\n  phone?: string;\n  mobNumber?: string;\n  email?: string;\n  role?: string;\n  access?: number;\n  roleId?: string;\n  departmentId?: string;\n  divisionId?: string;\n  positionId?: string;\n}\n\ninterface Props {\n  form: UserFormData;\n  onChange: (form: UserFormData) => void;\n  onSubmit: () => void;\n  onReset: () => void;\n}\n\ninterface Role {\n  _id: string;\n  name: string;\n  access: number;\n}\n\nexport default function UserForm({ form, onChange, onSubmit, onReset }: Props) {\n  const [confirmSave, setConfirmSave] = React.useState(false);\n  const [departments, setDepartments] = React.useState<CollectionItem[]>([]);\n  const [divisions, setDivisions] = React.useState<CollectionItem[]>([]);\n  const [positions, setPositions] = React.useState<CollectionItem[]>([]);\n  const [roles, setRoles] = React.useState<Role[]>([]);\n\n  React.useEffect(() => {\n    fetchCollectionItems('departments', '', 1, 100)\n      .then((d) => setDepartments(d.items))\n      .catch(() => setDepartments([]));\n    fetchCollectionItems('divisions', '', 1, 100)\n      .then((d) => setDivisions(d.items))\n      .catch(() => setDivisions([]));\n    fetchCollectionItems('positions', '', 1, 100)\n      .then((d) => setPositions(d.items))\n      .catch(() => setPositions([]));\n    fetchRoles().then((r) => setRoles(r));\n  }, []);\n\n  const handleRoleChange = (value: string) => {\n    const r = roles.find((x) => x.name === value);\n    onChange({\n      ...form,\n      role: value,\n      roleId: r?._id,\n      access: r?.access ?? 1,\n    });\n  };\n\n  const submit = (e: React.FormEvent) => {\n    e.preventDefault();\n    setConfirmSave(true);\n  };\n  return (\n    <form onSubmit={submit} className=\"space-y-2\">\n      <div>\n        <label className=\"block text-sm font-medium\">ID</label>\n        <input\n          id=\"settings-user-telegram-id\"\n          name=\"telegramId\"\n          className=\"h-10 w-full rounded border px-3\"\n          value={form.telegram_id ?? ''}\n          onChange={(e) =>\n            onChange({\n              ...form,\n              telegram_id: e.target.value ? Number(e.target.value) : undefined,\n            })\n          }\n          readOnly={!!form.telegram_id}\n          required\n        />\n      </div>\n      <div>\n        <label className=\"block text-sm font-medium\">Username</label>\n        <input\n          id=\"settings-user-username\"\n          name=\"username\"\n          className=\"h-10 w-full rounded border px-3\"\n          value={form.username || ''}\n          onChange={(e) => onChange({ ...form, username: e.target.value })}\n          readOnly={!!form.telegram_id}\n        />\n      </div>\n      <div>\n        <label className=\"block text-sm font-medium\"></label>\n        <input\n          id=\"settings-user-name\"\n          name=\"name\"\n          className=\"h-10 w-full rounded border px-3\"\n          value={form.name || ''}\n          onChange={(e) => onChange({ ...form, name: e.target.value })}\n        />\n      </div>\n      <div>\n        <label className=\"block text-sm font-medium\"></label>\n        <input\n          id=\"settings-user-phone\"\n          name=\"phone\"\n          className=\"h-10 w-full rounded border px-3\"\n          value={form.phone || ''}\n          onChange={(e) => onChange({ ...form, phone: e.target.value })}\n        />\n      </div>\n      <div>\n        <label className=\"block text-sm font-medium\">. </label>\n        <input\n          id=\"settings-user-mob\"\n          name=\"mobNumber\"\n          className=\"h-10 w-full rounded border px-3\"\n          value={form.mobNumber || ''}\n          onChange={(e) => onChange({ ...form, mobNumber: e.target.value })}\n        />\n      </div>\n      <div>\n        <label className=\"block text-sm font-medium\">Email</label>\n        <input\n          id=\"settings-user-email\"\n          name=\"email\"\n          className=\"h-10 w-full rounded border px-3\"\n          value={form.email || ''}\n          onChange={(e) => onChange({ ...form, email: e.target.value })}\n        />\n      </div>\n      <div>\n        <label className=\"block text-sm font-medium\"></label>\n        <select\n          className=\"h-10 w-full rounded border px-3\"\n          value={form.role || 'user'}\n          onChange={(e) => handleRoleChange(e.target.value)}\n        >\n          {ROLE_OPTIONS.map((option) => (\n            <option key={option.value} value={option.value}>\n              {option.label}\n            </option>\n          ))}\n        </select>\n      </div>\n      <div>\n        <label className=\"block text-sm font-medium\"></label>\n        <select\n          className=\"h-10 w-full rounded border px-3\"\n          value={form.departmentId || ''}\n          onChange={(e) => onChange({ ...form, departmentId: e.target.value })}\n        >\n          <option value=\"\"></option>\n          {departments.map((d) => (\n            <option key={d._id} value={d._id}>\n              {d.name}\n            </option>\n          ))}\n        </select>\n      </div>\n      <div>\n        <label className=\"block text-sm font-medium\"></label>\n        <select\n          className=\"h-10 w-full rounded border px-3\"\n          value={form.divisionId || ''}\n          onChange={(e) => onChange({ ...form, divisionId: e.target.value })}\n        >\n          <option value=\"\"></option>\n          {divisions.map((d) => (\n            <option key={d._id} value={d._id}>\n              {d.name}\n            </option>\n          ))}\n        </select>\n      </div>\n      <div>\n        <label className=\"block text-sm font-medium\"></label>\n        <select\n          className=\"h-10 w-full rounded border px-3\"\n          value={form.positionId || ''}\n          onChange={(e) => onChange({ ...form, positionId: e.target.value })}\n        >\n          <option value=\"\"></option>\n          {positions.map((p) => (\n            <option key={p._id} value={p._id}>\n              {p.name}\n            </option>\n          ))}\n        </select>\n      </div>\n      <div className=\"flex gap-2\">\n        <Button type=\"submit\"></Button>\n        <Button type=\"button\" variant=\"outline\" onClick={onReset}>\n          \n        </Button>\n      </div>\n      <ConfirmDialog\n        open={confirmSave}\n        message=\" ?\"\n        onConfirm={() => {\n          setConfirmSave(false);\n          onSubmit();\n        }}\n        onCancel={() => setConfirmSave(false)}\n        confirmText=\"\"\n      />\n    </form>\n  );\n}\n","// :    \n//  : React, match-sorter, Tabs, services/collections\nimport React, {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { matchSorter, rankings } from 'match-sorter';\nimport { useTranslation } from 'react-i18next';\nimport { z } from 'zod';\n\nimport { Button } from '@/components/ui/button';\nimport {\n  Tabs,\n  TabsList,\n  TabsTrigger,\n  TabsContent,\n} from '../../components/Tabs';\nimport ActionBar from '../../components/ActionBar';\nimport Breadcrumbs from '../../components/Breadcrumbs';\nimport CopyableId from '../../components/CopyableId';\nimport DataTable from '../../components/DataTable';\nimport Spinner from '../../components/Spinner';\nimport {\n  fetchCollectionItems,\n  fetchAllCollectionItems,\n  createCollectionItem,\n  updateCollectionItem,\n  removeCollectionItem,\n  CollectionItem,\n  toCollectionObject,\n  fetchCollectionObjects,\n} from '../../services/collections';\nimport CollectionForm, { CollectionFormState } from './CollectionForm';\nimport ConfirmDialog from '../../components/ConfirmDialog';\nimport EmployeeCardForm from '../../components/EmployeeCardForm';\nimport Modal from '../../components/Modal';\nimport FleetVehiclesTab from './FleetVehiclesTab';\nimport TaskSettingsTab from './TaskSettingsTab';\nimport AnalyticsDashboard from '../AnalyticsDashboard';\nimport ArchivePage from '../Archive';\nimport LogsPage from '../Logs';\nimport StoragePage from '../Storage';\nimport HealthCheckTab from './HealthCheckTab';\nimport {\n  collectionColumns,\n  collectionObjectColumns,\n  type CollectionTableRow,\n} from '../../columns/collectionColumns';\nimport { settingsUserColumns } from '../../columns/settingsUserColumns';\nimport {\n  settingsEmployeeColumns,\n  type EmployeeRow,\n} from '../../columns/settingsEmployeeColumns';\nimport {\n  fetchUsers,\n  createUser as createUserApi,\n  updateUser as updateUserApi,\n  deleteUser as deleteUserApi,\n  type UserDetails,\n} from '../../services/users';\nimport { fetchRoles, type Role } from '../../services/roles';\nimport { formatRoleName } from '../../utils/roleDisplay';\nimport { buildEmployeeRow } from '../../utils/employeeRow';\nimport UserForm, { UserFormData } from './UserForm';\nimport type { User } from '../../types/user';\nimport { useAuth } from '../../context/useAuth';\nimport {\n  SETTINGS_BADGE_CLASS,\n  SETTINGS_BADGE_EMPTY,\n  SETTINGS_BADGE_WRAPPER_CLASS,\n} from './badgeStyles';\nimport { hasAccess, ACCESS_ADMIN } from '../../utils/access';\nimport { showToast } from '../../utils/toast';\nimport {\n  BuildingOffice2Icon,\n  Squares2X2Icon,\n  IdentificationIcon,\n  UserGroupIcon,\n  TruckIcon,\n  KeyIcon,\n  ClipboardDocumentListIcon,\n  AdjustmentsHorizontalIcon,\n  ChartPieIcon,\n  ArchiveBoxIcon,\n  DocumentTextIcon,\n  RectangleStackIcon,\n  ShieldCheckIcon,\n  MapPinIcon,\n} from '@heroicons/react/24/outline';\n\nconst moduleTabs = [\n  {\n    key: 'directories',\n    label: '',\n    description: '   ',\n    icon: AdjustmentsHorizontalIcon,\n  },\n  {\n    key: 'reports',\n    label: '',\n    description: '   KPI',\n    icon: ChartPieIcon,\n  },\n  {\n    key: 'archive',\n    label: '',\n    description: '   ',\n    icon: ArchiveBoxIcon,\n  },\n  {\n    key: 'logs',\n    label: '',\n    description: '   ',\n    icon: DocumentTextIcon,\n  },\n  {\n    key: 'storage',\n    label: '',\n    description: ' ',\n    icon: RectangleStackIcon,\n  },\n  {\n    key: 'health',\n    label: '',\n    description: ' , Redis  MongoDB',\n    icon: ShieldCheckIcon,\n  },\n] as const;\n\ntype SettingsModuleKey = (typeof moduleTabs)[number]['key'];\n\nconst isValidModuleKey = (value: string | null): value is SettingsModuleKey =>\n  moduleTabs.some((module) => module.key === value);\n\nconst types = [\n  {\n    key: 'departments',\n    label: '',\n    description: '   ',\n  },\n  {\n    key: 'divisions',\n    label: '',\n    description: '  ',\n  },\n  {\n    key: 'positions',\n    label: '',\n    description: '   ',\n  },\n  {\n    key: 'objects',\n    label: '',\n    description: '   ',\n  },\n  {\n    key: 'employees',\n    label: '',\n    description: '   ',\n  },\n  {\n    key: 'fleets',\n    label: '',\n    description: '   ',\n  },\n  {\n    key: 'users',\n    label: '',\n    description: '   ',\n  },\n  {\n    key: 'tasks',\n    label: '',\n    description: '    ',\n  },\n] as const;\n\ntype CollectionKey = (typeof types)[number]['key'];\n\nconst createInitialQueries = (): Record<CollectionKey, string> =>\n  types.reduce(\n    (acc, type) => {\n      acc[type.key as CollectionKey] = '';\n      return acc;\n    },\n    {} as Record<CollectionKey, string>,\n  );\n\nconst emptyUser: UserFormData = {\n  telegram_id: undefined,\n  username: '',\n  name: '',\n  phone: '',\n  mobNumber: '',\n  email: '',\n  role: 'user',\n  access: 1,\n  roleId: '',\n  departmentId: '',\n  divisionId: '',\n  positionId: '',\n};\n\nconst emptyItemForm: ItemForm = {\n  name: '',\n  value: '',\n  meta: undefined,\n  address: '',\n  latitude: '',\n  longitude: '',\n};\n\nconst tabIcons: Record<\n  CollectionKey,\n  React.ComponentType<React.SVGProps<SVGSVGElement>>\n> = {\n  departments: BuildingOffice2Icon,\n  divisions: Squares2X2Icon,\n  positions: IdentificationIcon,\n  objects: MapPinIcon,\n  employees: UserGroupIcon,\n  fleets: TruckIcon,\n  users: KeyIcon,\n  tasks: ClipboardDocumentListIcon,\n};\n\nconst renderBadgeList = (items: string[]) => {\n  if (!items.length) {\n    return (\n      <span className={SETTINGS_BADGE_CLASS} title={SETTINGS_BADGE_EMPTY}>\n        {SETTINGS_BADGE_EMPTY}\n      </span>\n    );\n  }\n  return (\n    <div className={SETTINGS_BADGE_WRAPPER_CLASS}>\n      {items.map((item, index) => (\n        <span\n          key={`${item}-${index}`}\n          className={SETTINGS_BADGE_CLASS}\n          title={item}\n        >\n          {item}\n        </span>\n      ))}\n    </div>\n  );\n};\n\ntype ItemForm = CollectionFormState & { meta?: CollectionItem['meta'] };\n\nconst normalizeId = (value: string) => {\n  const trimmed = value.trim();\n  if (!trimmed) return '';\n  const withoutQuotes = trimmed.replace(/^['\"]+|['\"]+$/g, '');\n  const withoutBrackets = withoutQuotes.replace(/^\\[+|\\]+$/g, '');\n  const withoutBraces = withoutBrackets.replace(/^[{}]+|[{}]+$/g, '');\n  const withoutTrailingComma = withoutBraces.replace(/,+$/g, '');\n  return withoutTrailingComma.trim();\n};\n\nconst collectStringIds = (value: unknown): string[] => {\n  if (typeof value === 'string') {\n    return [value];\n  }\n  if (Array.isArray(value)) {\n    return value.flatMap(collectStringIds);\n  }\n  if (value && typeof value === 'object') {\n    const result: string[] = [];\n    Object.entries(value as Record<string, unknown>).forEach(([key, entry]) => {\n      if (Array.isArray(entry) || (entry && typeof entry === 'object')) {\n        result.push(...collectStringIds(entry));\n        return;\n      }\n      if (typeof entry === 'string') {\n        const trimmed = entry.trim();\n        if (!trimmed) return;\n        const lowerKey = key.toLowerCase();\n        if (lowerKey.includes('id') || !/\\s/.test(trimmed)) {\n          result.push(trimmed);\n        }\n        return;\n      }\n      if (typeof entry === 'boolean' || typeof entry === 'number') {\n        if (entry) {\n          result.push(key);\n        }\n      }\n    });\n    return result;\n  }\n  return [];\n};\n\nconst KEY_LABEL_OVERRIDES: Record<string, string> = {\n  telegram_id: 'Telegram ID',\n  telegram_username: ' Telegram',\n  username: '',\n  name: '',\n  phone: '',\n  mobNumber: '. ',\n  email: 'E-mail',\n  role: '',\n  access: '',\n  roleId: ' ID',\n  departmentId: '',\n  departmentName: '',\n  divisionId: '',\n  divisionName: '',\n  positionId: '',\n  positionName: '',\n  permissions: '',\n  fleetId: '',\n  source: '',\n  sourceId: 'ID ',\n  readonly: ' ',\n  readonlyReason: ' ',\n  invalid: '',\n  invalidReason: ' ',\n  invalidCode: ' ',\n  invalidAt: ' ',\n  syncPending: ' ',\n  syncWarning: '',\n  syncError: ' ',\n  syncFailedAt: ' ',\n  defaultLabel: '  ',\n  fieldType: ' ',\n  required: '',\n  order: '',\n  virtual: ' ',\n  tg_theme_url: ' Telegram',\n  tg_chat_id: 'ID ',\n  tg_topic_id: 'ID ',\n  tg_photos_url: '  ',\n  tg_photos_chat_id: 'ID  ',\n  tg_photos_topic_id: 'ID  ',\n};\n\nconst formatKeyLabel = (key: string): string => {\n  const override = KEY_LABEL_OVERRIDES[key];\n  if (override) return override;\n  const normalized = key\n    .replace(/[_-]+/g, ' ')\n    .replace(/([a-z])([A-Z])/g, '$1 $2')\n    .trim();\n  if (!normalized) return key;\n  return normalized.charAt(0).toUpperCase() + normalized.slice(1);\n};\n\nconst formatSummaryValue = (value: unknown): string => {\n  if (value === null || value === undefined) return '';\n  if (typeof value === 'boolean') {\n    return value ? '' : '';\n  }\n  if (typeof value === 'number') {\n    return Number.isFinite(value) ? String(value) : '';\n  }\n  if (typeof value === 'string') {\n    const trimmed = value.trim();\n    return trimmed;\n  }\n  if (Array.isArray(value)) {\n    const formatted = value\n      .map((item) => formatSummaryValue(item))\n      .filter(Boolean);\n    return formatted.join(', ');\n  }\n  if (value instanceof Date) {\n    return value.toISOString();\n  }\n  if (typeof value === 'object') {\n    const entries = Object.entries(value as Record<string, unknown>)\n      .map(([key, nested]) => {\n        const formatted = formatSummaryValue(nested);\n        if (!formatted) return '';\n        return `${formatKeyLabel(key)}=${formatted}`;\n      })\n      .filter(Boolean);\n    return entries.join('; ');\n  }\n  return '';\n};\n\nconst summarizeRecord = (record?: Record<string, unknown>): string => {\n  if (!record) return '';\n  const entries = Object.entries(record)\n    .map(([key, value]) => {\n      const formatted = formatSummaryValue(value);\n      if (!formatted) return '';\n      return `${formatKeyLabel(key)}: ${formatted}`;\n    })\n    .filter(Boolean);\n  return entries.join('\\n');\n};\n\nconst tryParseJsonValue = (raw: string): unknown => {\n  try {\n    return JSON.parse(raw);\n  } catch {\n    return undefined;\n  }\n};\n\nconst formatCollectionRawValue = (raw: string): string => {\n  const trimmed = raw.trim();\n  if (!trimmed) return '';\n  const parsed =\n    trimmed.startsWith('{') || trimmed.startsWith('[')\n      ? tryParseJsonValue(trimmed)\n      : undefined;\n  if (Array.isArray(parsed)) {\n    const formatted = parsed\n      .map((item) => formatSummaryValue(item))\n      .filter(Boolean);\n    if (formatted.length) {\n      return formatted.join('\\n');\n    }\n  } else if (parsed && typeof parsed === 'object') {\n    const summary = summarizeRecord(parsed as Record<string, unknown>);\n    if (summary) {\n      return summary;\n    }\n  }\n  if (trimmed.includes(',')) {\n    const parts = trimmed\n      .split(',')\n      .map((part) => part.trim())\n      .filter(Boolean);\n    if (parts.length > 1) {\n      return parts.join('\\n');\n    }\n  }\n  return trimmed;\n};\n\nconst IdsSchema = z\n  .preprocess((input) => {\n    if (input === null || input === undefined) {\n      return [];\n    }\n    if (typeof input === 'string') {\n      const trimmed = input.trim();\n      if (!trimmed) {\n        return [];\n      }\n      if (trimmed.startsWith('{') || trimmed.startsWith('[')) {\n        try {\n          const parsed = JSON.parse(trimmed);\n          return collectStringIds(parsed);\n        } catch {\n          //         \n        }\n      }\n      return trimmed\n        .split(',')\n        .map((part) => part.trim())\n        .filter(Boolean);\n    }\n    if (Array.isArray(input) || (input && typeof input === 'object')) {\n      return collectStringIds(input);\n    }\n    return [String(input)];\n  }, z.array(z.string()))\n  .transform((values) => {\n    const normalized = values\n      .map((value) => normalizeId(String(value)))\n      .filter((value) => value.length > 0);\n    return Array.from(new Set(normalized));\n  });\n\nconst safeParseIds = (value: unknown): string[] => {\n  const result = IdsSchema.safeParse(value);\n  return result.success ? result.data : [];\n};\n\nconst mergeById = <T extends { _id: string }>(\n  current: T[],\n  incoming: T[],\n): T[] => {\n  if (!incoming.length) {\n    return current;\n  }\n  const merged = current.slice();\n  const indexById = new Map<string, number>();\n  merged.forEach((item, index) => {\n    indexById.set(item._id, index);\n  });\n  let changed = false;\n  incoming.forEach((item) => {\n    const index = indexById.get(item._id);\n    if (typeof index === 'number') {\n      if (merged[index] !== item) {\n        merged[index] = item;\n        changed = true;\n      }\n      return;\n    }\n    indexById.set(item._id, merged.length);\n    merged.push(item);\n    changed = true;\n  });\n  return changed ? merged : current;\n};\n\nconst resolveReferenceName = (\n  map: Map<string, string>,\n  id?: string | null,\n  fallbackName?: string | null,\n): string => {\n  const directName =\n    typeof fallbackName === 'string' && fallbackName.trim().length\n      ? fallbackName.trim()\n      : '';\n  if (directName) return directName;\n  if (typeof id !== 'string') return '';\n  const trimmed = id.trim();\n  if (!trimmed) return '';\n  return map.get(trimmed) ?? trimmed;\n};\n\ntype EmployeeDetailsIndex = {\n  byId: Map<string, Partial<User>>;\n  byTelegramUsername: Map<string, Partial<User>>;\n  byUsername: Map<string, Partial<User>>;\n};\n\nconst readValue = (\n  source: Record<string, unknown>,\n  keys: string[],\n): unknown => {\n  for (const key of keys) {\n    if (key in source) return source[key];\n  }\n  const lowerCaseSource: Record<string, unknown> = {};\n  Object.entries(source).forEach(([key, value]) => {\n    lowerCaseSource[key.toLowerCase()] = value;\n  });\n  for (const key of keys) {\n    const lowerKey = key.toLowerCase();\n    if (lowerKey in lowerCaseSource) return lowerCaseSource[lowerKey];\n  }\n  return undefined;\n};\n\nconst pickString = (\n  source: Record<string, unknown>,\n  keys: string[],\n  fallback?: string,\n): string | undefined => {\n  const raw = readValue(source, keys);\n  if (typeof raw === 'string') {\n    const trimmed = raw.trim();\n    if (trimmed.length) return trimmed;\n  }\n  if (typeof raw === 'number' && Number.isFinite(raw)) {\n    return String(raw);\n  }\n  if (typeof fallback === 'string') {\n    const trimmed = fallback.trim();\n    if (trimmed.length) return trimmed;\n  }\n  return undefined;\n};\n\nconst pickNumber = (\n  source: Record<string, unknown>,\n  keys: string[],\n): number | undefined => {\n  const raw = readValue(source, keys);\n  if (typeof raw === 'number' && Number.isFinite(raw)) {\n    return raw;\n  }\n  if (typeof raw === 'string') {\n    const trimmed = raw.trim();\n    if (!trimmed) return undefined;\n    const parsed = Number(trimmed);\n    if (Number.isFinite(parsed)) {\n      return parsed;\n    }\n  }\n  return undefined;\n};\n\nconst pickStringArray = (\n  source: Record<string, unknown>,\n  keys: string[],\n): string[] | undefined => {\n  const raw = readValue(source, keys);\n  if (!Array.isArray(raw)) return undefined;\n  const normalized = raw\n    .filter((item): item is string => typeof item === 'string')\n    .map((item) => item.trim())\n    .filter((item) => item.length > 0);\n  return normalized.length ? normalized : undefined;\n};\n\nconst collectEmployeeDetails = (\n  item: CollectionItem,\n): Partial<User> | undefined => {\n  if (item.type !== 'employees') return undefined;\n  const parts: Record<string, unknown>[] = [];\n  if (item.meta && typeof item.meta === 'object') {\n    parts.push(item.meta as Record<string, unknown>);\n  }\n  const rawValue = item.value;\n  if (typeof rawValue === 'string') {\n    const trimmed = rawValue.trim();\n    if (trimmed) {\n      try {\n        const parsed = JSON.parse(trimmed);\n        if (parsed && typeof parsed === 'object' && !Array.isArray(parsed)) {\n          parts.push(parsed as Record<string, unknown>);\n        }\n      } catch {\n        //  ,    JSON\n      }\n    }\n  } else if (\n    rawValue &&\n    typeof rawValue === 'object' &&\n    !Array.isArray(rawValue)\n  ) {\n    parts.push(rawValue as Record<string, unknown>);\n  }\n\n  if (!parts.length) {\n    const name = item.name?.trim();\n    return name ? { name } : undefined;\n  }\n\n  const combined = parts.reduce<Record<string, unknown>>(\n    (acc, part) => ({ ...acc, ...part }),\n    {},\n  );\n\n  const details: Partial<User> = {};\n  const telegramId = pickNumber(combined, ['telegram_id', 'telegramId', 'id']);\n  if (typeof telegramId === 'number') {\n    details.telegram_id = telegramId;\n  }\n  const telegramUsername = pickString(combined, [\n    'telegram_username',\n    'telegramUsername',\n    'telegram_login',\n    'telegramLogin',\n  ]);\n  if (telegramUsername) {\n    details.telegram_username = telegramUsername;\n  }\n  const username = pickString(combined, ['username', 'login']);\n  if (username) {\n    details.username = username;\n  }\n  const name = pickString(combined, ['name', 'fullName'], item.name);\n  const firstName = pickString(combined, ['firstName', 'first_name']);\n  const lastName = pickString(combined, [\n    'lastName',\n    'last_name',\n    'surname',\n    'familyName',\n  ]);\n  const middleName = pickString(combined, [\n    'middleName',\n    'middle_name',\n    'patronymic',\n  ]);\n  if (name) {\n    details.name = name;\n  } else {\n    const parts = [lastName, firstName, middleName].filter(\n      (part): part is string =>\n        typeof part === 'string' && part.trim().length > 0,\n    );\n    if (parts.length) {\n      details.name = parts.join(' ');\n    }\n  }\n  const phone = pickString(combined, ['phone', 'phone_number', 'phoneNumber']);\n  if (phone) {\n    details.phone = phone;\n  }\n  const mobNumber = pickString(combined, [\n    'mobNumber',\n    'mobile',\n    'mobile_phone',\n    'mobilePhone',\n  ]);\n  if (mobNumber) {\n    details.mobNumber = mobNumber;\n  }\n  const email = pickString(combined, ['email', 'mail']);\n  if (email) {\n    details.email = email;\n  }\n  const role = pickString(combined, ['role', 'roleName']);\n  if (role) {\n    details.role = role;\n  }\n  const access = pickNumber(combined, [\n    'access',\n    'access_level',\n    'accessLevel',\n  ]);\n  if (typeof access === 'number') {\n    details.access = access;\n  }\n  const roleId = pickString(combined, ['roleId', 'role_id']);\n  if (roleId) {\n    details.roleId = roleId;\n  }\n  const roleName = pickString(combined, ['roleName']);\n  if (roleName) {\n    details.roleName = roleName;\n  }\n  const departmentId = pickString(combined, ['departmentId', 'department_id']);\n  if (departmentId) {\n    details.departmentId = departmentId;\n  }\n  const departmentName = pickString(combined, ['departmentName']);\n  if (departmentName) {\n    details.departmentName = departmentName;\n  }\n  const divisionId = pickString(combined, ['divisionId', 'division_id']);\n  if (divisionId) {\n    details.divisionId = divisionId;\n  }\n  const divisionName = pickString(combined, ['divisionName']);\n  if (divisionName) {\n    details.divisionName = divisionName;\n  }\n  const positionId = pickString(combined, ['positionId', 'position_id']);\n  if (positionId) {\n    details.positionId = positionId;\n  }\n  const positionName = pickString(combined, ['positionName']);\n  if (positionName) {\n    details.positionName = positionName;\n  }\n  const permissions = pickStringArray(combined, ['permissions']);\n  if (permissions) {\n    details.permissions = permissions;\n  }\n\n  return Object.keys(details).length ? details : undefined;\n};\n\nconst buildEmployeeDetailsIndex = (\n  items: CollectionItem[],\n): EmployeeDetailsIndex => {\n  const index: EmployeeDetailsIndex = {\n    byId: new Map(),\n    byTelegramUsername: new Map(),\n    byUsername: new Map(),\n  };\n  items.forEach((item) => {\n    const details = collectEmployeeDetails(item);\n    if (!details) return;\n    if (typeof details.telegram_id === 'number') {\n      index.byId.set(String(details.telegram_id), details);\n    }\n    if (typeof details.telegram_username === 'string') {\n      index.byTelegramUsername.set(\n        details.telegram_username.toLowerCase(),\n        details,\n      );\n    }\n    if (typeof details.username === 'string') {\n      index.byUsername.set(details.username.toLowerCase(), details);\n    }\n  });\n  return index;\n};\n\nconst mergeEmployeeDetails = (user: User, details?: Partial<User>): User => {\n  if (!details) return user;\n  const result: User = { ...user };\n  const assignNumber = <K extends keyof User>(key: K) => {\n    const next = details[key];\n    if (typeof next !== 'number' || !Number.isFinite(next)) return;\n    const current = result[key];\n    if (typeof current === 'number' && Number.isFinite(current)) return;\n    result[key] = next as User[K];\n  };\n  const assignString = <K extends keyof User>(key: K) => {\n    const next = details[key];\n    if (next === undefined || next === null) return;\n    const normalized =\n      typeof next === 'string'\n        ? next.trim()\n        : typeof next === 'number' && Number.isFinite(next)\n          ? String(next)\n          : '';\n    if (!normalized) return;\n    const current = result[key];\n    if (\n      current === undefined ||\n      current === null ||\n      (typeof current === 'string' && !current.trim())\n    ) {\n      result[key] = normalized as User[K];\n    }\n  };\n\n  assignNumber('telegram_id');\n  assignString('telegram_username');\n  assignString('username');\n  assignString('name');\n  assignString('phone');\n  assignString('mobNumber');\n  assignString('email');\n  assignString('role');\n  assignNumber('access');\n  assignString('roleId');\n  assignString('roleName');\n  assignString('departmentId');\n  assignString('departmentName');\n  assignString('divisionId');\n  assignString('divisionName');\n  assignString('positionId');\n  assignString('positionName');\n  if (\n    (!result.permissions || !result.permissions.length) &&\n    Array.isArray(details.permissions) &&\n    details.permissions.length\n  ) {\n    result.permissions = details.permissions.slice();\n  }\n  return result;\n};\n\nconst TOKEN_SPLIT_REGEX = /[\\s,.;:/\\\\|_-]+/u;\n\nconst buildUserSearchTokens = (user: User): string[] => {\n  const tokens = new Set<string>();\n  const addValue = (value?: string | number | null) => {\n    if (value === undefined || value === null) return;\n    let text: string;\n    if (typeof value === 'number') {\n      if (!Number.isFinite(value)) return;\n      text = String(value);\n    } else if (typeof value === 'string') {\n      text = value.trim();\n    } else {\n      return;\n    }\n    if (!text) return;\n    tokens.add(text);\n    text\n      .split(TOKEN_SPLIT_REGEX)\n      .map((part) => part.trim())\n      .filter((part) => part.length > 0)\n      .forEach((part) => tokens.add(part));\n  };\n\n  addValue(user.username ?? undefined);\n  addValue(user.telegram_username ?? undefined);\n  addValue(user.telegram_id ?? undefined);\n  addValue(user.name ?? undefined);\n  addValue(user.phone ?? undefined);\n  addValue(user.mobNumber ?? undefined);\n  addValue(user.email ?? undefined);\n  addValue(user.role ?? undefined);\n  addValue(user.roleName ?? undefined);\n  addValue(user.departmentName ?? undefined);\n  addValue(user.divisionName ?? undefined);\n  addValue(user.positionName ?? undefined);\n  if (Array.isArray(user.permissions)) {\n    user.permissions.forEach((permission) => addValue(permission));\n  }\n\n  return Array.from(tokens);\n};\n\nconst findEmployeeDetails = (\n  user: User | undefined,\n  index: EmployeeDetailsIndex,\n  fallbackId?: string,\n): Partial<User> | undefined => {\n  const candidateId = fallbackId\n    ? fallbackId.trim()\n    : typeof user?.telegram_id === 'number'\n      ? String(user.telegram_id)\n      : undefined;\n  if (candidateId) {\n    const direct = index.byId.get(candidateId);\n    if (direct) return direct;\n  }\n  const telegramUsername =\n    typeof user?.telegram_username === 'string'\n      ? user.telegram_username.trim().toLowerCase()\n      : undefined;\n  if (telegramUsername) {\n    const direct = index.byTelegramUsername.get(telegramUsername);\n    if (direct) return direct;\n  }\n  const username =\n    typeof user?.username === 'string'\n      ? user.username.trim().toLowerCase()\n      : undefined;\n  if (username) {\n    const direct = index.byUsername.get(username);\n    if (direct) return direct;\n  }\n  return undefined;\n};\n\nconst USERS_ERROR_HINT = '   ';\nconst DUPLICATE_DIVISION_HINT_PREFIX = '  ';\nconst TASK_SETTINGS_ERROR_HINT = '    ';\nconst TASK_FIELD_SAVE_ERROR = '    ';\nconst TASK_TYPE_SAVE_ERROR = '    ';\nconst TASK_SETTINGS_DELETE_ERROR = '    ';\nconst USER_DELETE_SUCCESS = ' ';\nconst USER_DELETE_ERROR = '   ';\nconst EMPLOYEE_DELETE_SUCCESS = ' ';\nconst EMPLOYEE_DELETE_ERROR = '   ';\n\ntype CollectionColumn =\n  | (typeof collectionColumns)[number]\n  | (typeof collectionObjectColumns)[number];\n\nconst hasAccessorKey = (\n  column: CollectionColumn,\n): column is CollectionColumn & { accessorKey: string } =>\n  typeof (column as { accessorKey?: unknown }).accessorKey === 'string';\n  \n \nconst formatCoordinatesValue = (latitude?: number, longitude?: number): string => {\n  const parts: string[] = [];\n  if (typeof latitude === 'number' && Number.isFinite(latitude)) {\n    parts.push(latitude.toString());\n  }\n  if (typeof longitude === 'number' && Number.isFinite(longitude)) {\n    parts.push(longitude.toString());\n  }\n  if (!parts.length) return SETTINGS_BADGE_EMPTY;\n  return parts.join(', ');\n};\nconst formatCoordinates = formatCoordinatesValue; \n  \nexport default function CollectionsPage() {\n  const { t } = useTranslation();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [activeModule, setActiveModule] = useState<SettingsModuleKey>(() => {\n    const param = searchParams.get('module');\n    return isValidModuleKey(param) ? param : 'directories';\n  });\n  const [active, setActive] = useState<CollectionKey>('departments');\n  const [items, setItems] = useState<CollectionItem[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [total, setTotal] = useState(0);\n  const [page, setPage] = useState(1);\n  const [queries, setQueries] = useState<Record<CollectionKey, string>>(() =>\n    createInitialQueries(),\n  );\n  const [searchDrafts, setSearchDrafts] = useState<\n    Record<CollectionKey, string>\n  >(() => createInitialQueries());\n  const [form, setForm] = useState<ItemForm>(emptyItemForm);\n  const [hint, setHint] = useState('');\n  const [allDepartments, setAllDepartments] = useState<CollectionItem[]>([]);\n  const [allDivisions, setAllDivisions] = useState<CollectionItem[]>([]);\n  const [allPositions, setAllPositions] = useState<CollectionItem[]>([]);\n  const [allRoles, setAllRoles] = useState<Role[]>([]);\n  const limit = 10;\n  const [users, setUsers] = useState<User[]>([]);\n  const [userPage, setUserPage] = useState(1);\n  const [userQuery, setUserQuery] = useState('');\n  const [userSearchDraft, setUserSearchDraft] = useState('');\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [userForm, setUserForm] = useState<UserFormData>(emptyUser);\n  const [collectionModalOpen, setCollectionModalOpen] = useState(false);\n  const [selectedCollection, setSelectedCollection] =\n    useState<CollectionItem | null>(null);\n  const collectionSearchTimer = useRef<number>();\n  const [selectedEmployeeId, setSelectedEmployeeId] = useState<\n    string | undefined\n  >(undefined);\n  const [isEmployeeModalOpen, setIsEmployeeModalOpen] = useState(false);\n  const [employeeFormMode, setEmployeeFormMode] = useState<'create' | 'update'>(\n    'create',\n  );\n  const [taskFieldItems, setTaskFieldItems] = useState<CollectionItem[]>([]);\n  const [taskTypeItems, setTaskTypeItems] = useState<CollectionItem[]>([]);\n  const [tasksLoading, setTasksLoading] = useState(false);\n  const { user: currentUser } = useAuth();\n  const [confirmUserDelete, setConfirmUserDelete] = useState(false);\n  const [confirmEmployeeDelete, setConfirmEmployeeDelete] = useState(false);\n  const canManageUsers = hasAccess(currentUser?.access, ACCESS_ADMIN);\n  const actionButtonClass =\n    'h-10 w-full max-w-[11rem] px-3 text-sm font-semibold sm:w-auto lg:h-8 lg:text-xs';\n\n  useEffect(() => {\n    return () => {\n      if (collectionSearchTimer.current) {\n        window.clearTimeout(collectionSearchTimer.current);\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    const param = searchParams.get('module');\n    const next = isValidModuleKey(param) ? param : 'directories';\n    if (next !== activeModule) {\n      setActiveModule(next);\n    }\n  }, [searchParams, activeModule]);\n\n  const handleModuleChange = useCallback(\n    (value: SettingsModuleKey) => {\n      setActiveModule(value);\n      const next = new URLSearchParams(searchParams.toString());\n      if (value === 'directories') {\n        next.delete('module');\n      } else {\n        next.set('module', value);\n      }\n      setSearchParams(next, { replace: true });\n    },\n    [searchParams, setSearchParams],\n  );\n  const selectedCollectionInfo = useMemo(() => {\n    if (\n      !selectedCollection?.meta ||\n      typeof selectedCollection.meta !== 'object'\n    ) {\n      return { readonly: false, notice: undefined as string | undefined };\n    }\n    const meta = selectedCollection.meta as {\n      readonly?: unknown;\n      legacy?: unknown;\n      readonlyReason?: unknown;\n    };\n    const readonly = Boolean(meta.readonly ?? meta.legacy);\n    const notice = readonly\n      ? typeof meta.readonlyReason === 'string'\n        ? meta.readonlyReason\n        : meta.legacy\n          ? '         .'\n          : undefined\n      : undefined;\n    return { readonly, notice };\n  }, [selectedCollection]);\n\n  const selectedObjectDetails = useMemo(\n    () =>\n      selectedCollection?.type === 'objects'\n        ? toCollectionObject(selectedCollection)\n        : null,\n    [selectedCollection],\n  );\n\n  const breadcrumbs = useMemo(\n    () => [\n      { label: t('nav.settings'), href: '/settings' },\n      { label: t('collections.page.title') },\n    ],\n    [t],\n  );\n\n  const currentQuery = queries[active] ?? '';\n  const currentSearchDraft = searchDrafts[active] ?? '';\n  const isCollectionSearchSupported =\n    activeModule === 'directories' &&\n    active !== 'users' &&\n    active !== 'fleets' &&\n    active !== 'tasks';\n  const isUserSearchActive =\n    activeModule === 'directories' && active === 'users';\n  const isEmployeeSearchActive =\n    activeModule === 'directories' && active === 'employees';\n\n  const applyCollectionSearch = useCallback(\n    (raw: string) => {\n      const normalized = raw.trim();\n      setPage(1);\n      setQueries((prev) => {\n        if (prev[active] === normalized) {\n          return prev;\n        }\n        return { ...prev, [active]: normalized };\n      });\n    },\n    [active],\n  );\n\n  useEffect(() => {\n    setSearchDrafts((prev) => ({ ...prev, [active]: currentQuery }));\n  }, [active, currentQuery]);\n\n  useEffect(() => {\n    if (!isCollectionSearchSupported) {\n      return;\n    }\n    if (collectionSearchTimer.current) {\n      window.clearTimeout(collectionSearchTimer.current);\n    }\n    collectionSearchTimer.current = window.setTimeout(() => {\n      applyCollectionSearch(currentSearchDraft);\n    }, 400);\n    return () => {\n      if (collectionSearchTimer.current) {\n        window.clearTimeout(collectionSearchTimer.current);\n      }\n    };\n  }, [applyCollectionSearch, currentSearchDraft, isCollectionSearchSupported]);\n\n  const load = useCallback(async () => {\n    if (active === 'users' || active === 'tasks') {\n      setIsLoading(false);\n      return;\n    }\n    setIsLoading(true);\n    try {\n      if (active === 'fleets') {\n        setItems([]);\n        setTotal(0);\n        setHint('');\n        return;\n      }\n      if (active === 'employees') {\n        const list = await fetchAllCollectionItems('employees');\n        setItems(list);\n        setTotal(list.length);\n        setHint('');\n        return;\n      }\n      if (active === 'objects') {\n        const { items: loadedItems, total: loadedTotal } =\n          await fetchCollectionObjects(currentQuery, page, limit);\n        setItems(loadedItems);\n        setTotal(loadedTotal);\n        setHint('');\n        return;\n      }\n      const d = (await fetchCollectionItems(\n        active,\n        currentQuery,\n        page,\n        limit,\n      )) as { items: CollectionItem[]; total: number };\n      setItems(d.items);\n      setTotal(d.total);\n      if (active === 'departments') {\n        setAllDepartments((prev) => mergeById(prev, d.items));\n      }\n      if (active === 'divisions') {\n        setAllDivisions((prev) => mergeById(prev, d.items));\n      }\n      if (active === 'positions') {\n        setAllPositions((prev) => mergeById(prev, d.items));\n      }\n      setHint('');\n    } catch (error) {\n      const message =\n        error instanceof Error\n          ? error.message\n          : '   ';\n      setItems([]);\n      setTotal(0);\n      setHint(message);\n    } finally {\n      setIsLoading(false);\n    }\n  }, [active, currentQuery, page]);\n\n  const loadUsers = useCallback(async () => {\n    try {\n      const list = await fetchUsers();\n      setUsers(list);\n      setHint((prev) => (prev === USERS_ERROR_HINT ? '' : prev));\n    } catch (error) {\n      const message = error instanceof Error ? error.message : USERS_ERROR_HINT;\n      setUsers([]);\n      setHint(message || USERS_ERROR_HINT);\n    }\n  }, []);\n\n  const loadTaskSettings = useCallback(async () => {\n    setTasksLoading(true);\n    try {\n      const [fields, types] = await Promise.all([\n        fetchAllCollectionItems('task_fields'),\n        fetchAllCollectionItems('task_types'),\n      ]);\n      setTaskFieldItems(fields);\n      setTaskTypeItems(types);\n      setHint((prev) => (prev === TASK_SETTINGS_ERROR_HINT ? '' : prev));\n    } catch (error) {\n      const message =\n        error instanceof Error ? error.message : TASK_SETTINGS_ERROR_HINT;\n      setTaskFieldItems([]);\n      setTaskTypeItems([]);\n      setHint(message || TASK_SETTINGS_ERROR_HINT);\n    } finally {\n      setTasksLoading(false);\n    }\n  }, [setHint]);\n\n  useEffect(() => {\n    if (active === 'tasks') {\n      void loadTaskSettings();\n    }\n  }, [active, loadTaskSettings]);\n\n  const saveTaskField = useCallback(\n    async (item: CollectionItem, label: string) => {\n      const trimmed = label.trim();\n      if (!trimmed) {\n        throw new Error('    ');\n      }\n      try {\n        if (item.meta?.virtual) {\n          await createCollectionItem('task_fields', {\n            name: item.name,\n            value: trimmed,\n          });\n        } else {\n          await updateCollectionItem(\n            item._id,\n            { name: item.name, value: trimmed },\n            { collectionType: 'task_fields' },\n          );\n        }\n        await loadTaskSettings();\n      } catch (error) {\n        const message =\n          error instanceof Error ? error.message : TASK_FIELD_SAVE_ERROR;\n        throw new Error(message || TASK_FIELD_SAVE_ERROR);\n      }\n    },\n    [loadTaskSettings],\n  );\n\n  const deleteTaskField = useCallback(\n    async (item: CollectionItem) => {\n      if (item.meta?.virtual) {\n        return;\n      }\n      try {\n        await removeCollectionItem(item._id);\n        await loadTaskSettings();\n      } catch (error) {\n        const message =\n          error instanceof Error ? error.message : TASK_SETTINGS_DELETE_ERROR;\n        throw new Error(message || TASK_SETTINGS_DELETE_ERROR);\n      }\n    },\n    [loadTaskSettings],\n  );\n\n  const saveTaskType = useCallback(\n    async (\n      item: CollectionItem,\n      payload: { label: string; tg_theme_url: string; tg_photos_url: string },\n    ) => {\n      const trimmedLabel = payload.label.trim();\n      if (!trimmedLabel) {\n        throw new Error('    ');\n      }\n      const trimmedUrl = payload.tg_theme_url.trim();\n      const trimmedPhotosUrl = payload.tg_photos_url.trim();\n      try {\n        const buildMeta = () => {\n          const meta: Record<string, string> = {};\n          if (trimmedUrl) meta.tg_theme_url = trimmedUrl;\n          if (trimmedPhotosUrl) meta.tg_photos_url = trimmedPhotosUrl;\n          return meta;\n        };\n        if (item.meta?.virtual) {\n          const meta = buildMeta();\n          await createCollectionItem('task_types', {\n            name: item.name,\n            value: trimmedLabel,\n            ...(Object.keys(meta).length ? { meta } : {}),\n          });\n        } else {\n          const meta = buildMeta();\n          if (!trimmedUrl) {\n            meta.tg_theme_url = '';\n          }\n          if (!trimmedPhotosUrl) {\n            meta.tg_photos_url = '';\n          }\n          await updateCollectionItem(\n            item._id,\n            {\n              name: item.name,\n              value: trimmedLabel,\n              meta,\n            },\n            { collectionType: 'task_types' },\n          );\n        }\n        await loadTaskSettings();\n      } catch (error) {\n        const message =\n          error instanceof Error ? error.message : TASK_TYPE_SAVE_ERROR;\n        throw new Error(message || TASK_TYPE_SAVE_ERROR);\n      }\n    },\n    [loadTaskSettings],\n  );\n\n  const deleteTaskType = useCallback(\n    async (item: CollectionItem) => {\n      if (item.meta?.virtual) {\n        return;\n      }\n      try {\n        await removeCollectionItem(item._id);\n        await loadTaskSettings();\n      } catch (error) {\n        const message =\n          error instanceof Error ? error.message : TASK_SETTINGS_DELETE_ERROR;\n        throw new Error(message || TASK_SETTINGS_DELETE_ERROR);\n      }\n    },\n    [loadTaskSettings],\n  );\n\n  useEffect(() => {\n    if (active === 'users' || active === 'employees') {\n      setUserSearchDraft(userQuery);\n    }\n  }, [active, userQuery]);\n\n  useEffect(() => {\n    if (collectionModalOpen && selectedCollection?.type === 'divisions') {\n      void loadUsers();\n    }\n  }, [collectionModalOpen, selectedCollection, loadUsers]);\n\n  useEffect(() => {\n    const loadReferenceCollections = async () => {\n      const [departmentsResult, divisionsResult, positionsResult] =\n        await Promise.allSettled([\n          fetchAllCollectionItems('departments'),\n          fetchAllCollectionItems('divisions'),\n          fetchAllCollectionItems('positions'),\n        ]);\n\n      const applyResult = (\n        result: PromiseSettledResult<CollectionItem[]>,\n        setter: React.Dispatch<React.SetStateAction<CollectionItem[]>>,\n        fallbackMessage: string,\n      ) => {\n        if (result.status === 'fulfilled') {\n          setter(result.value);\n          return;\n        }\n        const reason = result.reason;\n        const message =\n          reason instanceof Error && reason.message\n            ? reason.message\n            : fallbackMessage;\n        setHint((prev) => prev || message);\n      };\n\n      applyResult(\n        departmentsResult,\n        setAllDepartments,\n        '   ',\n      );\n      applyResult(\n        divisionsResult,\n        setAllDivisions,\n        '   ',\n      );\n      applyResult(\n        positionsResult,\n        setAllPositions,\n        '   ',\n      );\n    };\n\n    void loadReferenceCollections();\n    fetchRoles()\n      .then((list) => setAllRoles(list))\n      .catch((error) => {\n        setAllRoles([]);\n        const message =\n          error instanceof Error ? error.message : '   ';\n        setHint((prev) => prev || message);\n      });\n  }, []);\n\n  useEffect(() => {\n    if (active !== 'users' && active !== 'tasks') {\n      void load();\n      if (active !== 'fleets') {\n        setForm(emptyItemForm);\n      }\n    } else {\n      setHint('');\n    }\n  }, [load, active]);\n\n  useEffect(() => {\n    if (active === 'users') {\n      void loadUsers();\n      setUserForm(emptyUser);\n      setSelectedEmployeeId(undefined);\n    }\n    if (active === 'employees') {\n      void loadUsers();\n      setSelectedEmployeeId(undefined);\n      setEmployeeFormMode('create');\n      setIsEmployeeModalOpen(false);\n    }\n    if (active !== 'employees') {\n      setIsEmployeeModalOpen(false);\n    }\n    if (\n      active === 'users' ||\n      active === 'employees' ||\n      active === 'fleets' ||\n      active === 'tasks'\n    ) {\n      setCollectionModalOpen(false);\n    }\n    if (active !== 'users') {\n      setUserModalOpen(false);\n      setUserForm(emptyUser);\n    }\n  }, [active, loadUsers]);\n\n  const openCollectionModal = (item?: CollectionItem) => {\n    if (item) {\n      if (item.type === 'objects') {\n        const object = toCollectionObject(item);\n        setForm({\n          _id: object._id,\n          name: object.name,\n          value: object.address,\n          meta: object.meta,\n          address: object.address,\n          latitude:\n            object.latitude !== undefined ? object.latitude.toString() : '',\n          longitude:\n            object.longitude !== undefined ? object.longitude.toString() : '',\n        });\n      } else {\n        setForm({\n          _id: item._id,\n          name: item.name,\n          value: item.value,\n          meta: item.meta,\n        });\n      }\n      setSelectedCollection(item);\n    } else {\n      setForm(emptyItemForm);\n      setSelectedCollection(null);\n    }\n    setCollectionModalOpen(true);\n  };\n\n  const closeCollectionModal = () => {\n    setCollectionModalOpen(false);\n    setSelectedCollection(null);\n    setForm(emptyItemForm);\n  };\n\n  const mapUserToForm = (user?: User): UserFormData => ({\n    telegram_id: user?.telegram_id,\n    username: user?.telegram_username ?? user?.username ?? '',\n    name: user?.name ?? '',\n    phone: user?.phone ?? '',\n    mobNumber: user?.mobNumber ?? '',\n    email: user?.email ?? '',\n    role: user?.role ?? 'user',\n    access: user?.access ?? 1,\n    roleId: user?.roleId ?? '',\n    departmentId: user?.departmentId ?? '',\n    divisionId: user?.divisionId ?? '',\n    positionId: user?.positionId ?? '',\n  });\n\n  const openUserModal = (user?: User) => {\n    setUserForm(user ? mapUserToForm(user) : emptyUser);\n    setUserModalOpen(true);\n  };\n\n  const closeUserModal = useCallback(() => {\n    setUserModalOpen(false);\n    setUserForm(emptyUser);\n  }, []);\n\n  const openEmployeeModal = (user?: User) => {\n    if (user) {\n      setSelectedEmployeeId(String(user.telegram_id));\n      setEmployeeFormMode('update');\n    } else {\n      setSelectedEmployeeId(undefined);\n      setEmployeeFormMode('create');\n    }\n    setIsEmployeeModalOpen(true);\n  };\n\n  const updateCollectionSearchDraft = useCallback(\n    (value: string) => {\n      setSearchDrafts((prev) => ({ ...prev, [active]: value }));\n    },\n    [active],\n  );\n\n  const submitCollectionSearch = useCallback(\n    (value?: string) => {\n      if (collectionSearchTimer.current) {\n        window.clearTimeout(collectionSearchTimer.current);\n      }\n      applyCollectionSearch(value ?? currentSearchDraft);\n    },\n    [applyCollectionSearch, currentSearchDraft],\n  );\n\n  const handleCollectionSearchKeyDown = useCallback(\n    (event: React.KeyboardEvent<HTMLInputElement>) => {\n      if (!isCollectionSearchSupported) {\n        return;\n      }\n      if (event.key === 'Enter') {\n        event.preventDefault();\n        submitCollectionSearch(event.currentTarget.value);\n      }\n      if (event.key === 'Escape') {\n        event.preventDefault();\n        updateCollectionSearchDraft('');\n        submitCollectionSearch('');\n      }\n    },\n    [\n      isCollectionSearchSupported,\n      submitCollectionSearch,\n      updateCollectionSearchDraft,\n    ],\n  );\n\n  const resetCollectionSearch = useCallback(() => {\n    updateCollectionSearchDraft('');\n    submitCollectionSearch('');\n  }, [submitCollectionSearch, updateCollectionSearchDraft]);\n\n  const submitUserSearch = useCallback(\n    (event?: React.FormEvent) => {\n      event?.preventDefault();\n      setUserPage(1);\n      setUserQuery(userSearchDraft.trim());\n      setSelectedEmployeeId(undefined);\n    },\n    [userSearchDraft],\n  );\n\n  const handleUserSearchKeyDown = useCallback(\n    (event: React.KeyboardEvent<HTMLInputElement>) => {\n      if (!isUserSearchActive) {\n        return;\n      }\n      if (event.key === 'Enter') {\n        event.preventDefault();\n        submitUserSearch();\n      }\n      if (event.key === 'Escape') {\n        event.preventDefault();\n        setUserSearchDraft('');\n        submitUserSearch();\n      }\n    },\n    [isUserSearchActive, submitUserSearch],\n  );\n\n  const handleEmployeeSaved = (updated: UserDetails) => {\n    void loadUsers();\n    if (updated.telegram_id !== undefined) {\n      setSelectedEmployeeId(String(updated.telegram_id));\n      setEmployeeFormMode('update');\n    }\n  };\n\n  const executeUserDelete = useCallback(async () => {\n    if (!userForm.telegram_id) {\n      setConfirmUserDelete(false);\n      return;\n    }\n    try {\n      await deleteUserApi(userForm.telegram_id);\n      showToast(USER_DELETE_SUCCESS, 'success');\n      setSelectedEmployeeId((prev) =>\n        prev === String(userForm.telegram_id) ? undefined : prev,\n      );\n      closeUserModal();\n      await loadUsers();\n    } catch (error) {\n      const message =\n        error instanceof Error ? error.message : USER_DELETE_ERROR;\n      showToast(message || USER_DELETE_ERROR, 'error');\n    } finally {\n      setConfirmUserDelete(false);\n    }\n  }, [userForm.telegram_id, closeUserModal, loadUsers, setSelectedEmployeeId]);\n\n  const executeEmployeeDelete = useCallback(async () => {\n    if (!selectedEmployeeId) {\n      setConfirmEmployeeDelete(false);\n      return;\n    }\n    try {\n      await deleteUserApi(selectedEmployeeId);\n      showToast(EMPLOYEE_DELETE_SUCCESS, 'success');\n      setIsEmployeeModalOpen(false);\n      setSelectedEmployeeId(undefined);\n      setEmployeeFormMode('create');\n      await loadUsers();\n    } catch (error) {\n      const message =\n        error instanceof Error ? error.message : EMPLOYEE_DELETE_ERROR;\n      showToast(message || EMPLOYEE_DELETE_ERROR, 'error');\n    } finally {\n      setConfirmEmployeeDelete(false);\n    }\n  }, [selectedEmployeeId, loadUsers]);\n\n  const submit = async () => {\n    if (active === 'fleets') return;\n    const trimmedName = form.name.trim();\n    if (!trimmedName) return;\n    if (form._id && selectedCollectionInfo.readonly) {\n      setHint(\n        selectedCollectionInfo.notice ??\n          '         .',\n      );\n      return;\n    }\n    let valueToSave = form.value;\n    let metaToSave: Record<string, unknown> | undefined;\n    if (active === 'departments') {\n      valueToSave = safeParseIds(form.value).join(',');\n    } else if (active === 'objects') {\n      const address = (form.address ?? form.value ?? '').trim();\n      if (!address) {\n        setHint('  .');\n        return;\n      }\n      valueToSave = address;\n      const latitude = parseCoordinateInput(form.latitude);\n      const longitude = parseCoordinateInput(form.longitude);\n      const meta: Record<string, unknown> = {\n        ...(form.meta ?? {}),\n        address,\n      };\n      if (latitude !== undefined) {\n        meta.latitude = latitude;\n      }\n      if (longitude !== undefined) {\n        meta.longitude = longitude;\n      }\n      if (latitude !== undefined || longitude !== undefined) {\n        meta.location = { lat: latitude, lng: longitude };\n      }\n      metaToSave = meta;\n    } else {\n      valueToSave = form.value.trim();\n      if (!valueToSave) {\n        setHint('  .');\n        return;\n      }\n    }\n    try {\n      let saved: CollectionItem | null = null;\n      const payload = {\n        name: trimmedName,\n        value: valueToSave,\n        ...(metaToSave ? { meta: metaToSave } : {}),\n      };\n      if (form._id) {\n        saved = await updateCollectionItem(form._id, payload, {\n          collectionType: active,\n        });\n      } else {\n        saved = await createCollectionItem(active, payload);\n      }\n      if (!saved) {\n        throw new Error('    ');\n      }\n      setHint('');\n      await load();\n      closeCollectionModal();\n    } catch (error) {\n      const message =\n        error instanceof Error ? error.message : '   ';\n      setHint(message);\n    }\n  };\n\n  const remove = async () => {\n    if (!form._id) return;\n    if (selectedCollectionInfo.readonly) {\n      setHint(\n        selectedCollectionInfo.notice ??\n          '         .',\n      );\n      return;\n    }\n    try {\n      await removeCollectionItem(form._id);\n      setHint('');\n      await load();\n      closeCollectionModal();\n    } catch (e) {\n      const msg = e instanceof Error ? e.message : '';\n      setHint(msg);\n    }\n  };\n\n  const submitUser = async () => {\n    if (!userForm.telegram_id) return;\n    const id = userForm.telegram_id;\n    if (!users.find((u) => u.telegram_id === id)) {\n      await createUserApi(id, userForm.username, userForm.roleId);\n    }\n    const { telegram_id: _telegramId, ...data } = userForm;\n    await updateUserApi(id, data);\n    void loadUsers();\n    closeUserModal();\n  };\n\n  const departmentMap = useMemo(() => {\n    const map = new Map<string, string>();\n    allDepartments.forEach((d) => map.set(d._id, d.name));\n    return map;\n  }, [allDepartments]);\n\n  const divisionMap = useMemo(() => {\n    const map = new Map<string, string>();\n    allDivisions.forEach((d) => map.set(d._id, d.name));\n    return map;\n  }, [allDivisions]);\n\n  const positionMap = useMemo(() => {\n    const map = new Map<string, string>();\n    allPositions.forEach((position) => map.set(position._id, position.name));\n    return map;\n  }, [allPositions]);\n\n  const employeeDetailsIndex = useMemo(\n    () => buildEmployeeDetailsIndex(items),\n    [items],\n  );\n\n  const enrichUserWithEmployeeDetails = useCallback(\n    (user: User) =>\n      mergeEmployeeDetails(\n        user,\n        findEmployeeDetails(user, employeeDetailsIndex),\n      ),\n    [employeeDetailsIndex],\n  );\n\n  const enrichedUsers = useMemo(\n    () => users.map((user) => enrichUserWithEmployeeDetails(user)),\n    [users, enrichUserWithEmployeeDetails],\n  );\n\n  const roleMap = useMemo(() => {\n    const map = new Map<string, string>();\n    allRoles.forEach((role) => map.set(role._id, role.name));\n    return map;\n  }, [allRoles]);\n\n  const { divisionOwners, duplicateDivisionIds } = useMemo(() => {\n    const owners = new Map<string, string>();\n    const duplicates = new Set<string>();\n    allDepartments.forEach((department) => {\n      safeParseIds(department.value).forEach((divisionId) => {\n        const currentOwner = owners.get(divisionId);\n        if (currentOwner && currentOwner !== department._id) {\n          duplicates.add(divisionId);\n          return;\n        }\n        if (!currentOwner) {\n          owners.set(divisionId, department._id);\n        }\n      });\n    });\n    return {\n      divisionOwners: owners,\n      duplicateDivisionIds: Array.from(duplicates),\n    };\n  }, [allDepartments]);\n\n  const duplicateDivisionHint = useMemo(() => {\n    if (!duplicateDivisionIds.length) return '';\n    const names = duplicateDivisionIds\n      .map(\n        (id) =>\n          divisionMap.get(id) ??\n          allDivisions.find((division) => division._id === id)?.name ??\n          id,\n      )\n      .filter((name): name is string => Boolean(name));\n    const suffix = names.length ? `: ${names.join(', ')}.` : '.';\n    return `${DUPLICATE_DIVISION_HINT_PREFIX}${suffix}`;\n  }, [duplicateDivisionIds, divisionMap, allDivisions]);\n\n  useEffect(() => {\n    if (duplicateDivisionHint) {\n      setHint((prev) => (prev ? prev : duplicateDivisionHint));\n      return;\n    }\n    setHint((prev) =>\n      prev && prev.startsWith(DUPLICATE_DIVISION_HINT_PREFIX) ? '' : prev,\n    );\n  }, [duplicateDivisionHint]);\n\n  const getItemDisplayValue = useCallback(\n    (item: CollectionItem, type: CollectionKey) => {\n      if (type === 'departments') {\n        const ids = safeParseIds(item.value);\n        if (!ids.length) return SETTINGS_BADGE_EMPTY;\n        const names = ids\n          .map(\n            (id) =>\n              divisionMap.get(id) ??\n              allDivisions.find((division) => division._id === id)?.name ??\n              id,\n          )\n          .filter((name): name is string => Boolean(name));\n        return names.length ? names.join('\\n') : SETTINGS_BADGE_EMPTY;\n      }\n      if (type === 'divisions') {\n        const departmentName =\n          departmentMap.get(item.value) ??\n          allDepartments.find((department) => department._id === item.value)\n            ?.name ??\n          item.value;\n        return departmentName\n          ? formatCollectionRawValue(departmentName)\n          : SETTINGS_BADGE_EMPTY;\n      }\n      if (type === 'positions') {\n        const divisionName =\n          divisionMap.get(item.value) ??\n          allDivisions.find((division) => division._id === item.value)?.name ??\n          item.value;\n        return divisionName\n          ? formatCollectionRawValue(divisionName)\n          : SETTINGS_BADGE_EMPTY;\n      }\n      if (type === 'objects') {\n        const object = toCollectionObject(item);\n        const coordinates = formatCoordinatesValue(\n          object.latitude,\n          object.longitude,\n        );\n        if (coordinates !== SETTINGS_BADGE_EMPTY) {\n          return coordinates;\n        }\n        const address = object.address?.trim();\n        return address || SETTINGS_BADGE_EMPTY;\n      }\n      const formatted = formatCollectionRawValue(item.value ?? '');\n      return formatted || SETTINGS_BADGE_EMPTY;\n    },\n    [\n      allDepartments,\n      allDivisions,\n      departmentMap,\n      divisionMap,\n      formatCoordinatesValue,\n    ],\n  );\n\n  const formatMetaSummary = useCallback((meta?: CollectionItem['meta']) => {\n    if (!meta) return SETTINGS_BADGE_EMPTY;\n    const summary = summarizeRecord(meta as Record<string, unknown>);\n    return summary || SETTINGS_BADGE_EMPTY;\n  }, []);\n\n\n  const parseCoordinateInput = useCallback((value?: string) => {\n    if (!value) return undefined;\n    const trimmed = value.trim();\n    if (!trimmed) return undefined;\n    const parsed = Number.parseFloat(trimmed);\n    return Number.isFinite(parsed) ? parsed : undefined;\n  }, []);\n\n  const copyIdLabel = t('collections.actions.copyId');\n  const copiedIdLabel = t('collections.actions.copiedId');\n\n  const localizeColumns = useCallback(\n    (columns: CollectionColumn[]) =>\n      columns.map((column) => {\n        if (!hasAccessorKey(column)) {\n          return column;\n        }\n        switch (column.accessorKey) {\n          case 'name':\n            return { ...column, header: t('collections.table.columns.name') };\n          case 'value':\n            return { ...column, header: t('collections.table.columns.value') };\n          case 'displayValue':\n            return {\n              ...column,\n              header: t('collections.table.columns.relations'),\n            };\n          case 'type':\n            return { ...column, header: t('collections.table.columns.type') };\n          case '_id':\n            return {\n              ...column,\n              header: t('collections.table.columns.id'),\n              cell: ({ getValue }) => {\n                const raw = getValue<string>();\n                const safeValue = typeof raw === 'string' ? raw : '';\n                if (!safeValue) {\n                  return (\n                    <span className=\"text-xs text-[color:var(--color-gray-500)] dark:text-[color:var(--color-gray-300)]\">\n                      {SETTINGS_BADGE_EMPTY}\n                    </span>\n                  );\n                }\n                return (\n                  <CopyableId\n                    value={safeValue}\n                    copyHint={copyIdLabel}\n                    copiedHint={copiedIdLabel}\n                  />\n                );\n              },\n            };\n          case 'metaSummary':\n            return {\n              ...column,\n              header: t('collections.table.columns.meta'),\n            };\n          case 'address':\n            return {\n              ...column,\n              header: t('collections.table.columns.address'),\n            };\n          case 'coordinates':\n            return {\n              ...column,\n              header: t('collections.table.columns.coordinates'),\n            };\n          default:\n            return column;\n        }\n      }),\n    [copiedIdLabel, copyIdLabel, t],\n  );\n\n  const localizedCollectionColumns = useMemo(\n    () => localizeColumns(collectionColumns),\n    [localizeColumns],\n  );\n\n  const localizedObjectColumns = useMemo(\n    () => localizeColumns(collectionObjectColumns),\n    [localizeColumns],\n  );\n\n  const collectionSearchPlaceholder = t('collections.search.placeholder');\n  const collectionSearchHint = t('collections.search.hint');\n  const collectionSearchCta = t('collections.actions.search');\n  const collectionResetCta = t('collections.actions.reset');\n  const collectionAddCta = t('collections.actions.add');\n  const collectionEmptyTitle = t('collections.table.empty.title');\n  const collectionEmptyDescription = t('collections.table.empty.description');\n  const collectionEmptyAction = t('collections.table.empty.action');\n  const userSearchPlaceholder = t('collections.users.searchPlaceholder');\n  const userAddCta = t('collections.users.add');\n  const employeeSearchPlaceholder = t(\n    'collections.employees.searchPlaceholder',\n  );\n  const employeeAddCta = t('collections.employees.add');\n\n  const buildCollectionColumns = useCallback(\n    (excludedKeys: string[]) =>\n      localizedCollectionColumns.filter(\n        (column) =>\n          !hasAccessorKey(column) || !excludedKeys.includes(column.accessorKey),\n      ),\n    [localizedCollectionColumns],\n  );\n\n  const departmentColumns = useMemo(\n    () => buildCollectionColumns(['value', 'type', 'metaSummary']),\n    [buildCollectionColumns],\n  );\n\n  const divisionColumns = useMemo(\n    () => buildCollectionColumns(['type', 'metaSummary']),\n    [buildCollectionColumns],\n  );\n\n  const positionColumns = useMemo(\n    () => buildCollectionColumns(['type', 'metaSummary']),\n    [buildCollectionColumns],\n  );\n\n  const renderDepartmentValueField = useCallback(\n    (\n      currentForm: ItemForm,\n      handleChange: (next: ItemForm) => void,\n      options?: { readonly?: boolean },\n    ) => {\n      const selected = safeParseIds(currentForm.value);\n      const handleSelect = (event: React.ChangeEvent<HTMLSelectElement>) => {\n        const values = Array.from(event.target.selectedOptions).map(\n          (option) => option.value,\n        );\n        handleChange({ ...currentForm, value: values.join(',') });\n      };\n      return (\n        <select\n          multiple\n          className=\"min-h-[8rem] w-full rounded border px-3 py-2\"\n          value={selected}\n          onChange={handleSelect}\n          disabled={options?.readonly}\n        >\n          {allDivisions\n            .filter((division) => {\n              const ownerId = divisionOwners.get(division._id);\n              if (!ownerId) return true;\n              const isSelected = selected.includes(division._id);\n              if (isSelected) return true;\n              if (!currentForm._id) return false;\n              return ownerId === currentForm._id;\n            })\n            .map((division) => (\n              <option key={division._id} value={division._id}>\n                {division.name}\n              </option>\n            ))}\n        </select>\n      );\n    },\n    [allDivisions, divisionOwners],\n  );\n\n  const renderDivisionValueField = useCallback(\n    (\n      currentForm: ItemForm,\n      handleChange: (next: ItemForm) => void,\n      options?: { readonly?: boolean },\n    ) => (\n      <select\n        className=\"h-10 w-full rounded border px-3\"\n        value={currentForm.value}\n        onChange={(event) =>\n          handleChange({ ...currentForm, value: event.target.value })\n        }\n        required\n        disabled={options?.readonly}\n      >\n        <option value=\"\" disabled>\n           \n        </option>\n        {allDepartments.map((department) => (\n          <option key={department._id} value={department._id}>\n            {department.name}\n          </option>\n        ))}\n      </select>\n    ),\n    [allDepartments],\n  );\n\n  const renderPositionValueField = useCallback(\n    (\n      currentForm: ItemForm,\n      handleChange: (next: ItemForm) => void,\n      options?: { readonly?: boolean },\n    ) => (\n      <select\n        className=\"h-10 w-full rounded border px-3\"\n        value={currentForm.value}\n        onChange={(event) =>\n          handleChange({ ...currentForm, value: event.target.value })\n        }\n        required\n        disabled={options?.readonly}\n      >\n        <option value=\"\" disabled>\n           \n        </option>\n        {allDivisions.map((division) => (\n          <option key={division._id} value={division._id}>\n            {division.name}\n          </option>\n        ))}\n      </select>\n    ),\n    [allDivisions],\n  );\n\n  const renderObjectValueField = useCallback(\n    (\n      currentForm: ItemForm,\n      handleChange: (next: ItemForm) => void,\n      options?: { readonly?: boolean },\n    ) => {\n      const readonly = options?.readonly;\n      const addressValue = currentForm.address ?? currentForm.value;\n      return (\n        <div className=\"space-y-2\">\n          <input\n            className=\"h-10 w-full rounded border px-3\"\n            value={addressValue}\n            placeholder=\" \"\n            onChange={(event) =>\n              handleChange({\n                ...currentForm,\n                address: event.target.value,\n                value: event.target.value,\n              })\n            }\n            required\n            disabled={readonly}\n          />\n          <div className=\"grid grid-cols-1 gap-2 sm:grid-cols-2\">\n            <input\n              className=\"h-10 w-full rounded border px-3\"\n              value={currentForm.latitude ?? ''}\n              placeholder=\"\"\n              onChange={(event) =>\n                handleChange({\n                  ...currentForm,\n                  latitude: event.target.value,\n                })\n              }\n              disabled={readonly}\n            />\n            <input\n              className=\"h-10 w-full rounded border px-3\"\n              value={currentForm.longitude ?? ''}\n              placeholder=\"\"\n              onChange={(event) =>\n                handleChange({\n                  ...currentForm,\n                  longitude: event.target.value,\n                })\n              }\n              disabled={readonly}\n            />\n          </div>\n        </div>\n      );\n    },\n    [],\n  );\n\n  const totalPages = Math.ceil(total / limit) || 1;\n  const filteredUsers = useMemo(() => {\n    const trimmed = userQuery.trim();\n    if (!trimmed) {\n      return enrichedUsers;\n    }\n    return matchSorter<User>(enrichedUsers, trimmed, {\n      keys: [\n        {\n          key: (item: User) => item.username ?? '',\n          threshold: rankings.STARTS_WITH,\n        },\n        {\n          key: (item: User) => item.telegram_username ?? '',\n          threshold: rankings.STARTS_WITH,\n        },\n        {\n          key: (item: User) =>\n            item.telegram_id !== undefined && item.telegram_id !== null\n              ? String(item.telegram_id)\n              : '',\n          threshold: rankings.STARTS_WITH,\n        },\n        {\n          key: (item: User) => buildUserSearchTokens(item),\n          threshold: rankings.CONTAINS,\n        },\n      ],\n    });\n  }, [userQuery, enrichedUsers]);\n  const userTotalPages = Math.ceil(filteredUsers.length / limit) || 1;\n  const paginatedUsers = filteredUsers.slice(\n    (userPage - 1) * limit,\n    userPage * limit,\n  );\n\n  const employeeRows = useMemo<EmployeeRow[]>(\n    () =>\n      paginatedUsers.map((user) => {\n        const mergedUser = enrichUserWithEmployeeDetails(user);\n        const roleId =\n          typeof mergedUser.roleId === 'string' ? mergedUser.roleId.trim() : '';\n        const departmentId =\n          typeof mergedUser.departmentId === 'string'\n            ? mergedUser.departmentId.trim()\n            : '';\n        const divisionId =\n          typeof mergedUser.divisionId === 'string'\n            ? mergedUser.divisionId.trim()\n            : '';\n        const positionId =\n          typeof mergedUser.positionId === 'string'\n            ? mergedUser.positionId.trim()\n            : '';\n        const roleNameFromMap = resolveReferenceName(\n          roleMap,\n          roleId,\n          mergedUser.roleName,\n        );\n        const departmentName = resolveReferenceName(\n          departmentMap,\n          departmentId,\n          mergedUser.departmentName,\n        );\n        const divisionName = resolveReferenceName(\n          divisionMap,\n          divisionId,\n          mergedUser.divisionName,\n        );\n        const positionName = resolveReferenceName(\n          positionMap,\n          positionId,\n          mergedUser.positionName,\n        );\n        const roleLabel =\n          roleNameFromMap ||\n          (mergedUser.role ? formatRoleName(mergedUser.role) : '');\n        return buildEmployeeRow({\n          ...mergedUser,\n          roleId,\n          departmentId,\n          divisionId,\n          positionId,\n          roleName: roleLabel,\n          departmentName,\n          divisionName,\n          positionName,\n        });\n      }),\n    [\n      paginatedUsers,\n      roleMap,\n      departmentMap,\n      divisionMap,\n      positionMap,\n      enrichUserWithEmployeeDetails,\n    ],\n  );\n\n  const selectedEmployee = useMemo(() => {\n    if (!selectedEmployeeId) return undefined;\n    const base = enrichedUsers.find(\n      (u) => String(u.telegram_id) === selectedEmployeeId,\n    );\n    if (base) {\n      return base;\n    }\n    const fallbackDetails = findEmployeeDetails(\n      undefined,\n      employeeDetailsIndex,\n      selectedEmployeeId,\n    );\n    if (!fallbackDetails) return undefined;\n    const fallbackUser: User = {};\n    if (typeof fallbackDetails.telegram_id === 'number') {\n      fallbackUser.telegram_id = fallbackDetails.telegram_id;\n    } else {\n      const parsedId = Number(selectedEmployeeId);\n      if (Number.isFinite(parsedId)) {\n        fallbackUser.telegram_id = parsedId;\n      }\n    }\n    if (fallbackDetails.username) {\n      fallbackUser.username = fallbackDetails.username;\n    }\n    if (fallbackDetails.telegram_username) {\n      fallbackUser.telegram_username = fallbackDetails.telegram_username;\n    }\n    return mergeEmployeeDetails(fallbackUser, fallbackDetails);\n  }, [employeeDetailsIndex, enrichedUsers, selectedEmployeeId]);\n\n  const selectedDepartmentDivisionNames = useMemo(() => {\n    if (!selectedCollection || selectedCollection.type !== 'departments') {\n      return [] as string[];\n    }\n    const ids = safeParseIds(selectedCollection.value);\n    return ids\n      .map(\n        (id) =>\n          divisionMap.get(id) ??\n          allDivisions.find((division) => division._id === id)?.name ??\n          id,\n      )\n      .filter((name): name is string => Boolean(name));\n  }, [selectedCollection, divisionMap, allDivisions]);\n\n  const selectedDivisionDepartmentName = useMemo(() => {\n    if (!selectedCollection || selectedCollection.type !== 'divisions') {\n      return SETTINGS_BADGE_EMPTY;\n    }\n    const departmentId = selectedCollection.value;\n    if (!departmentId) return SETTINGS_BADGE_EMPTY;\n    return (\n      departmentMap.get(departmentId) ??\n      allDepartments.find((department) => department._id === departmentId)\n        ?.name ??\n      departmentId\n    );\n  }, [selectedCollection, departmentMap, allDepartments]);\n\n  const selectedDivisionPositionNames = useMemo(() => {\n    if (!selectedCollection || selectedCollection.type !== 'divisions') {\n      return [] as string[];\n    }\n    return allPositions\n      .filter((position) => position.value === selectedCollection._id)\n      .map((position) => position.name)\n      .filter((name): name is string => Boolean(name));\n  }, [selectedCollection, allPositions]);\n\n  const selectedDivisionEmployeeNames = useMemo(() => {\n    if (!selectedCollection || selectedCollection.type !== 'divisions') {\n      return [] as string[];\n    }\n    return enrichedUsers\n      .filter((user) => user.divisionId === selectedCollection._id)\n      .map((user) => {\n        if (user.name && user.name.trim()) return user.name.trim();\n        if (user.username && user.username.trim()) return user.username.trim();\n        if (user.telegram_id !== undefined && user.telegram_id !== null)\n          return `ID ${user.telegram_id}`;\n        return ' ';\n      });\n  }, [selectedCollection, enrichedUsers]);\n\n  const directoriesToolbar = (() => {\n    if (activeModule !== 'directories') {\n      return null;\n    }\n    if (isUserSearchActive || isEmployeeSearchActive) {\n      const isEmployee = isEmployeeSearchActive;\n      const placeholder = isEmployee\n        ? employeeSearchPlaceholder\n        : userSearchPlaceholder;\n      const addLabel = isEmployee ? employeeAddCta : userAddCta;\n      const handleAdd = isEmployee\n        ? () => openEmployeeModal()\n        : () => openUserModal();\n      return (\n        <div className=\"flex w-full flex-col gap-2 sm:flex-row sm:items-end sm:justify-between\">\n          <div className=\"flex w-full flex-col gap-1 sm:w-72\">\n            <label htmlFor=\"settings-users-search\" className=\"sr-only\">\n              {collectionSearchCta}\n            </label>\n            <input\n              id=\"settings-users-search\"\n              className=\"h-10 w-full rounded-2xl border border-[color:var(--color-gray-200)] bg-white px-3 text-sm text-[color:var(--color-gray-900)] shadow-sm outline-none transition focus:border-[color:var(--color-brand-400)] focus:ring-2 focus:ring-[color:var(--color-brand-200)] dark:border-[color:var(--color-gray-700)] dark:bg-[color:var(--color-gray-dark)] dark:text-white\"\n              value={userSearchDraft}\n              onChange={(event) => setUserSearchDraft(event.target.value)}\n              onKeyDown={handleUserSearchKeyDown}\n              placeholder={placeholder}\n            />\n            <span className=\"text-[11px] text-[color:var(--color-gray-500)] dark:text-[color:var(--color-gray-300)]\">\n              {collectionSearchHint}\n            </span>\n          </div>\n          <div className=\"flex flex-wrap items-center gap-2\">\n            <Button size=\"sm\" onClick={() => submitUserSearch()}>\n              {collectionSearchCta}\n            </Button>\n            <Button\n              size=\"sm\"\n              variant=\"outline\"\n              onClick={() => {\n                setUserSearchDraft('');\n                submitUserSearch();\n              }}\n            >\n              {collectionResetCta}\n            </Button>\n            <Button size=\"sm\" variant=\"success\" onClick={handleAdd}>\n              {addLabel}\n            </Button>\n          </div>\n        </div>\n      );\n    }\n    if (isCollectionSearchSupported) {\n      return (\n        <div className=\"flex w-full flex-col gap-2 sm:flex-row sm:items-end sm:justify-between\">\n          <div className=\"flex w-full flex-col gap-1 sm:w-72\">\n            <label htmlFor=\"settings-collections-search\" className=\"sr-only\">\n              {collectionSearchCta}\n            </label>\n            <input\n              id=\"settings-collections-search\"\n              className=\"h-10 w-full rounded-2xl border border-[color:var(--color-gray-200)] bg-white px-3 text-sm text-[color:var(--color-gray-900)] shadow-sm outline-none transition focus:border-[color:var(--color-brand-400)] focus:ring-2 focus:ring-[color:var(--color-brand-200)] dark:border-[color:var(--color-gray-700)] dark:bg-[color:var(--color-gray-dark)] dark:text-white\"\n              value={currentSearchDraft}\n              onChange={(event) =>\n                updateCollectionSearchDraft(event.target.value)\n              }\n              onKeyDown={handleCollectionSearchKeyDown}\n              placeholder={collectionSearchPlaceholder}\n            />\n            <span className=\"text-[11px] text-[color:var(--color-gray-500)] dark:text-[color:var(--color-gray-300)]\">\n              {collectionSearchHint}\n            </span>\n          </div>\n          <div className=\"flex flex-wrap items-center gap-2\">\n            <Button size=\"sm\" onClick={() => submitCollectionSearch()}>\n              {collectionSearchCta}\n            </Button>\n            <Button size=\"sm\" variant=\"outline\" onClick={resetCollectionSearch}>\n              {collectionResetCta}\n            </Button>\n            <Button\n              size=\"sm\"\n              variant=\"success\"\n              onClick={() => openCollectionModal()}\n            >\n              {collectionAddCta}\n            </Button>\n          </div>\n        </div>\n      );\n    }\n    return (\n      <div className=\"flex flex-wrap items-center gap-2\">\n        <Button\n          size=\"sm\"\n          variant=\"success\"\n          onClick={() => openCollectionModal()}\n        >\n          {collectionAddCta}\n        </Button>\n      </div>\n    );\n  })();\n\n  return (\n    <div className=\"mx-auto flex w-full max-w-screen-2xl flex-col gap-6 px-3 pb-12 pt-4 sm:px-4 lg:px-8\">\n      <Tabs\n        value={activeModule}\n        onValueChange={(value) =>\n          handleModuleChange(value as SettingsModuleKey)\n        }\n        className=\"space-y-6\"\n      >\n        <ActionBar\n          breadcrumbs={<Breadcrumbs items={breadcrumbs} />}\n          title={t('collections.page.title')}\n          description={t('collections.page.description')}\n          toolbar={directoriesToolbar}\n        >\n          <div className=\"flex flex-col gap-3\">\n            <div className=\"sm:hidden\">\n              <label htmlFor=\"settings-module-select\" className=\"sr-only\">\n                {t('collections.moduleSelectLabel')}\n              </label>\n              <select\n                id=\"settings-module-select\"\n                className=\"h-11 w-full rounded-2xl border border-[color:var(--color-gray-200)] bg-white px-3 text-sm font-semibold text-[color:var(--color-gray-800)] shadow-sm outline-none transition focus:border-[color:var(--color-brand-400)] focus:ring-2 focus:ring-[color:var(--color-brand-200)] dark:border-[color:var(--color-gray-700)] dark:bg-[color:var(--color-gray-dark)] dark:text-white\"\n                value={activeModule}\n                onChange={(event) =>\n                  handleModuleChange(event.target.value as SettingsModuleKey)\n                }\n              >\n                {moduleTabs.map((tab) => (\n                  <option key={tab.key} value={tab.key}>\n                    {tab.label}\n                  </option>\n                ))}\n              </select>\n            </div>\n            <TabsList className=\"hidden h-auto gap-2 bg-transparent p-0 sm:grid sm:gap-2 sm:p-1 sm:[grid-template-columns:repeat(5,minmax(11rem,1fr))]\">\n              {moduleTabs.map((tab) => {\n                const Icon = tab.icon;\n                const labelId = `${tab.key}-module-tab-label`;\n                return (\n                  <TabsTrigger\n                    key={tab.key}\n                    value={tab.key}\n                    aria-labelledby={labelId}\n                    className=\"group flex h-full min-h-[3.4rem] w-full flex-col items-center justify-center gap-1.5 rounded-xl border border-transparent px-3 py-2 text-sm font-semibold text-[color:var(--color-gray-700)] transition-colors duration-200 ease-out hover:bg-[color:var(--color-gray-50)] focus-visible:ring-2 focus-visible:ring-[color:var(--color-brand-400)] focus-visible:ring-offset-2 dark:text-[color:var(--color-gray-200)] dark:hover:bg-[color:var(--color-gray-800)] data-[state=active]:border-[color:var(--color-gray-200)] data-[state=active]:bg-white data-[state=active]:text-[color:var(--color-brand-600)] data-[state=active]:shadow-sm dark:data-[state=active]:border-[color:var(--color-gray-700)] dark:data-[state=active]:bg-[color:var(--color-gray-dark)] dark:data-[state=active]:text-[color:var(--color-brand-300)]\"\n                  >\n                    <Icon className=\"size-5 flex-shrink-0 text-[color:var(--color-gray-500)] transition-colors group-data-[state=active]:text-[color:var(--color-brand-600)] dark:text-[color:var(--color-gray-300)] dark:group-data-[state=active]:text-[color:var(--color-brand-300)] sm:size-6\" />\n                    <span\n                      id={labelId}\n                      className=\"truncate text-sm font-semibold leading-5 text-[color:var(--color-gray-800)] transition-colors group-data-[state=active]:text-[color:var(--color-brand-600)] dark:text-[color:var(--color-gray-100)] dark:group-data-[state=active]:text-[color:var(--color-brand-300)]\"\n                    >\n                      {tab.label}\n                    </span>\n                    {tab.description ? (\n                      <span className=\"hidden text-xs font-medium text-[color:var(--color-gray-500)] dark:text-[color:var(--color-gray-400)] sm:block\">\n                        {tab.description}\n                      </span>\n                    ) : null}\n                  </TabsTrigger>\n                );\n              })}\n            </TabsList>\n          </div>\n        </ActionBar>\n        <TabsContent value=\"directories\" className=\"mt-0 space-y-6\">\n          {hint ? (\n            <div className=\"rounded-2xl border border-[color:var(--color-error-200)] bg-[color:var(--color-error-25)] p-4 text-sm text-[color:var(--color-error-600)] dark:border-[color:var(--color-error-700)] dark:bg-[color:var(--color-error-900)]/40 dark:text-[color:var(--color-error-200)]\">\n              {hint}\n            </div>\n          ) : null}\n          <Tabs\n            value={active}\n            onValueChange={(value) => {\n              setActive(value as CollectionKey);\n              setPage(1);\n            }}\n            className=\"space-y-5\"\n          >\n            <div className=\"sm:hidden\">\n              <label htmlFor=\"settings-section-select\" className=\"sr-only\">\n                {t('collections.directorySelectLabel')}\n              </label>\n              <select\n                id=\"settings-section-select\"\n                className=\"h-11 w-full rounded-2xl border border-[color:var(--color-gray-200)] bg-white px-3 text-sm font-semibold text-[color:var(--color-gray-800)] shadow-sm outline-none transition focus:border-[color:var(--color-brand-400)] focus:ring-2 focus:ring-[color:var(--color-brand-200)] dark:border-[color:var(--color-gray-700)] dark:bg-[color:var(--color-gray-dark)] dark:text-white\"\n                value={active}\n                onChange={(event) => {\n                  setActive(event.target.value as CollectionKey);\n                  setPage(1);\n                }}\n              >\n                {types.map((type) => (\n                  <option key={type.key} value={type.key}>\n                    {type.label}\n                  </option>\n                ))}\n              </select>\n            </div>\n            <TabsList className=\"hidden gap-2 sm:grid sm:gap-2 sm:overflow-visible sm:p-1 sm:[grid-template-columns:repeat(7,minmax(9.5rem,1fr))]\">\n              {types.map((type) => {\n                const Icon = tabIcons[type.key as CollectionKey];\n                const labelId = `${type.key}-tab-label`;\n                return (\n                  <TabsTrigger\n                    key={type.key}\n                    value={type.key}\n                    aria-labelledby={labelId}\n                    className=\"group flex h-full min-h-[3.1rem] w-full flex-col items-center justify-center gap-1.5 rounded-xl border border-transparent px-3 py-2 text-sm font-semibold text-[color:var(--color-gray-700)] transition-colors duration-200 ease-out hover:bg-[color:var(--color-gray-50)] focus-visible:ring-2 focus-visible:ring-[color:var(--color-brand-400)] focus-visible:ring-offset-2 dark:text-[color:var(--color-gray-200)] dark:hover:bg-[color:var(--color-gray-800)] data-[state=active]:border-[color:var(--color-gray-200)] data-[state=active]:bg-white data-[state=active]:text-[color:var(--color-brand-600)] data-[state=active]:shadow-sm dark:data-[state=active]:border-[color:var(--color-gray-700)] dark:data-[state=active]:bg-[color:var(--color-gray-dark)] dark:data-[state=active]:text-[color:var(--color-brand-300)]\"\n                  >\n                    {Icon ? (\n                      <Icon className=\"size-5 flex-shrink-0 text-[color:var(--color-gray-500)] transition-colors group-data-[state=active]:text-[color:var(--color-brand-600)] dark:text-[color:var(--color-gray-300)] dark:group-data-[state=active]:text-[color:var(--color-brand-300)] sm:size-6\" />\n                    ) : null}\n                    <span\n                      id={labelId}\n                      className=\"truncate text-sm font-semibold leading-5 text-[color:var(--color-gray-800)] transition-colors group-data-[state=active]:text-[color:var(--color-brand-600)] dark:text-[color:var(--color-gray-100)] dark:group-data-[state=active]:text-[color:var(--color-brand-300)]\"\n                    >\n                      {type.label}\n                    </span>\n                    {type.description ? (\n                      <span\n                        aria-hidden=\"true\"\n                        className=\"hidden text-xs font-medium text-[color:var(--color-gray-500)] dark:text-[color:var(--color-gray-400)] sm:block\"\n                      >\n                        {type.description}\n                      </span>\n                    ) : null}\n                  </TabsTrigger>\n                );\n              })}\n            </TabsList>\n            {types.map((type) => {\n              const isActiveTab = type.key === active;\n              const rows: CollectionTableRow[] = isActiveTab\n                ? items.map((item) => {\n                    if (type.key === 'objects') {\n                      const object = toCollectionObject(item);\n                      return {\n                        ...item,\n                        address: object.address,\n                        coordinates: formatCoordinates(\n                          object.latitude,\n                          object.longitude,\n                        ),\n                        displayValue: object.address || SETTINGS_BADGE_EMPTY,\n                        metaSummary: formatMetaSummary(item.meta),\n                      };\n                    }\n                    return {\n                      ...item,\n                      displayValue: getItemDisplayValue(\n                        item,\n                        type.key as CollectionKey,\n                      ),\n                      metaSummary: formatMetaSummary(item.meta),\n                    };\n                  })\n                : [];\n              const columnsForType =\n                type.key === 'departments'\n                  ? departmentColumns\n                  : type.key === 'divisions'\n                    ? divisionColumns\n                    : type.key === 'positions'\n                      ? positionColumns\n                      : type.key === 'objects'\n                        ? localizedObjectColumns\n                        : localizedCollectionColumns;\n\n              if (type.key === 'users') {\n                const showEmpty = paginatedUsers.length === 0;\n                return (\n                  <TabsContent\n                    key={type.key}\n                    value={type.key}\n                    className=\"mt-0 flex flex-col gap-4\"\n                  >\n                    {showEmpty ? (\n                      <div className=\"flex flex-col items-center justify-center gap-3 rounded-2xl border border-[color:var(--color-gray-200)] bg-white p-8 text-center shadow-sm dark:border-[color:var(--color-gray-700)] dark:bg-[color:var(--color-gray-dark)]\">\n                        <h3 className=\"text-lg font-semibold text-[color:var(--color-gray-800)] dark:text-white\">\n                          {collectionEmptyTitle}\n                        </h3>\n                        <p className=\"max-w-md text-sm text-[color:var(--color-gray-600)] dark:text-[color:var(--color-gray-300)]\">\n                          {collectionEmptyDescription}\n                        </p>\n                        <Button\n                          variant=\"success\"\n                          onClick={() => openUserModal()}\n                        >\n                          {userAddCta}\n                        </Button>\n                      </div>\n                    ) : (\n                      <DataTable\n                        columns={settingsUserColumns}\n                        data={paginatedUsers}\n                        pageIndex={userPage - 1}\n                        pageSize={limit}\n                        pageCount={userTotalPages}\n                        onPageChange={(index) => setUserPage(index + 1)}\n                        showGlobalSearch={false}\n                        showFilters={false}\n                        onRowClick={(row) => openUserModal(row)}\n                        wrapCellsAsBadges\n                        badgeClassName={SETTINGS_BADGE_CLASS}\n                        badgeWrapperClassName={SETTINGS_BADGE_WRAPPER_CLASS}\n                        badgeEmptyPlaceholder={SETTINGS_BADGE_EMPTY}\n                      />\n                    )}\n                  </TabsContent>\n                );\n              }\n\n              if (type.key === 'employees') {\n                const showEmpty = employeeRows.length === 0;\n                return (\n                  <TabsContent\n                    key={type.key}\n                    value={type.key}\n                    className=\"mt-0 flex flex-col gap-4\"\n                  >\n                    {showEmpty ? (\n                      <div className=\"flex flex-col items-center justify-center gap-3 rounded-2xl border border-[color:var(--color-gray-200)] bg-white p-8 text-center shadow-sm dark:border-[color:var(--color-gray-700)] dark:bg-[color:var(--color-gray-dark)]\">\n                        <h3 className=\"text-lg font-semibold text-[color:var(--color-gray-800)] dark:text-white\">\n                          {collectionEmptyTitle}\n                        </h3>\n                        <p className=\"max-w-md text-sm text-[color:var(--color-gray-600)] dark:text-[color:var(--color-gray-300)]\">\n                          {collectionEmptyDescription}\n                        </p>\n                        <Button\n                          variant=\"success\"\n                          onClick={() => openEmployeeModal()}\n                        >\n                          {employeeAddCta}\n                        </Button>\n                      </div>\n                    ) : (\n                      <DataTable\n                        columns={settingsEmployeeColumns}\n                        data={employeeRows}\n                        pageIndex={userPage - 1}\n                        pageSize={limit}\n                        pageCount={userTotalPages}\n                        onPageChange={(index) => setUserPage(index + 1)}\n                        showGlobalSearch={false}\n                        showFilters={false}\n                        onRowClick={(row) => openEmployeeModal(row)}\n                        wrapCellsAsBadges\n                        badgeClassName={SETTINGS_BADGE_CLASS}\n                        badgeWrapperClassName={SETTINGS_BADGE_WRAPPER_CLASS}\n                        badgeEmptyPlaceholder={SETTINGS_BADGE_EMPTY}\n                      />\n                    )}\n                  </TabsContent>\n                );\n              }\n\n              if (type.key === 'tasks') {\n                return (\n                  <TabsContent key={type.key} value={type.key} className=\"mt-0\">\n                    <TaskSettingsTab\n                      fields={taskFieldItems}\n                      types={taskTypeItems}\n                      loading={tasksLoading}\n                      onSaveField={saveTaskField}\n                      onDeleteField={deleteTaskField}\n                      onSaveType={saveTaskType}\n                      onDeleteType={deleteTaskType}\n                    />\n                  </TabsContent>\n                );\n              }\n\n              if (type.key === 'fleets') {\n                return (\n                  <TabsContent key={type.key} value={type.key} className=\"mt-0\">\n                    <FleetVehiclesTab />\n                  </TabsContent>\n                );\n              }\n\n              const showEmpty = rows.length === 0;\n              return (\n                <TabsContent\n                  key={type.key}\n                  value={type.key}\n                  className=\"mt-0 flex flex-col gap-4\"\n                >\n                  {isActiveTab && isLoading ? (\n                    <div className=\"flex min-h-[12rem] items-center justify-center rounded-2xl border border-[color:var(--color-gray-200)] bg-white shadow-sm dark:border-[color:var(--color-gray-700)] dark:bg-[color:var(--color-gray-dark)]\">\n                      <Spinner className=\"h-6 w-6 text-[color:var(--color-brand-500)]\" />\n                    </div>\n                  ) : showEmpty ? (\n                    <div className=\"flex flex-col items-center justify-center gap-3 rounded-2xl border border-[color:var(--color-gray-200)] bg-white p-8 text-center shadow-sm dark:border-[color:var(--color-gray-700)] dark:bg-[color:var(--color-gray-dark)]\">\n                      <h3 className=\"text-lg font-semibold text-[color:var(--color-gray-800)] dark:text-white\">\n                        {collectionEmptyTitle}\n                      </h3>\n                      <p className=\"max-w-md text-sm text-[color:var(--color-gray-600)] dark:text-[color:var(--color-gray-300)]\">\n                        {collectionEmptyDescription}\n                      </p>\n                      <Button\n                        variant=\"success\"\n                        onClick={() => openCollectionModal()}\n                      >\n                        {collectionEmptyAction}\n                      </Button>\n                    </div>\n                  ) : (\n                    <DataTable\n                      columns={columnsForType}\n                      data={rows}\n                      pageIndex={page - 1}\n                      pageSize={limit}\n                      pageCount={totalPages}\n                      onPageChange={(index) => setPage(index + 1)}\n                      showGlobalSearch={false}\n                      showFilters={false}\n                      onRowClick={(row) => openCollectionModal(row)}\n                      wrapCellsAsBadges\n                      badgeClassName={SETTINGS_BADGE_CLASS}\n                      badgeWrapperClassName={SETTINGS_BADGE_WRAPPER_CLASS}\n                      badgeEmptyPlaceholder={SETTINGS_BADGE_EMPTY}\n                    />\n                  )}\n                </TabsContent>\n              );\n            })}\n          </Tabs>\n        </TabsContent>\n        <Modal open={collectionModalOpen} onClose={closeCollectionModal}>\n          <div className=\"space-y-4\">\n            {selectedCollection ? (\n              <article className=\"rounded-xl border border-slate-200 bg-slate-50 p-4 shadow-sm\">\n                {selectedCollection.type === 'departments' ? (\n                  <>\n                    <h3 className=\"text-base font-semibold\">\n                        \n                    </h3>\n                    <dl className=\"mt-2 space-y-3 text-sm\">\n                      <div className=\"flex justify-between gap-4\">\n                        <dt className=\"font-medium text-slate-500\">ID</dt>\n                        <dd className=\"text-right text-slate-900\">\n                          {selectedCollection._id}\n                        </dd>\n                      </div>\n                      <div className=\"flex justify-between gap-4\">\n                        <dt className=\"font-medium text-slate-500\"></dt>\n                        <dd className=\"text-right text-slate-900\">\n                          {selectedCollection.name}\n                        </dd>\n                      </div>\n                      <div>\n                        <dt className=\"font-medium text-slate-500\">\n                           \n                        </dt>\n                        <dd className=\"mt-2\">\n                          {renderBadgeList(selectedDepartmentDivisionNames)}\n                        </dd>\n                      </div>\n                    </dl>\n                  </>\n                ) : selectedCollection.type === 'divisions' ? (\n                  <>\n                    <h3 className=\"text-base font-semibold\">\n                        \n                    </h3>\n                    <dl className=\"mt-2 space-y-3 text-sm\">\n                      <div className=\"flex justify-between gap-4\">\n                        <dt className=\"font-medium text-slate-500\">ID</dt>\n                        <dd className=\"text-right text-slate-900\">\n                          {selectedCollection._id}\n                        </dd>\n                      </div>\n                      <div className=\"flex justify-between gap-4\">\n                        <dt className=\"font-medium text-slate-500\"></dt>\n                        <dd className=\"text-right text-slate-900\">\n                          {selectedCollection.name}\n                        </dd>\n                      </div>\n                      <div className=\"flex justify-between gap-4\">\n                        <dt className=\"font-medium text-slate-500\">\n                          \n                        </dt>\n                        <dd className=\"text-right text-slate-900\">\n                          {selectedDivisionDepartmentName || ''}\n                        </dd>\n                      </div>\n                      <div>\n                        <dt className=\"font-medium text-slate-500\">\n                           \n                        </dt>\n                        <dd className=\"mt-2\">\n                          {renderBadgeList(selectedDivisionPositionNames)}\n                        </dd>\n                      </div>\n                      <div>\n                        <dt className=\"font-medium text-slate-500\">\n                           \n                        </dt>\n                        <dd className=\"mt-2\">\n                          {renderBadgeList(selectedDivisionEmployeeNames)}\n                        </dd>\n                      </div>\n                    </dl>\n                  </>\n                ) : selectedCollection.type === 'objects' &&\n                  selectedObjectDetails ? (\n                  <>\n                    <h3 className=\"text-base font-semibold\">\n                        \n                    </h3>\n                    <dl className=\"mt-2 space-y-3 text-sm\">\n                      <div className=\"flex justify-between gap-4\">\n                        <dt className=\"font-medium text-slate-500\">ID</dt>\n                        <dd className=\"text-right text-slate-900\">\n                          {selectedCollection._id}\n                        </dd>\n                      </div>\n                      <div className=\"flex justify-between gap-4\">\n                        <dt className=\"font-medium text-slate-500\"></dt>\n                        <dd className=\"text-right text-slate-900\">\n                          {selectedCollection.name}\n                        </dd>\n                      </div>\n                      <div className=\"flex justify-between gap-4\">\n                        <dt className=\"font-medium text-slate-500\"></dt>\n                        <dd className=\"text-right text-slate-900\">\n                          {selectedObjectDetails.address || ''}\n                        </dd>\n                      </div>\n                      <div className=\"flex justify-between gap-4\">\n                        <dt className=\"font-medium text-slate-500\">\n                          \n                        </dt>\n                        <dd className=\"text-right text-slate-900\">\n                          {formatCoordinates(\n                            selectedObjectDetails.latitude,\n                            selectedObjectDetails.longitude,\n                          )}\n                        </dd>\n                      </div>\n                      <div>\n                        <dt className=\"font-medium text-slate-500\">Meta</dt>\n                        <dd className=\"mt-1\">\n                          <pre className=\"max-h-48 overflow-auto rounded bg-white p-2 text-xs text-slate-800\">\n                            {selectedCollection.meta\n                              ? JSON.stringify(selectedCollection.meta, null, 2)\n                              : '{}'}\n                          </pre>\n                        </dd>\n                      </div>\n                    </dl>\n                  </>\n                ) : (\n                  <>\n                    <h3 className=\"text-base font-semibold\">\n                       \n                    </h3>\n                    <dl className=\"mt-2 space-y-1 text-sm\">\n                      <div className=\"flex justify-between gap-4\">\n                        <dt className=\"font-medium text-slate-500\">ID</dt>\n                        <dd className=\"text-right text-slate-900\">\n                          {selectedCollection._id}\n                        </dd>\n                      </div>\n                      <div className=\"flex justify-between gap-4\">\n                        <dt className=\"font-medium text-slate-500\"></dt>\n                        <dd className=\"text-right text-slate-900\">\n                          {selectedCollection.name}\n                        </dd>\n                      </div>\n                      <div className=\"flex justify-between gap-4\">\n                        <dt className=\"font-medium text-slate-500\"></dt>\n                        <dd className=\"text-right text-slate-900\">\n                          {selectedCollection.type}\n                        </dd>\n                      </div>\n                      <div>\n                        <dt className=\"font-medium text-slate-500\"></dt>\n                        <dd className=\"mt-1 rounded bg-white p-2 font-mono text-xs text-slate-900\">\n                          {selectedCollection.value || ''}\n                        </dd>\n                      </div>\n                      <div>\n                        <dt className=\"font-medium text-slate-500\">Meta</dt>\n                        <dd className=\"mt-1\">\n                          <pre className=\"max-h-48 overflow-auto rounded bg-white p-2 text-xs text-slate-800\">\n                            {selectedCollection.meta\n                              ? JSON.stringify(selectedCollection.meta, null, 2)\n                              : '{}'}\n                          </pre>\n                        </dd>\n                      </div>\n                    </dl>\n                  </>\n                )}\n              </article>\n            ) : null}\n            <CollectionForm\n              form={form}\n              onChange={setForm}\n              onSubmit={submit}\n              onDelete={remove}\n              onReset={() => setForm(emptyItemForm)}\n              valueLabel={\n                active === 'departments'\n                  ? ''\n                  : active === 'divisions'\n                    ? ''\n                    : active === 'positions'\n                      ? ''\n                      : active === 'objects'\n                        ? ''\n                        : undefined\n              }\n              renderValueField={\n                active === 'departments'\n                  ? renderDepartmentValueField\n                  : active === 'divisions'\n                    ? renderDivisionValueField\n                    : active === 'positions'\n                      ? renderPositionValueField\n                      : active === 'objects'\n                        ? renderObjectValueField\n                        : undefined\n              }\n              readonly={selectedCollectionInfo.readonly}\n              readonlyNotice={selectedCollectionInfo.notice}\n            />\n          </div>\n        </Modal>\n        <Modal open={userModalOpen} onClose={closeUserModal}>\n          <div className=\"space-y-4\">\n            <article className=\"rounded-xl border border-slate-200 bg-slate-50 p-4 shadow-sm\">\n              <header className=\"flex items-start justify-between gap-3\">\n                <div>\n                  <h3 className=\"text-base font-semibold\">\n                     \n                  </h3>\n                  <p className=\"text-sm text-slate-500\">\n                    Telegram ID: {userForm.telegram_id ?? ''}\n                  </p>\n                </div>\n                {canManageUsers && userForm.telegram_id ? (\n                  <Button\n                    type=\"button\"\n                    variant=\"destructive\"\n                    className=\"h-9 px-3 text-sm\"\n                    onClick={() => setConfirmUserDelete(true)}\n                  >\n                    \n                  </Button>\n                ) : null}\n              </header>\n              <dl className=\"mt-2 grid grid-cols-1 gap-2 text-sm sm:grid-cols-2\">\n                <div>\n                  <dt className=\"font-medium text-slate-500\"></dt>\n                  <dd className=\"text-slate-900\">{userForm.username || ''}</dd>\n                </div>\n                <div>\n                  <dt className=\"font-medium text-slate-500\"></dt>\n                  <dd className=\"text-slate-900\">{userForm.name || ''}</dd>\n                </div>\n                <div>\n                  <dt className=\"font-medium text-slate-500\"></dt>\n                  <dd className=\"text-slate-900\">{userForm.phone || ''}</dd>\n                </div>\n                <div>\n                  <dt className=\"font-medium text-slate-500\"></dt>\n                  <dd className=\"text-slate-900\">\n                    {userForm.mobNumber || ''}\n                  </dd>\n                </div>\n                <div>\n                  <dt className=\"font-medium text-slate-500\">Email</dt>\n                  <dd className=\"text-slate-900\">{userForm.email || ''}</dd>\n                </div>\n                <div>\n                  <dt className=\"font-medium text-slate-500\"></dt>\n                  <dd className=\"text-slate-900\">\n                    {formatRoleName(userForm.role)}\n                  </dd>\n                </div>\n                <div>\n                  <dt className=\"font-medium text-slate-500\"></dt>\n                  <dd className=\"text-slate-900\">{userForm.access}</dd>\n                </div>\n                <div>\n                  <dt className=\"font-medium text-slate-500\"> ID</dt>\n                  <dd className=\"text-slate-900\">\n                    {userForm.roleId\n                      ? formatRoleName(\n                          roleMap.get(userForm.roleId) ?? userForm.roleId,\n                        )\n                      : ''}\n                  </dd>\n                </div>\n                <div>\n                  <dt className=\"font-medium text-slate-500\"></dt>\n                  <dd className=\"text-slate-900\">\n                    {userForm.departmentId\n                      ? (departmentMap.get(userForm.departmentId) ??\n                        userForm.departmentId)\n                      : ''}\n                  </dd>\n                </div>\n                <div>\n                  <dt className=\"font-medium text-slate-500\"></dt>\n                  <dd className=\"text-slate-900\">\n                    {userForm.divisionId\n                      ? (divisionMap.get(userForm.divisionId) ??\n                        userForm.divisionId)\n                      : ''}\n                  </dd>\n                </div>\n                <div>\n                  <dt className=\"font-medium text-slate-500\"></dt>\n                  <dd className=\"text-slate-900\">\n                    {userForm.positionId\n                      ? (positionMap.get(userForm.positionId) ??\n                        userForm.positionId)\n                      : ''}\n                  </dd>\n                </div>\n              </dl>\n            </article>\n            <UserForm\n              form={userForm}\n              onChange={setUserForm}\n              onSubmit={submitUser}\n              onReset={() => setUserForm(emptyUser)}\n            />\n          </div>\n        </Modal>\n        <Modal\n          open={isEmployeeModalOpen}\n          onClose={() => setIsEmployeeModalOpen(false)}\n        >\n          <div className=\"space-y-4\">\n            {selectedEmployee ? (\n              <article className=\"rounded-xl border border-slate-200 bg-slate-50 p-4 shadow-sm\">\n                <header className=\"flex items-start justify-between gap-3\">\n                  <div>\n                    <h3 className=\"text-base font-semibold\">\n                       \n                    </h3>\n                    <p className=\"text-sm text-slate-500\">\n                      ID: {selectedEmployee.telegram_id ?? ''}\n                    </p>\n                  </div>\n                  {canManageUsers && selectedEmployee.telegram_id ? (\n                    <Button\n                      type=\"button\"\n                      variant=\"destructive\"\n                      className=\"h-9 px-3 text-sm\"\n                      onClick={() => setConfirmEmployeeDelete(true)}\n                    >\n                      \n                    </Button>\n                  ) : null}\n                </header>\n                <dl className=\"mt-2 grid grid-cols-1 gap-2 text-sm sm:grid-cols-2\">\n                  <div>\n                    <dt className=\"font-medium text-slate-500\">Telegram ID</dt>\n                    <dd className=\"text-slate-900\">\n                      {selectedEmployee.telegram_id}\n                    </dd>\n                  </div>\n                  <div>\n                    <dt className=\"font-medium text-slate-500\"></dt>\n                    <dd className=\"text-slate-900\">\n                      {selectedEmployee.username || ''}\n                    </dd>\n                  </div>\n                  <div>\n                    <dt className=\"font-medium text-slate-500\"></dt>\n                    <dd className=\"text-slate-900\">\n                      {selectedEmployee.name || ''}\n                    </dd>\n                  </div>\n                  <div>\n                    <dt className=\"font-medium text-slate-500\"></dt>\n                    <dd className=\"text-slate-900\">\n                      {selectedEmployee.phone || ''}\n                    </dd>\n                  </div>\n                  <div>\n                    <dt className=\"font-medium text-slate-500\"></dt>\n                    <dd className=\"text-slate-900\">\n                      {selectedEmployee.mobNumber || ''}\n                    </dd>\n                  </div>\n                  <div>\n                    <dt className=\"font-medium text-slate-500\">Email</dt>\n                    <dd className=\"text-slate-900\">\n                      {selectedEmployee.email || ''}\n                    </dd>\n                  </div>\n                  <div>\n                    <dt className=\"font-medium text-slate-500\"></dt>\n                    <dd className=\"text-slate-900\">\n                      {formatRoleName(selectedEmployee.role)}\n                    </dd>\n                  </div>\n                  <div>\n                    <dt className=\"font-medium text-slate-500\"></dt>\n                    <dd className=\"text-slate-900\">\n                      {selectedEmployee.access ?? ''}\n                    </dd>\n                  </div>\n                  <div>\n                    <dt className=\"font-medium text-slate-500\"> ID</dt>\n                    <dd className=\"text-slate-900\">\n                      {selectedEmployee.roleId\n                        ? formatRoleName(\n                            roleMap.get(selectedEmployee.roleId) ??\n                              selectedEmployee.roleId,\n                          )\n                        : ''}\n                    </dd>\n                  </div>\n                  <div>\n                    <dt className=\"font-medium text-slate-500\"></dt>\n                    <dd className=\"text-slate-900\">\n                      {selectedEmployee.departmentId\n                        ? (departmentMap.get(selectedEmployee.departmentId) ??\n                          selectedEmployee.departmentId)\n                        : ''}\n                    </dd>\n                  </div>\n                  <div>\n                    <dt className=\"font-medium text-slate-500\"></dt>\n                    <dd className=\"text-slate-900\">\n                      {selectedEmployee.divisionId\n                        ? (divisionMap.get(selectedEmployee.divisionId) ??\n                          selectedEmployee.divisionId)\n                        : ''}\n                    </dd>\n                  </div>\n                  <div>\n                    <dt className=\"font-medium text-slate-500\"></dt>\n                    <dd className=\"text-slate-900\">\n                      {selectedEmployee.positionId\n                        ? (positionMap.get(selectedEmployee.positionId) ??\n                          selectedEmployee.positionId)\n                        : ''}\n                    </dd>\n                  </div>\n                </dl>\n              </article>\n            ) : null}\n            <EmployeeCardForm\n              telegramId={\n                employeeFormMode === 'update' ? selectedEmployeeId : undefined\n              }\n              mode={employeeFormMode}\n              onSaved={handleEmployeeSaved}\n            />\n          </div>\n        </Modal>\n        <ConfirmDialog\n          open={confirmUserDelete}\n          message=\" ?    .\"\n          onConfirm={executeUserDelete}\n          onCancel={() => setConfirmUserDelete(false)}\n          confirmText=\"\"\n        />\n        <ConfirmDialog\n          open={confirmEmployeeDelete}\n          message=\" ?    .\"\n          onConfirm={executeEmployeeDelete}\n          onCancel={() => setConfirmEmployeeDelete(false)}\n          confirmText=\"\"\n        />\n        <TabsContent value=\"reports\" className=\"mt-0\">\n          <div className=\"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-900\">\n            <AnalyticsDashboard />\n          </div>\n        </TabsContent>\n        <TabsContent value=\"archive\" className=\"mt-0\">\n          <div className=\"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-900\">\n            <ArchivePage />\n          </div>\n        </TabsContent>\n        <TabsContent value=\"logs\" className=\"mt-0\">\n          <div className=\"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-900\">\n            <LogsPage />\n          </div>\n        </TabsContent>\n        <TabsContent value=\"storage\" className=\"mt-0\">\n          <div className=\"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-900\">\n            <StoragePage />\n          </div>\n        </TabsContent>\n        <TabsContent value=\"health\" className=\"mt-0\">\n          <div className=\"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-900\">\n            <HealthCheckTab />\n          </div>\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}\n"],"file":"index-BLKMfMqL.js"}