{"version":3,"file":"ConfirmDialog-legacy-oiyKvRHh.js","sources":["../../../web/src/components/ConfirmDialog.tsx"],"sourcesContent":["// Назначение: модалка подтверждения действий\r\n// Основные модули: React, Modal\r\nimport React from \"react\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport Modal from \"./Modal\";\r\n\r\ninterface ConfirmDialogProps {\r\n  open: boolean;\r\n  message: string;\r\n  onConfirm: () => void | Promise<void>;\r\n  onCancel: () => void;\r\n  confirmText?: string;\r\n  cancelText?: string;\r\n}\r\n\r\nexport default function ConfirmDialog({\r\n  open,\r\n  message,\r\n  onConfirm,\r\n  onCancel,\r\n  confirmText = \"Подтвердить\",\r\n  cancelText = \"Отмена\",\r\n}: ConfirmDialogProps) {\r\n  const [pending, setPending] = React.useState(false);\r\n\r\n  const handleConfirm = React.useCallback(() => {\r\n    if (pending) return;\r\n    try {\r\n      const result = onConfirm();\r\n      if (result && typeof (result as Promise<unknown>).then === \"function\") {\r\n        setPending(true);\r\n        (result as Promise<unknown>)\r\n          .catch((error) => {\r\n            console.error(error);\r\n          })\r\n          .finally(() => setPending(false));\r\n      }\r\n    } catch (error) {\r\n      setPending(false);\r\n      console.error(error);\r\n    }\r\n  }, [onConfirm, pending]);\r\n\r\n  return (\r\n    <Modal open={open} onClose={onCancel}>\r\n      <p>{message}</p>\r\n      <div className=\"mt-4 flex justify-end gap-2\">\r\n        <Button\r\n          variant=\"outline\"\r\n          size=\"pill\"\r\n          onClick={onCancel}\r\n          disabled={pending}\r\n        >\r\n          {cancelText}\r\n        </Button>\r\n        <Button\r\n          variant=\"destructive\"\r\n          size=\"pill\"\r\n          onClick={handleConfirm}\r\n          disabled={pending}\r\n        >\r\n          {confirmText}\r\n        </Button>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n"],"names":["_ref","open","message","onConfirm","onCancel","_ref$confirmText","confirmText","_ref$cancelText","cancelText","_React$useState2","_slicedToArray","React","useState","pending","setPending","handleConfirm","useCallback","result","then","catch","error","console","finally","jsxs","Modal","onClose","children","jsx","className","Button","variant","size","onClick","disabled"],"mappings":"owCAgBA,SAAwBA,GAOD,IANrBC,EAAAD,EAAAC,KACAC,EAAAF,EAAAE,QACAC,EAAAH,EAAAG,UACAC,EAAAJ,EAAAI,SAAAC,EAAAL,EACAM,YAAAA,OAAA,IAAAD,EAAc,cAAAA,EAAAE,EAAAP,EACdQ,WAAAA,WAAAD,EAAa,SAAAA,EAEqCE,EAAAC,EAApBC,EAAMC,UAAS,GAAK,GAA3CC,EAAAJ,EAAA,GAASK,EAAUL,KAEpBM,EAAgBJ,EAAMK,YAAY,WACtC,IAAIH,EACJ,IACE,IAAMI,EAASd,IACXc,GAAuD,mBAArCA,EAA4BC,OAChDJ,GAAW,GACVG,EACEE,MAAM,SAACC,GACNC,QAAQD,MAAMA,EAChB,GACCE,QAAQ,WAAA,OAAMR,GAAW,EAAM,GAEtC,OAASM,GACPN,GAAW,GACXO,QAAQD,MAAMA,EAChB,CACF,EAAG,CAACjB,EAAWU,IAEf,OACEU,EAAAA,KAACC,EAAA,CAAMvB,KAAAA,EAAYwB,QAASrB,EAC1BsB,SAAA,CAAAC,EAAAA,IAAC,KAAGD,SAAAxB,IACJqB,EAAAA,KAAC,MAAA,CAAIK,UAAU,8BACbF,SAAA,CAAAC,EAAAA,IAACE,EAAA,CACCC,QAAQ,UACRC,KAAK,OACLC,QAAS5B,EACT6B,SAAUpB,EAETa,SAAAlB,IAEHmB,EAAAA,IAACE,EAAA,CACCC,QAAQ,cACRC,KAAK,OACLC,QAASjB,EACTkB,SAAUpB,EAETa,SAAApB,SAKX"}