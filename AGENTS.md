<!-- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ñ–∞–π–ª–∞: –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤. -->

# üß† –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è Codex

## –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–°—Ç–∏–ª—å –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#—Å—Ç–∏–ª—å-–∏-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
2. [–ö–∞—á–µ—Å—Ç–≤–æ –∏ —Ç–µ—Å—Ç—ã](#–∫–∞—á–µ—Å—Ç–≤–æ-–∏-—Ç–µ—Å—Ç—ã)
3. [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
4. [–û–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã](#–æ–±–∑–æ—Ä-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã)
5. [–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –º–æ–¥—É–ª–µ–π](#–∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã-–º–æ–¥—É–ª–µ–π)
6. [–ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã](#–∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã-—Å–∏—Å—Ç–µ–º—ã)
7. [–°–ø–∏—Å–æ–∫ ¬´–Ω–µ —Ç—Ä–æ–≥–∞—Ç—å¬ª](#—Å–ø–∏—Å–æ–∫-–Ω–µ-—Ç—Ä–æ–≥–∞—Ç—å)
8. [–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã](#—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–µ-–ø–∞—Ç—Ç–µ—Ä–Ω—ã)
9. [–®–∞–±–ª–æ–Ω –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è –≤–∫–ª–∞–¥–∫–∏ ¬´–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞¬ª](#—à–∞–±–ª–æ–Ω-–ø—Ä–æ–º–ø—Ç–∞-–¥–ª—è-–≤–∫–ª–∞–¥–∫–∏-–ø—Ä–æ–≤–µ—Ä–∫–∞-–∫–æ–¥–∞)

## –°—Ç–∏–ª—å –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø–∏—à—É—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ‚Äë—Ä—É—Å—Å–∫–∏.
- –í –Ω–∞—á–∞–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ —É–∫–∞–∑—ã–≤–∞–π—Ç–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏ –æ—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏.
- –ö–æ–¥ –¥–µ–ª–∞–π—Ç–µ –ª–∞–∫–æ–Ω–∏—á–Ω—ã–º –∏ –ø–æ–Ω—è—Ç–Ω—ã–º.
- –°–±–æ—Ä–∫–∞ TypeScript —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å—Ç—Ä–æ–≥–æ–º —Ä–µ–∂–∏–º–µ; —Ñ–ª–∞–≥ `noImplicitAny` –≤–∫–ª—é—á—ë–Ω.
- –°–±–æ—Ä–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞ Vite –æ—á–∏—â–∞–µ—Ç –∫–∞—Ç–∞–ª–æ–≥ –≤—ã–≤–æ–¥–∞ —á–µ—Ä–µ–∑ `emptyOutDir`.
- Dockerfile –∫–µ—à–∏—Ä—É–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ `pnpm fetch` –∏ —Å–æ–±–∏—Ä–∞–µ—Ç –ø–∞–∫–µ—Ç—ã –∫–æ–º–∞–Ω–¥–æ–π `pnpm build`; –ø–µ—Ä–µ–¥ `pnpm fetch` –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –∫–∞—Ç–∞–ª–æ–≥ `patches`.
- –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –æ–±—Ä–∞–∑–∞ Docker `ensureDefaults` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ `CMD`, —Ç–æ–∫–µ–Ω `BOT_TOKEN` –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è.
- Railway –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Nixpacks —Å `nixpacks.toml`, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –±–µ–∑ —Ä–µ–∂–∏–º–∞ offline.
- Procfile –∑–∞–ø—É—Å–∫–∞–µ—Ç `pnpm build` –ø–µ—Ä–µ–¥ `pm2-runtime`, `Procfile.railway` —Å–æ–¥–µ—Ä–∂–∏—Ç —à–∞–≥ `release: pnpm build`.
- –¢–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç–∞ –≤ `apps/api/src/messages.ts` –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–∞ —Ä—É—Å—Å–∫–æ–º.
- –ö–æ–Ω—Ç–µ–∫—Å—Ç—ã React –¥–µ—Ä–∂–∏—Ç–µ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö, –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∏–∑ —ç—Ç–∏—Ö —Ñ–∞–π–ª–æ–≤.
- AuthContext —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Ñ–∏–ª—å –∏ —Ñ–ª–∞–≥ –∑–∞–≥—Ä—É–∑–∫–∏; JWT –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ.
- –¢–∞–±–ª–∏—Ü—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç `DataTable` –Ω–∞ –æ—Å–Ω–æ–≤–µ `@tanstack/react-table`, –∞ –∫–æ–ª–æ–Ω–∫–∏ –æ–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ `apps/web/src/columns`.
- –†–∞–∑–¥–µ–ª –∞—Ä—Ö–∏–≤–∞ –∑–∞–¥–∞—á `/cp/archive` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç API `/api/v1/archives`; –ø—Ä–æ—Å–º–æ—Ç—Ä –¥–æ—Å—Ç—É–ø–µ–Ω –º–∞—Å–∫–µ 6, –ø–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ ‚Äî —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –º–∞—Å–∫–µ 8.
- –§–∏–ª—å—Ç—Ä—ã —Ç–∞–±–ª–∏—Ü –≤—ã–≤–æ–¥—è—Ç —Å–ø–∏—Å–∫–∏ –∑–Ω–∞—á–µ–Ω–∏–π —Å —á–µ–∫–±–æ–∫—Å–∞–º–∏, –ø–æ–∏—Å–∫ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–Ω–æ–ø–∫–æ–π ¬´–ò—Å–∫–∞—Ç—å¬ª.
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á, –ø—Ä–æ—Ñ–∏–ª—è, –≤—Ö–æ–¥ –∏ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ñ–∞–π–ª–∞–º–∏; –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ `/api/v1/logs` –Ω–µ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è.
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è PATCH `/api/v1/tasks/:id/status`.
- API —Å–æ–¥–µ—Ä–∂–∏—Ç CRUD‚Äë—Ä–æ—É—Ç—ã –¥–ª—è —Ñ–ª–æ—Ç–æ–≤, –¥–µ–ø–∞—Ä—Ç–∞–º–µ–Ω—Ç–æ–≤, —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –∏ –∫–æ–ª–ª–µ–∫—Ü–∏–π.
- –†–æ–ª—å admin –≤–∫–ª—é—á–∞–µ—Ç –ø—Ä–∞–≤–∞ manager —á–µ—Ä–µ–∑ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –º–∞—Å–æ–∫.
- –ö–æ–ª–ª–µ–∫—Ü–∏—è CollectionItem –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω–¥–µ–∫—Å—ã `type_name_unique` –∏ `search_text`; –∏–Ω–¥–µ–∫—Å—ã —Å–æ–∑–¥–∞—ë—Ç `scripts/db/ensureIndexes.ts`.
- –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ª–∏–º–∏—Ç–µ—Ä –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ –ø—Ä–µ—Ñ–∏–∫—Å `/api`; —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã –æ—Ç–¥–∞–≤–∞–π—Ç–µ —Å `Cache-Control: public, max-age=31536000, immutable`.
- –ü–æ–ª—è –∑–∞–¥–∞—á –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ–±—ä–µ–∫—Ç `custom`; —Ñ–æ—Ä–º—ã –¥–æ–ª–∂–Ω—ã —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å —Ç–∞–∫–∏–µ –ø–æ–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏.
- –§–æ—Ä–º—ã –∑–∞–¥–∞—á –≤–∫–ª—é—á–∞—é—Ç –ø–æ–ª–µ `formVersion`; —Å–µ—Ä–≤–µ—Ä –æ—Ç–∫–ª–æ–Ω—è–µ—Ç –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ –≤–µ—Ä—Å–∏–∏.
- –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –∑–∞–¥–∞—á —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ø–æ–ª–µ `history` –∏ –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ —Ñ–æ—Ä–º–µ.
- –ê–Ω—Ç–∏–≤–∏—Ä—É—Å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–∏–≥–Ω–∞—Ç—É—Ä–Ω–æ–º —Ä–µ–∂–∏–º–µ (`ANTIVIRUS_VENDOR=signature`); –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –¥–µ–º–æ–Ω–∞ ClamAV –≤—ã—Å—Ç–∞–≤–ª—è–π—Ç–µ `ANTIVIRUS_VENDOR=clamav` –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ö–æ—Å—Ç–∞.
- Tailwind –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–ª–∞–≥–∏–Ω `@tailwindcss/forms`; –±–∞–∑–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã `Button` –∏ `Input` —Å–ª–µ–¥—É—é—Ç 8‚Äëpt —Ä–∏—Ç–º—É –∏ –≤—ã–¥–µ–ª—è—é—Ç —Ñ–æ–∫—É—Å –∫–æ–ª—å—Ü–æ–º.
- –ö–æ–Ω—Ç—Ä–∞—Å—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –Ω–µ –Ω–∏–∂–µ 4.5:1, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ç–µ—Å—Ç–æ–º `tests/e2e/contrast.spec.ts`.
- –ö —Ñ–∞–π–ª–∞–º –≤ —Ñ–æ—Ä–º–µ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –º–∏–Ω–∏–∞—Ç—é—Ä—ã; –∑–∞–≥—Ä—É–∑–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–º –Ω–∞–∑–≤–∞–Ω–∏–∏.
- –í–ª–æ–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ drag-and-drop –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, —Å–µ—Ä–≤–µ—Ä –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç chunk-upload.
- –ö–∞–Ω–±–∞–Ω-–¥–æ—Å–∫–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `/cp/kanban` –∏ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º; —Å—Ç—Ä–∞–Ω–∏—Ü–∞ ¬´–ú–æ–∏ –∑–∞–¥–∞—á–∏¬ª —É–¥–∞–ª–µ–Ω–∞, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∏–º –∑–∞–¥–∞—á–∏ –∏ –º–æ–≥—É—Ç –º–µ–Ω—è—Ç—å —Å—Ç–∞—Ç—É—Å –Ω–∞ ¬´–í —Ä–∞–±–æ—Ç–µ¬ª –∏–ª–∏ ¬´–í—ã–ø–æ–ª–Ω–µ–Ω–∞¬ª.
- SPA –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç—Å—è –º–∞—Ä—à—Ä—É—Ç–∞–º–∏ `app.get('/')` –∏ `app.get('*')`, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ `/login`.
- –í–µ–±‚Äë–∫–ª–∏–µ–Ω—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ, –∏ –≤ Telegram; –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ Telegram –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π.
- –®—Ä–∏—Ñ—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –≤ `apps/web/public/fonts`, –∑–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ `scripts/download-fonts.sh`.
- SRI —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤, –≤–Ω–µ—à–Ω–∏–µ URL –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è.
- Hero-–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —Å–∫—Ä–∏–ø—Ç–æ–º `scripts/generate_hero_images.mjs`, –∫–∞—Ç–∞–ª–æ–≥ `apps/web/public/hero` –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è.

## –ö–∞—á–µ—Å—Ç–≤–æ –∏ —Ç–µ—Å—Ç—ã

- –ü–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä ‚Äî `pnpm`, —Ñ–∞–π–ª—ã `package-lock.json` –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º.
- `install_bot_deps.sh` —Å–∫–∞—á–∏–≤–∞–µ—Ç pnpm —á–µ—Ä–µ–∑ curl –∏–ª–∏ GitHub –ø—Ä–∏ —Å–±–æ—è—Ö corepack –∏ npm.
- `.npmrc` –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç scope `@jsr` –Ω–∞ npmjs.org, —á—Ç–æ–±—ã —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –Ω–µ —Ç—Ä–µ–±–æ–≤–∞–ª–∞ —Ç–æ–∫–µ–Ω–∞.
- –ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º –∑–∞–ø—É—Å–∫–∞–π—Ç–µ `./scripts/setup_and_test.sh`.
  - –î–ª—è e2e-—Ç–µ—Å—Ç–æ–≤ —Å–±–æ—Ä–∫—É –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ —á–µ—Ä–µ–∑ `scripts/build_with_tmp.sh`,
    —á—Ç–æ–±—ã –ø—Ä–æ—Ü–µ—Å—Å—ã –Ω–µ –¥–µ–ª–∏–ª–∏ `apps/api/public/js`.
- –°–∫—Ä–∏–ø—Ç `pretest:e2e` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç Firefox –∏ Chromium –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç `playwright doctor`
  —Å –∑–∞–ø–∞—Å–Ω—ã–º –≤—ã–∑–æ–≤–æ–º `playwright install --list`; –Ω–µ —É–¥–∞–ª—è–π—Ç–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–π —à–∞–≥.
- –ü–µ—Ä–µ–¥ –ø—É–ª–ª-—Ä–µ–∫–≤–µ—Å—Ç–æ–º –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ `./scripts/pre_pr_check.sh`, –æ–Ω —Å–æ–∑–¥–∞—ë—Ç `.env` –∏–∑ `.env.example`, –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–±–æ—Ä–∫—É –∏ –∑–∞–ø—É—Å–∫ –±–æ—Ç–∞, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø—Ä–∞–≤–ª—è—è –æ—à–∏–±–∫–∏ –∏ –ø–æ–≤—Ç–æ—Ä—è—è –¥–æ —É—Å–ø–µ—Ö–∞, –∑–∞–ø—É—Å–∫–∞–µ—Ç –∞—É–¥–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –ª–æ–≥ –≤ `/tmp/apps/api_start.log`.
- –î–ª—è —É—Å–∫–æ—Ä–µ–Ω–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `pnpm codex:check`, –∫–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç `pnpm format:check`, `pnpm lint`, `pnpm lint:security`, `pnpm typecheck` –∏ `pnpm audit`.
- Workflow `Codex Quality Gate` –≤ GitHub Actions –∏ Codex –±–ª–æ–∫–∏—Ä—É—é—Ç —Å–ª–∏—è–Ω–∏–µ, –µ—Å–ª–∏ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–∞ –∏–∑ –ø—Ä–æ–≤–µ—Ä–æ–∫ –∑–∞–≤–µ—Ä—à–∏–ª–∞—Å—å –æ—à–∏–±–∫–æ–π –∏–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞ —É—è–∑–≤–∏–º–æ—Å—Ç—å —É—Ä–æ–≤–Ω—è High –∏ –≤—ã—à–µ.
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Codex –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `codex/config.yml`, –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ –¥—É–±–ª–∏—Ä—É–π—Ç–µ —Ç–∞–º –∏ –≤ GitHub Actions.
- Lighthouse CI –∏—Å–ø–æ–ª—å–∑—É–µ—Ç GitHub App, —Ç–æ–∫–µ–Ω —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Å–µ–∫—Ä–µ—Ç–µ `LHCI_GITHUB_APP_TOKEN`, –æ—Ç—á—ë—Ç—ã —Ä–∞–∑–º–µ—â–∞—é—Ç—Å—è –≤–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–º –ø—É–±–ª–∏—á–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ.
- –°–∫—Ä–∏–ø—Ç `pre_pr_check.sh` –ø–æ–¥–Ω–∏–º–∞–µ—Ç MongoDB –≤ –ø–∞–º—è—Ç–∏; `scripts/check_mongo.mjs` –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –ø—Ä–∏ `CI=true`.
- `pnpm run dev` —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `PNPM_SCRIPT_TIMEOUT=0`, —á—Ç–æ–±—ã —Å–µ—Ä–≤–µ—Ä—ã –Ω–µ –∑–∞–≤–µ—Ä—à–∞–ª–∏—Å—å —á–µ—Ä–µ–∑ 10 –º–∏–Ω—É—Ç.
- –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é –∫–æ–º–∞–Ω–¥–æ–π `./scripts/audit_deps.sh` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç `audit-ci` –∏ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç —Å–ª–∞–±—ã–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ `--audit-level high`).
- Dependabot –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç npm-–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –¥–ª—è PR –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —à–∞–±–ª–æ–Ω `Security Update`.
- –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ `.env` –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `./scripts/create_env_from_exports.sh`.
- –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ API —Å MongoDB –≤ –ø–∞–º—è—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `./scripts/start_api_with_memdb.sh`.
- –ï—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `docker` –∏ –µ—Å—Ç—å `docker-compose.yml`, –≤—ã–ø–æ–ª–Ω—è–π—Ç–µ `docker compose config`.
- –ù–∞—Å—Ç—Ä–æ–µ–Ω Prettier, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `pnpm format` –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–∞–º–∏.
- –õ–∏–Ω—Ç–µ—Ä –∑–∞–ø—É—Å–∫–∞–π—Ç–µ `pnpm lint`.
  - –°–±–æ—Ä–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è `pnpm size`; —Ñ–∞–π–ª—ã `index-*.js` –≤ `apps/api/public/js` –º–µ–Ω—å—à–µ 900 KB.
- –°–∫—Ä–∏–ø—Ç—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è `pnpm approve-builds`, CI –ø–∞–¥–∞–µ—Ç –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤.
- –°—Ç–∞—Ç–∏—á–µ—Å–∫—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É `apps/web/index.html` –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –Ω–∞ –∫–æ–Ω—Ç—Ä–∞—Å—Ç –∫–æ–º–∞–Ω–¥–æ–π `pnpm a11y` —á–µ—Ä–µ–∑ `@axe-core/cli` –∏ `vite preview`.
- –°—Ü–µ–Ω–∞—Ä–∏–∏ Playwright –∏ Supertest –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ `tests` –∏ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –∫–æ–º–∞–Ω–¥–∞–º–∏ `pnpm test:e2e` –∏ `pnpm test:api`.
- –ò–Ω–¥–µ–∫—Å—ã MongoDB —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç–æ–º `scripts/db/ensureIndexes.ts`.
- –î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –º–æ–¥—É–ª–µ–π —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `reflect-metadata` –≤ –∫–æ—Ä–Ω–µ–≤—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö.

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- –í—Å–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã —Å–≤–µ–¥–µ–Ω—ã –≤ `docs/technical_manual.md`.
- –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Telegram-–±–æ—Ç–∞ –≤–∫–ª—é—á–µ–Ω–æ —Ç—É–¥–∞.
- README —É–ø—Ä–æ—â—ë–Ω; –ø–æ–¥—Ä–æ–±–Ω—ã–µ —Å–≤–µ–¥–µ–Ω–∏—è –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ docs/technical_manual.md.
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –º–æ–¥—É–ª—è–º –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `docs/architecture.md`.
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ ‚Äî –≤ `docs/security/cookies_csrf.md`.
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –º–∞—Å–∫–∞–º –¥–æ—Å—Ç—É–ø–∞ –∏ —Ä–æ–ª—è–º ‚Äî –≤ `docs/permissions.md`.
- –ú–∏–≥—Ä–∞—Ü–∏—è `scripts/db/addManagerRole.ts` –¥–æ–±–∞–≤–ª—è–µ—Ç —Ä–æ–ª—å manager –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –±–∞–∑—ã;
  –∑–∞–ø—É—Å–∫ –æ–ø–∏—Å–∞–Ω –≤ `docs/permissions.md`.
- FAQ –¥–ª—è —Å–∞–ø–ø–æ—Ä—Ç–∞ ‚Äî –≤ `docs/support_faq.md`.
- –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤ `docs/archive`.
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –æ–±–Ω–æ–≤–ª—è–π—Ç–µ `README.md`, `CHANGELOG.md`, `ROADMAP.md` –∏ `AGENTS.md`.
- `.env.example` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ `mongodb://admin:admin@localhost:27017/ermdb?authSource=admin`.
- `SESSION_SECRET` –≤ `.env.example` –ø—É—Å—Ç; —Å–æ–∑–¥–∞–π—Ç–µ –µ–≥–æ —á–µ—Ä–µ–∑ `./scripts/create_env_from_exports.sh` –∏–ª–∏ `node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"`, `.env` –Ω–µ –∫–æ–º–º–∏—Ç–∏–º.
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ ¬´–ù–∞—Å—Ç—Ä–æ–π–∫–∏¬ª —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–∫–ª–∞–¥–∫–∏ departments, divisions, roles, employees –∏ fleets; —Å–ª–µ–≤–∞ —Å–ø–∏—Å–æ–∫ —Å –ø–æ–∏—Å–∫–æ–º –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π, —Å–ø—Ä–∞–≤–∞ —Ñ–æ—Ä–º–∞ {name,value};
  –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `VITE_COLLECTIONS_READY` –±–æ–ª—å—à–µ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è.
- –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `STORAGE_DIR` –∑–∞–¥–∞—ë—Ç –±–∞–∑–æ–≤—ã–π –∫–∞—Ç–∞–ª–æ–≥ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –∏ –≤–ª–æ–∂–µ–Ω–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `apps/api/public`).
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä—è—Ç—å –±–∞–∑—É –∫–æ–º–∞–Ω–¥–æ–π `pnpm --dir bot check:mongo`.
- –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `BOT_API_URL` –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π `telegram-bot-api`.
- –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `COOKIE_SECURE=false` –æ—Ç–∫–ª—é—á–∞–µ—Ç —Ñ–ª–∞–≥ `Secure` —É cookie, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ.
- Docker Compose —Å–æ–¥–µ—Ä–∂–∏—Ç healthcheck –¥–ª—è MongoDB.
- –ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å: –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—ã HTTP, –º–µ—Ç—Ä–∏–∫–∏ OSRM –∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ `traceparent` –¥–ª—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏.
- –õ–∏–º–∏—Ç–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∏ `X-RateLimit-*`, –º–µ—Ç—Ä–∏–∫–∞ `rate_limit_drops_total` —Å–æ–¥–µ—Ä–∂–∏—Ç –º–µ—Ç–∫–∏ `name` –∏ `key`.
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞–º–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `/api/v1/storage`, —Ä–∞–∑–¥–µ–ª `/cp/storage` –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤–ª–æ–∂–µ–Ω–∏–π.
- –ö–æ–ª–ª–µ–∫—Ü–∏—è `File` —Ö—Ä–∞–Ω–∏—Ç taskId, userId, name, path, type, size –∏ uploadedAt; —Å–µ—Ä–≤–∏—Å `dataStorage` —á–∏—Ç–∞–µ—Ç –∏–∑ MongoDB, —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ `userId` –∏ `type` –∏ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —á–∏—Å—Ç–∏—Ç –∑–∞–¥–∞—á—É.
- –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ä–æ—É—Ç `/api/v1/files/:id`; —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç—Å—è –º–µ—Ç—Ä–∏–∫–æ–π `disk_free_bytes` –∏ –ø—Ä–∏ –Ω–µ—Ö–≤–∞—Ç–∫–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º.
- –°–µ–∫—Ä–µ—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ HashiCorp Vault –∏–ª–∏ AWS Secrets Manager,
  –∫–ª—é—á–∏ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—é—Ç—Å—è –ø–æ `KEY_ROTATION_CRON`.
- –ö–ª—é—á –ª–∏–º–∏—Ç–µ—Ä–∞ —Å—Ç—Ä–æ–∏—Ç—Å—è –ø–æ `telegram_id`; –≤–µ—Ä–Ω–∞—è –∫–∞–ø—á–∞ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `X-Captcha-Token` –æ–±—Ö–æ–¥–∏—Ç—Å—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ.
- –ó–∞–ø—Ä–æ—Å—ã OSRM –∫–µ—à–∏—Ä—É—é—Ç—Å—è –Ω–∞ 10 –º–∏–Ω—É—Ç, –æ—á–∏—â–∞—é—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–∞–¥–∞—á;
  –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `ROUTE_CACHE_ENABLED` –∏ `ROUTE_CACHE_TTL` —É–ø—Ä–∞–≤–ª—è—é—Ç –∫–µ—à–æ–º.
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ `/table` –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ `ROUTE_TABLE_GUARD`,
  `ROUTE_TABLE_MAX_POINTS` –∏ `ROUTE_TABLE_MIN_INTERVAL_MS`.
- –°—Ç—Ä–µ—Å—Å-–ø–ª–∞–Ω –æ–ø–∏—Å–∞–Ω –≤ `docs/stress_plan.md`.
- –ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è —É–ª—É—á—à–µ–Ω–∏–π –æ–ø–∏—Å–∞–Ω –≤ `docs/apply_analysis_plan.md`.

## –û–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

- ‚ö†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ Codex: –∞–∫—Ç—É–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –¥–∏–∞–≥—Ä–∞–º–º—ã –∏ —Ç–µ–∫—Å—Ç –≤ `docs/architecture.md` –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ª—é–±–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã.
- –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —á–∞—Å—Ç—å: SPA –Ω–∞ React/Vite –≤ `apps/web`, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Telegram WebApp SDK –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞, —Ä–æ—É—Ç–∏–Ω–≥ —á–µ—Ä–µ–∑ React Router —Å –ª–µ–Ω–∏–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π.
- –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å: NestJS API –≤ `apps/api`, REST –Ω–∞ –ø—Ä–µ—Ñ–∏–∫—Å–µ `/api/v1`, –±–∞–∑–∞ MongoDB —á–µ—Ä–µ–∑ Mongoose, —Ñ–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ –Ω–∞ BullMQ.
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏: Telegram-–±–æ—Ç –∏–∑ `apps/bot` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–µ—Ä–≤–∏—Å–Ω—ã–π —Ç–æ–∫–µ–Ω –∏ –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –∫ API, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ–±–∏—Ä–∞–µ—Ç Prometheus (–∫–∞—Ç–∞–ª–æ–≥ `prometheus/`) –∏ –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `profiling/`.
- –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞: Docker/Nixpacks –æ–ø–∏—Å–∞–Ω—ã –≤ –∫–æ—Ä–Ω–µ, CI/CD –∏—Å–ø–æ–ª—å–∑—É—é—Ç `scripts/` –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `codex/`.
- –û–±—â–∏–µ –ø–∞–∫–µ—Ç—ã: —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –≤ `packages/`, —Ç–∏–ø—ã –∏ —É—Ç–∏–ª–∏—Ç—ã –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–ª–∏–µ–Ω—Ç–æ–º, —Å–µ—Ä–≤–µ—Ä–æ–º –∏ –±–æ—Ç–æ–º.

## –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã –º–æ–¥—É–ª–µ–π

- ‚ö†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ Codex: –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ —Ç–∏–ø—ã, —Ç–µ—Å—Ç—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ `docs/architecture.md`.
- `apps/api/src/modules/tasks`: –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –ø—Ä–∏–Ω–∏–º–∞—é—Ç DTO –∏–∑ `apps/api/src/dto`, –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –æ–±—ä–µ–∫—Ç—ã `{id,status,assignee,history,custom}`, –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –¥–æ–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ `TasksService.updateStatus`.
- `apps/web/src/modules/tasks`: —Ö—É–∫ `useTaskForm` –æ–±—è–∑–∞–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å `{formVersion, fields, submit}` –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–µ–Ω–¥–µ—Ä `custom` —á–µ—Ä–µ–∑ —Ä–µ–µ—Å—Ç—Ä –≤–∏–¥–∂–µ—Ç–æ–≤.
- `apps/bot/src/scenes`: –∫–∞–∂–¥–∞—è —Å—Ü–µ–Ω–∞ —Ä–µ–∞–ª–∏–∑—É–µ—Ç `enter`, `leave`, `handle` –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `SessionContext`; —Å–µ—Ç–µ–≤—ã–µ –≤—ã–∑–æ–≤—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ `apiClient` —Å —Ä–µ—Ç—Ä–∞—è–º–∏ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –æ—à–∏–±–æ–∫.
- `packages/shared/src/permissions`: —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç `hasMask`, `combineMasks`, `maskFromRole`; –Ω–æ–≤—ã–µ —Ä–æ–ª–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ —ç—Ç–∏ —Ñ—É–Ω–∫—Ü–∏–∏, –º–∞—Å–∫–∏ –Ω–µ —Ö–∞—Ä–¥–∫–æ–¥—è—Ç—Å—è –≤ –∫–ª–∏–µ–Ω—Ç–∞—Ö.
- `scripts/db/ensureIndexes.ts`: –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `Promise<void>`, –¥–æ–ø—É—Å–∫–∞–µ—Ç –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω—ã–π –∑–∞–ø—É—Å–∫ –±–µ–∑ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤.
- –ù–æ–≤—ã–µ –ø—É–±–ª–∏—á–Ω—ã–µ –º–æ–¥—É–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É—é—Ç—Å—è –∏ –ø–æ–ª—É—á–∞—é—Ç —Ç–µ—Å—Ç—ã-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ—Ä—ã.

## –ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

- ‚ö†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ Codex: –Ω–∞—Ä—É—à–µ–Ω–∏–µ –ª—é–±–æ–≥–æ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è –±–ª–æ–∫–∏—Ä—É—é—â–∏–º –∏ —Ç—Ä–µ–±—É–µ—Ç —Ñ–∏–∫—Å–∞ –¥–æ —Ä–µ–ª–∏–∑–∞.
- –ú–∞—Å–∫–∏ –¥–æ—Å—Ç—É–ø–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –º–∞—Ç—Ä–∏—Ü–µ `docs/permissions.md`; –º–∞—Å–∫–∞ 8 –≤—ã–¥–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ä–æ–ª–∏ admin.
- –ó–∞–¥–∞—á–∏ —Å–æ–¥–µ—Ä–∂–∞—Ç `formVersion`, `history`, `custom` (–≤–æ–∑–º–æ–∂–Ω–æ –ø—É—Å—Ç–æ–π –æ–±—ä–µ–∫—Ç); –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–æ–ª–µ–π –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –æ—Ç–∫–∞–∑—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è.
- –ê—É–¥–∏—Ç –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ –∑–∞–¥–∞—á, —Ñ–∞–π–ª–æ–≤ –∏ –ø—Ä–æ—Ñ–∏–ª–µ–π –∏ –Ω–µ –¥–æ–ø—É—Å–∫–∞–µ—Ç –ø—Ä–∞–≤–æ–∫ –∑–∞–ø–∏—Å–µ–π.
- –ö–µ—à OSRM —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∑–∞–¥–∞—á; TTL —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è `ROUTE_CACHE_TTL`, –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –∞–ª–µ—Ä—Ç–∞–º–∏.
- –õ–∏–º–∏—Ç–µ—Ä Telegram –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `telegram_id`, –∫–∞–ø—á–∞ –≤ `X-Captcha-Token` ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–±—Ö–æ–¥–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π.
- –í –±–æ—é –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–∫–ª—é—á—ë–Ω HTTPS –∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Strict-Transport-Security` —á–µ—Ä–µ–∑ nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é.

## –°–ø–∏—Å–æ–∫ ¬´–Ω–µ —Ç—Ä–æ–≥–∞—Ç—å¬ª

- ‚ö†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ Codex: –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–∞—Ö –¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è —Å –≤–ª–∞–¥–µ–ª—å—Ü–∞–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.
- –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è (`apps/api/src/generated/**`, `packages/types/generated/**`) ‚Äî –ø—Ä–∞–≤–∫–∏ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏.
- –°–∫—Ä–∏–ø—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ `scripts/check_mongo.mjs`, `scripts/audit_deps.sh` ‚Äî –Ω–µ —É–¥–∞–ª—è—Ç—å –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏ –Ω–µ —É–ø—Ä–æ—â–∞—Ç—å –ª–æ–≥–∏–∫—É.
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≤ `prometheus/` –∏ `profiling/` ‚Äî –º–µ–Ω—è—Ç—å —Ç–æ–ª—å–∫–æ —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å SRE.
- `.env.example` ‚Äî —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è —Å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π.
- –ú–∞—Ç–µ—Ä–∏–∞–ª—ã `docs/archive/` ‚Äî –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã, –¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Å—ã–ª–æ–∫ –ø—Ä–∏ –ø–µ—Ä–µ–Ω–æ—Å–µ —Ñ–∞–π–ª–æ–≤.

## –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

- ‚ö†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ Codex: –Ω–æ–≤—ã–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–ª–µ–¥—É—é—Ç –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º –∏ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è –≤ `docs/architecture.md`.
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫: –∏—Å–ø–æ–ª—å–∑—É–µ–º `AppError`/`ApiError`, –Ω–∞ –∫–ª–∏–µ–Ω—Ç –æ—Ç–¥–∞—ë–º Problem Details —Å –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–µ–π.
- –°–æ—Å—Ç–æ—è–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞: React Query —Å –∫–ª—é—á–∞–º–∏ `[domain, id]`, –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –∞–ø–¥–µ–π—Ç—ã –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –æ—Ç–∫–∞—Ç–∞.
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: Winston —Å `requestId` –∏ `userId`, —É—Ä–æ–≤–µ–Ω—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `info`, –æ—à–∏–±–∫–∏ ‚Äî `error`, trace –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ Prometheus.
- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤: –º–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ `feature/{components,hooks,services,model,ui}`, UI-–∞—Ç–æ–º—ã –∏–∑ `packages/ui`.
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: e2e ‚Äî Playwright —Å —Ñ–∏–∫—Å—Ç—É—Ä–∞–º–∏ –∏–∑ `tests/utils`, API ‚Äî Supertest, –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã –º–æ–∫–∏—Ä—É—é—Ç—Å—è `nock`.
- CI: –Ω–æ–≤—ã–µ —à–∞–≥–∏ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –≤ `codex/config.yml` –∏ GitHub Actions —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —É—Å–ª–æ–≤–∏–π –∑–∞–ø—É—Å–∫–∞ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π.
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Ç–æ–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞—é—Ç—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –¥–∏–∞–≥—Ä–∞–º–º PlantUML.

## –®–∞–±–ª–æ–Ω –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è –≤–∫–ª–∞–¥–∫–∏ ¬´–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞¬ª

–ü—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π —à–∞–±–ª–æ–Ω, –∞–¥–∞–ø—Ç–∏—Ä—É—è –ø—Ä–∏–º–µ—Ä—ã –ø–æ–¥ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π PR. –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ [`CODE_REVIEW_GUIDE.md`](codex/CODE_REVIEW_GUIDE.md).

```
–ö–æ–Ω—Ç–µ–∫—Å—Ç: <–∫—Ä–∞—Ç–∫–æ –æ–± –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∏ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã—Ö –º–æ–¥—É–ª—è—Ö>.
–ò–∑–º–µ–Ω–µ–Ω–∏—è: <–∫–ª—é—á–µ–≤—ã–µ –ø—Ä–∞–≤–∫–∏, —É–∫–∞–∑–∞—Ç—å —Ñ–∞–π–ª—ã/–ø–∞–∫–µ—Ç—ã>.
–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã: <–ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Å–æ–±–ª—é–¥–µ–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∏–∑ AGENTS.md –∏ docs/architecture.md>.
–ò–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã: <—É–∫–∞–∑–∞—Ç—å –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∏–Ω–≤–∞—Ä–∏–∞–Ω—Ç—ã –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã>.
–†–∏—Å–∫–∏: <—á—Ç–æ –º–æ–∂–µ—Ç –ø–æ–π—Ç–∏ –Ω–µ —Ç–∞–∫, –∫–∞–∫–∏–µ —Ç–µ—Å—Ç—ã –Ω—É–∂–Ω—ã>.
–†–µ—à–µ–Ω–∏–µ: <–∏—Ç–æ–≥–æ–≤–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –æ–¥–æ–±—Ä–∏—Ç—å / –∑–∞–ø—Ä–æ—Å–∏—Ç—å –ø—Ä–∞–≤–∫–∏, –∞—Ä–≥—É–º–µ–Ω—Ç—ã>.
–°—Å—ã–ª–∫–∏: CODE_REVIEW_GUIDE.md, —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏/issue.
```
