import{j as t}from"./index-DgL4A3Hy.js";import{b as n}from"./vendor-bFQg9Mu4.js";import{h as m,B as u}from"./App-C5qf9m0C.js";import{u as d}from"./useToast-CyXuzwzd.js";function k(){const[o,c]=n.useState([]),{addToast:r}=d();n.useEffect(()=>{m("/api/v1/tasks?limit=10",{noRedirect:!0}).then(s=>s.status===401?(r("Сессия истекла, войдите снова","error"),[]):s.ok?s.json():[]).then(s=>c(Array.isArray(s)?s:s.tasks||[]))},[r]);function l(s){var e,i;const a=globalThis.Telegram;(i=(e=a==null?void 0:a.WebApp)==null?void 0:e.sendData)==null||i.call(e,"task_selected:".concat(s))}return t.jsxs("div",{className:"p-4",children:[t.jsx("h1",{className:"mb-4 text-lg",children:"Выберите задачу"}),t.jsx("ul",{children:o.map(s=>t.jsx("li",{className:"mb-2",children:t.jsx(u,{onClick:()=>l(s._id),variant:"link",size:"sm",className:"px-0",children:"".concat(s.task_number," ").concat(s.createdAt.slice(0,10)," ").concat(s.title)})},s._id))})]})}export{k as default};
//# sourceMappingURL=AttachmentMenu-DdEQCXYq.js.map
