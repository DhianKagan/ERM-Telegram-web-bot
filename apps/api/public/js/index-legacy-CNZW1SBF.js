!function(){var e=["title","titleId"],t=["title","titleId"],r=["title","titleId"],n=["title","titleId"],a=["title","titleId"],l=["title","titleId"],i=["title","titleId"],s=["title","titleId"],o=["title","titleId"],c=["title","titleId"],u=["title","titleId"],d=["title","titleId"],m=["title","titleId"],f=["title","titleId"],v=["title","titleId"],h=["__scopeTabs","value","onValueChange","defaultValue","orientation","dir","activationMode"],x=["__scopeTabs","loop"],p=["__scopeTabs","value","disabled"],g=["__scopeTabs","value","forceMount","children"],b=["className"],y=["className"],j=["className"],N=["className"],k=["value","displayValue","copyHint","copiedHint","onCopy","className","disabled"],w=["telegram_id"];function S(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=T(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,i=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){s=!0,l=e},f:function(){try{i||null==r.return||r.return()}finally{if(s)throw l}}}}function _(e,t,r,n,a,l,i){try{var s=e[l](i),o=s.value}catch(e){return void r(e)}s.done?t(o):Promise.resolve(o).then(n,a)}function C(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var l=e.apply(t,r);function i(e){_(l,n,a,i,s,"next",e)}function s(e){_(l,n,a,i,s,"throw",e)}i(void 0)})}}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,l,i,s=[],o=!0,c=!1;try{if(l=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;o=!1}else for(;!(o=(n=l.call(r)).done)&&(s.push(n.value),s.length!==t);o=!0);}catch(e){c=!0,a=e}finally{try{if(!o&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw a}}return s}}(e,t)||T(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||T(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){if(e){if("string"==typeof e)return A(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function W(e){return W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W(e)}function O(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",a=r.toStringTag||"@@toStringTag";function l(r,n,a,l){var o=n&&n.prototype instanceof s?n:s,c=Object.create(o.prototype);return M(c,"_invoke",function(r,n,a){var l,s,o,c=0,u=a||[],d=!1,m={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,r){return l=t,s=0,o=e,m.n=r,i}};function f(r,n){for(s=r,o=n,t=0;!d&&c&&!a&&t<u.length;t++){var a,l=u[t],f=m.p,v=l[2];r>3?(a=v===n)&&(o=l[(s=l[4])?5:(s=3,3)],l[4]=l[5]=e):l[0]<=f&&((a=r<2&&f<l[1])?(s=0,m.v=n,m.n=l[1]):f<v&&(a=r<3||l[0]>n||n>v)&&(l[4]=r,l[5]=n,m.n=v,s=0))}if(a||r>1)return i;throw d=!0,n}return function(a,u,v){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,v),s=u,o=v;(t=s<2?e:o)||!d;){l||(s?s<3?(s>1&&(m.n=-1),f(s,o)):m.n=o:m.v=o);try{if(c=2,l){if(s||(a="next"),t=l[a]){if(!(t=t.call(l,o)))throw TypeError("iterator result is not an object");if(!t.done)return t;o=t.value,s<2&&(s=0)}else 1===s&&(t=l.return)&&t.call(l),s<2&&(o=TypeError("The iterator does not provide a '"+a+"' method"),s=1);l=e}else if((t=(d=m.n<0)?o:r.call(n,m))!==i)break}catch(t){l=e,s=1,o=t}finally{c=1}}return{value:t,done:d}}}(r,a,l),!0),c}var i={};function s(){}function o(){}function c(){}t=Object.getPrototypeOf;var u=[][n]?t(t([][n]())):(M(t={},n,function(){return this}),t),d=c.prototype=s.prototype=Object.create(u);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,M(e,a,"GeneratorFunction")),e.prototype=Object.create(d),e}return o.prototype=c,M(d,"constructor",c),M(c,"constructor",o),o.displayName="GeneratorFunction",M(c,a,"GeneratorFunction"),M(d),M(d,a,"Generator"),M(d,n,function(){return this}),M(d,"toString",function(){return"[object Generator]"}),(O=function(){return{w:l,m:m}})()}function M(e,t,r,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}M=function(e,t,r,n){function l(t,r){M(e,t,function(e){return this._invoke(t,r,e)})}t?a?a(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(l("next",0),l("throw",1),l("return",2))},M(e,t,r,n)}function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach(function(t){L(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function L(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=W(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=W(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==W(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}System.register(["./index-legacy-CEOCQCnd.js","./vendor-legacy-B8gM1TaO.js","./App-legacy-QJVPl7Ns.js","./Breadcrumbs-legacy-BeFv98sD.js","./DataTable-legacy-DnnK-37s.js","./AuthenticatedApp-legacy-Cp7fcK-C.js","./collections-legacy-CM8gom_5.js","./ConfirmDialog-legacy-BpyCkcTT.js","./EmployeeCardForm-legacy-BaupmGAK.js","./input-legacy-CY3em9HE.js","./Archive-legacy-CIdXW_3z.js","./Logs-legacy-y_Hi1HXt.js","./Storage-legacy-CIFqbxRe.js","./ArrowPathIcon-legacy-BTvcRvyk.js","./users-legacy-CnVKLagr.js","./useToast-legacy-CJ_TNtAI.js","./EmployeeLink-legacy-ojmhKLCG.js","./PhotoIcon-legacy-B8J7dZHC.js"],function(_,T){"use strict";var A,M,D,K,F,H,P,V,B,z,Z,q,G,J,X,Y,Q,$,ee,te,re,ne,ae,le,ie,se,oe,ce,ue,de,me,fe,ve,he,xe,pe,ge,be,ye,je,Ne,ke,we,Se,_e,Ce,Ie,Ee,Te,Ae,We,Oe,Me,De,Re;return{setters:[function(e){A=e.j,M=e._},function(e){D=e.b,K=e.l,F=e.R,H=e.i,P=e.p,V=e.m,B=e.s},function(e){z=e.d,Z=e.B,q=e.h,G=e.M,J=e.s,X=e.b,Y=e.a},function(e){Q=e.B},function(e){$=e.default},function(e){ee=e.b,te=e.c,re=e.d,ne=e.e,ae=e.P,le=e.f,ie=e.R,se=e.I,oe=e.g,ce=e.i,ue=e.S,de=e.F,me=e.h,fe=e.A,ve=e.j},function(e){he=e.f,xe=e.t,pe=e.a,ge=e.b,be=e.c,ye=e.u,je=e.r},function(e){Ne=e.C},function(e){ke=e.f,we=e.a,Se=e.R,_e=e.E},function(e){Ce=e.I},function(e){Ie=e.default},function(e){Ee=e.default},function(e){Te=e.F,Ae=e.S},function(e){We=e.F},function(e){Oe=e.f,Me=e.d,De=e.c,Re=e.u},null,null,null],execute:function(){var Le=O().m(jt);function Ue(t,r){var n=t.title,a=t.titleId,l=U(t,e);return D.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},l),n?D.createElement("title",{id:a},n):null,D.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))}_("default",function(){var e,t,r,n,a,l,i,s,o,c,u,d,m,f=X().t,v=I(H(),2),h=v[0],x=v[1],p=I(D.useState(function(){var e=h.get("module");return fn(e)?e:"directories"}),2),g=p[0],b=p[1],y=I(D.useState("departments"),2),j=y[0],N=y[1],k=I(D.useState([]),2),S=k[0],_=k[1],E=I(D.useState(!1),2),T=E[0],M=E[1],K=I(D.useState(0),2),F=K[0],P=K[1],V=I(D.useState(1),2),B=V[0],z=V[1],q=I(D.useState(function(){return hn()}),2),ee=q[0],te=q[1],re=I(D.useState(function(){return hn()}),2),ne=re[0],ae=re[1],le=I(D.useState(pn),2),ie=le[0],se=le[1],oe=I(D.useState(""),2),ce=oe[0],de=oe[1],ve=I(D.useState([]),2),Se=ve[0],Ce=ve[1],Te=I(D.useState([]),2),We=Te[0],Le=Te[1],Ue=I(D.useState([]),2),Ke=Ue[0],Fe=Ue[1],He=I(D.useState([]),2),Pe=He[0],Ve=He[1],Be=10,ze=I(D.useState([]),2),Ze=ze[0],qe=ze[1],Ge=I(D.useState(1),2),Je=Ge[0],Xe=Ge[1],Ye=I(D.useState(""),2),Qe=Ye[0],$e=Ye[1],et=I(D.useState(""),2),tt=et[0],rt=et[1],nt=I(D.useState(!1),2),at=nt[0],lt=nt[1],it=I(D.useState(xn),2),st=it[0],ot=it[1],ct=I(D.useState(!1),2),ut=ct[0],dt=ct[1],mt=I(D.useState(null),2),ft=mt[0],vt=mt[1],ht=D.useRef(),xt=I(D.useState(void 0),2),pt=xt[0],bt=xt[1],jt=I(D.useState(!1),2),Nt=jt[0],kt=jt[1],wt=I(D.useState("create"),2),St=wt[0],_t=wt[1],Ct=I(D.useState([]),2),It=Ct[0],Et=Ct[1],Tt=I(D.useState([]),2),At=Tt[0],Wt=Tt[1],Ot=I(D.useState(!1),2),Mt=Ot[0],Dt=Ot[1],Rt=Y().user,Lt=I(D.useState(!1),2),Ut=Lt[0],Kt=Lt[1],Ft=I(D.useState(!1),2),Ht=Ft[0],Pt=Ft[1],Vt=me(null==Rt?void 0:Rt.access,fe);D.useEffect(function(){return function(){ht.current&&window.clearTimeout(ht.current)}},[]),D.useEffect(function(){var e=h.get("module"),t=fn(e)?e:"directories";t!==g&&b(t)},[h,g]);var Bt=D.useCallback(function(e){b(e);var t=new URLSearchParams(h.toString());"directories"===e?t.delete("module"):t.set("module",e),x(t,{replace:!0})},[h,x]),zt=D.useMemo(function(){var e;if(null==ft||!ft.meta||"object"!==W(ft.meta))return{readonly:!1,notice:void 0};var t=ft.meta,r=Boolean(null!==(e=t.readonly)&&void 0!==e?e:t.legacy);return{readonly:r,notice:r?"string"==typeof t.readonlyReason?t.readonlyReason:t.legacy?"Элемент перенесён из старой коллекции и доступен только для чтения.":void 0:void 0}},[ft]),Zt=D.useMemo(function(){return"objects"===(null==ft?void 0:ft.type)?xe(ft):null},[ft]),er=D.useMemo(function(){return[{label:f("nav.settings"),href:"/settings"},{label:f("collections.page.title")}]},[f]),tr=null!==(e=ee[j])&&void 0!==e?e:"",rr=null!==(t=ne[j])&&void 0!==t?t:"",nr="directories"===g&&"users"!==j&&"fleets"!==j&&"tasks"!==j,ar="directories"===g&&"users"===j,lr="directories"===g&&"employees"===j,ir=D.useCallback(function(e){var t=e.trim();z(1),te(function(e){return e[j]===t?e:R(R({},e),{},L({},j,t))})},[j]);D.useEffect(function(){ae(function(e){return R(R({},e),{},L({},j,tr))})},[j,tr]),D.useEffect(function(){if(nr)return ht.current&&window.clearTimeout(ht.current),ht.current=window.setTimeout(function(){ir(rr)},400),function(){ht.current&&window.clearTimeout(ht.current)}},[ir,rr,nr]);var sr=D.useCallback(C(O().m(function e(){var t,r,n,a,l,i,s;return O().w(function(e){for(;;)switch(e.p=e.n){case 0:if("users"!==j&&"tasks"!==j){e.n=1;break}return M(!1),e.a(2);case 1:if(M(!0),e.p=2,"fleets"!==j){e.n=3;break}return _([]),P(0),de(""),e.a(2);case 3:if("employees"!==j){e.n=5;break}return e.n=4,pe("employees");case 4:return t=e.v,_(t),P(t.length),de(""),e.a(2);case 5:if("objects"!==j){e.n=7;break}return e.n=6,ge(tr,B,Be);case 6:return r=e.v,n=r.items,a=r.total,_(n),P(a),de(""),e.a(2);case 7:return e.n=8,he(j,tr,B,Be);case 8:l=e.v,_(l.items),P(l.total),"departments"===j&&Ce(function(e){return In(e,l.items)}),"divisions"===j&&Le(function(e){return In(e,l.items)}),"positions"===j&&Fe(function(e){return In(e,l.items)}),de(""),e.n=10;break;case 9:e.p=9,s=e.v,i=s instanceof Error?s.message:"Не удалось загрузить элементы",_([]),P(0),de(i);case 10:return e.p=10,M(!1),e.f(10);case 11:return e.a(2)}},e,null,[[2,9,10,11]])})),[j,tr,B]),or=D.useCallback(C(O().m(function e(){var t,r,n;return O().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,Oe();case 1:t=e.v,qe(t),de(function(e){return e===Kn?"":e}),e.n=3;break;case 2:e.p=2,n=e.v,r=n instanceof Error?n.message:Kn,qe([]),de(r||Kn);case 3:return e.a(2)}},e,null,[[0,2]])})),[]),cr=D.useCallback(C(O().m(function e(){var t,r,n,a,l,i;return O().w(function(e){for(;;)switch(e.p=e.n){case 0:return Dt(!0),e.p=1,e.n=2,Promise.all([pe("task_fields"),pe("task_types")]);case 2:t=e.v,r=I(t,2),n=r[0],a=r[1],Et(n),Wt(a),de(function(e){return e===Hn?"":e}),e.n=4;break;case 3:e.p=3,i=e.v,l=i instanceof Error?i.message:Hn,Et([]),Wt([]),de(l||Hn);case 4:return e.p=4,Dt(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])})),[de]);D.useEffect(function(){"tasks"===j&&cr()},[j,cr]);var ur=D.useCallback(function(){var e=C(O().m(function e(t,r){var n,a,l,i;return O().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n=r.trim()){e.n=1;break}throw new Error("Название не может быть пустым");case 1:if(e.p=1,null===(a=t.meta)||void 0===a||!a.virtual){e.n=3;break}return e.n=2,be("task_fields",{name:t.name,value:n});case 2:e.n=4;break;case 3:return e.n=4,ye(t._id,{name:t.name,value:n},{collectionType:"task_fields"});case 4:return e.n=5,cr();case 5:e.n=7;break;case 6:throw e.p=6,i=e.v,l=i instanceof Error?i.message:Pn,new Error(l||Pn);case 7:return e.a(2)}},e,null,[[1,6]])}));return function(t,r){return e.apply(this,arguments)}}(),[cr]),dr=D.useCallback(function(){var e=C(O().m(function e(t){var r,n,a;return O().w(function(e){for(;;)switch(e.p=e.n){case 0:if(null===(r=t.meta)||void 0===r||!r.virtual){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,je(t._id);case 2:return e.n=3,cr();case 3:e.n=5;break;case 4:throw e.p=4,a=e.v,n=a instanceof Error?a.message:Bn,new Error(n||Bn);case 5:return e.a(2)}},e,null,[[1,4]])}));return function(t){return e.apply(this,arguments)}}(),[cr]),mr=D.useCallback(function(){var e=C(O().m(function e(t,r){var n,a,l,i,s,o,c,u,d;return O().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n=r.label.trim()){e.n=1;break}throw new Error("Название не может быть пустым");case 1:if(a=r.tg_theme_url.trim(),l=r.tg_photos_url.trim(),e.p=2,s=function(){var e={};return a&&(e.tg_theme_url=a),l&&(e.tg_photos_url=l),e},null===(i=t.meta)||void 0===i||!i.virtual){e.n=4;break}return o=s(),e.n=3,be("task_types",R({name:t.name,value:n},Object.keys(o).length?{meta:o}:{}));case 3:e.n=5;break;case 4:return c=s(),a||(c.tg_theme_url=""),l||(c.tg_photos_url=""),e.n=5,ye(t._id,{name:t.name,value:n,meta:c},{collectionType:"task_types"});case 5:return e.n=6,cr();case 6:e.n=8;break;case 7:throw e.p=7,d=e.v,u=d instanceof Error?d.message:Vn,new Error(u||Vn);case 8:return e.a(2)}},e,null,[[2,7]])}));return function(t,r){return e.apply(this,arguments)}}(),[cr]),fr=D.useCallback(function(){var e=C(O().m(function e(t){var r,n,a;return O().w(function(e){for(;;)switch(e.p=e.n){case 0:if(null===(r=t.meta)||void 0===r||!r.virtual){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,je(t._id);case 2:return e.n=3,cr();case 3:e.n=5;break;case 4:throw e.p=4,a=e.v,n=a instanceof Error?a.message:Bn,new Error(n||Bn);case 5:return e.a(2)}},e,null,[[1,4]])}));return function(t){return e.apply(this,arguments)}}(),[cr]);D.useEffect(function(){"users"!==j&&"employees"!==j||rt(Qe)},[j,Qe]),D.useEffect(function(){ut&&"divisions"===(null==ft?void 0:ft.type)&&or()},[ut,ft,or]),D.useEffect(function(){var e=function(){var e=C(O().m(function e(){var t,r,n,a,l,i;return O().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Promise.allSettled([pe("departments"),pe("divisions"),pe("positions")]);case 1:t=e.v,r=I(t,3),n=r[0],a=r[1],l=r[2],(i=function(e,t,r){if("fulfilled"!==e.status){var n=e.reason,a=n instanceof Error&&n.message?n.message:r;de(function(e){return e||a})}else t(e.value)})(n,Ce,"Не удалось загрузить департаменты"),i(a,Le,"Не удалось загрузить отделы"),i(l,Fe,"Не удалось загрузить должности");case 2:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}();e(),we().then(function(e){return Ve(e)}).catch(function(e){Ve([]);var t=e instanceof Error?e.message:"Не удалось загрузить роли";de(function(e){return e||t})})},[]),D.useEffect(function(){"users"!==j&&"tasks"!==j?(sr(),"fleets"!==j&&se(pn)):de("")},[sr,j]),D.useEffect(function(){"users"===j&&(or(),ot(xn),bt(void 0)),"employees"===j&&(or(),bt(void 0),_t("create"),kt(!1)),"employees"!==j&&kt(!1),"users"!==j&&"employees"!==j&&"fleets"!==j&&"tasks"!==j||dt(!1),"users"!==j&&(lt(!1),ot(xn))},[j,or]);var vr=function(e){if(e){if("objects"===e.type){var t=xe(e);se({_id:t._id,name:t.name,value:t.address,meta:t.meta,address:t.address,latitude:void 0!==t.latitude?t.latitude.toString():"",longitude:void 0!==t.longitude?t.longitude.toString():""})}else se({_id:e._id,name:e.name,value:e.value,meta:e.meta});vt(e)}else se(pn),vt(null);dt(!0)},hr=function(){dt(!1),vt(null),se(pn)},pr=function(e){ot(e?function(e){var t,r,n,a,l,i,s,o,c,u,d,m;return{telegram_id:null==e?void 0:e.telegram_id,username:null!==(t=null!==(r=null==e?void 0:e.telegram_username)&&void 0!==r?r:null==e?void 0:e.username)&&void 0!==t?t:"",name:null!==(n=null==e?void 0:e.name)&&void 0!==n?n:"",phone:null!==(a=null==e?void 0:e.phone)&&void 0!==a?a:"",mobNumber:null!==(l=null==e?void 0:e.mobNumber)&&void 0!==l?l:"",email:null!==(i=null==e?void 0:e.email)&&void 0!==i?i:"",role:null!==(s=null==e?void 0:e.role)&&void 0!==s?s:"user",access:null!==(o=null==e?void 0:e.access)&&void 0!==o?o:1,roleId:null!==(c=null==e?void 0:e.roleId)&&void 0!==c?c:"",departmentId:null!==(u=null==e?void 0:e.departmentId)&&void 0!==u?u:"",divisionId:null!==(d=null==e?void 0:e.divisionId)&&void 0!==d?d:"",positionId:null!==(m=null==e?void 0:e.positionId)&&void 0!==m?m:""}}(e):xn),lt(!0)},yr=D.useCallback(function(){lt(!1),ot(xn)},[]),jr=function(e){e?(bt(String(e.telegram_id)),_t("update")):(bt(void 0),_t("create")),kt(!0)},Nr=D.useCallback(function(e){ae(function(t){return R(R({},t),{},L({},j,e))})},[j]),kr=D.useCallback(function(e){ht.current&&window.clearTimeout(ht.current),ir(null!=e?e:rr)},[ir,rr]),wr=D.useCallback(function(e){nr&&("Enter"===e.key&&(e.preventDefault(),kr(e.currentTarget.value)),"Escape"===e.key&&(e.preventDefault(),Nr(""),kr("")))},[nr,kr,Nr]),Sr=D.useCallback(function(){Nr(""),kr("")},[kr,Nr]),Cr=D.useCallback(function(e){null==e||e.preventDefault(),Xe(1),$e(tt.trim()),bt(void 0)},[tt]),Ir=D.useCallback(function(e){ar&&("Enter"===e.key&&(e.preventDefault(),Cr()),"Escape"===e.key&&(e.preventDefault(),rt(""),Cr()))},[ar,Cr]),Er=D.useCallback(C(O().m(function e(){var t,r;return O().w(function(e){for(;;)switch(e.p=e.n){case 0:if(st.telegram_id){e.n=1;break}return Kt(!1),e.a(2);case 1:return e.p=1,e.n=2,Me(st.telegram_id);case 2:return J(zn,"success"),bt(function(e){return e===String(st.telegram_id)?void 0:e}),yr(),e.n=3,or();case 3:e.n=5;break;case 4:e.p=4,r=e.v,t=r instanceof Error?r.message:Zn,J(t||Zn,"error");case 5:return e.p=5,Kt(!1),e.f(5);case 6:return e.a(2)}},e,null,[[1,4,5,6]])})),[st.telegram_id,yr,or,bt]),Tr=D.useCallback(C(O().m(function e(){var t,r;return O().w(function(e){for(;;)switch(e.p=e.n){case 0:if(pt){e.n=1;break}return Pt(!1),e.a(2);case 1:return e.p=1,e.n=2,Me(pt);case 2:return J(qn,"success"),kt(!1),bt(void 0),_t("create"),e.n=3,or();case 3:e.n=5;break;case 4:e.p=4,r=e.v,t=r instanceof Error?r.message:Gn,J(t||Gn,"error");case 5:return e.p=5,Pt(!1),e.f(5);case 6:return e.a(2)}},e,null,[[1,4,5,6]])})),[pt,or]),Ar=function(){var e=C(O().m(function e(){var t,r,n,a,l,i,s,o,c,u,d,m,f,v,h;return O().w(function(e){for(;;)switch(e.p=e.n){case 0:if("fleets"!==j){e.n=1;break}return e.a(2);case 1:if(t=ie.name.trim()){e.n=2;break}return e.a(2);case 2:if(!ie._id||!zt.readonly){e.n=3;break}return de(null!==(r=zt.notice)&&void 0!==r?r:"Элемент перенесён из старой коллекции и доступен только для чтения."),e.a(2);case 3:if(n=ie.value,"departments"!==j){e.n=4;break}n=Cn(ie.value).join(","),e.n=7;break;case 4:if("objects"!==j){e.n=6;break}if(o=(null!==(l=null!==(i=ie.address)&&void 0!==i?i:ie.value)&&void 0!==l?l:"").trim()){e.n=5;break}return de("Укажите адрес объекта."),e.a(2);case 5:n=o,c=Jr(ie.latitude),u=Jr(ie.longitude),d=R(R({},null!==(s=ie.meta)&&void 0!==s?s:{}),{},{address:o}),void 0!==c&&(d.latitude=c),void 0!==u&&(d.longitude=u),void 0===c&&void 0===u||(d.location={lat:c,lng:u}),a=d,e.n=7;break;case 6:if(n=ie.value.trim()){e.n=7;break}return de("Заполните значение элемента."),e.a(2);case 7:if(e.p=7,m=null,f=R({name:t,value:n},a?{meta:a}:{}),!ie._id){e.n=9;break}return e.n=8,ye(ie._id,f,{collectionType:j});case 8:m=e.v,e.n=11;break;case 9:return e.n=10,be(j,f);case 10:m=e.v;case 11:if(m){e.n=12;break}throw new Error("Сервер не вернул сохранённый элемент");case 12:return de(""),e.n=13,sr();case 13:hr(),e.n=15;break;case 14:e.p=14,h=e.v,v=h instanceof Error?h.message:"Не удалось сохранить элемент",de(v);case 15:return e.a(2)}},e,null,[[7,14]])}));return function(){return e.apply(this,arguments)}}(),Wr=function(){var e=C(O().m(function e(){var t,r,n;return O().w(function(e){for(;;)switch(e.p=e.n){case 0:if(ie._id){e.n=1;break}return e.a(2);case 1:if(!zt.readonly){e.n=2;break}return de(null!==(t=zt.notice)&&void 0!==t?t:"Элемент перенесён из старой коллекции и доступен только для чтения."),e.a(2);case 2:return e.p=2,e.n=3,je(ie._id);case 3:return de(""),e.n=4,sr();case 4:hr(),e.n=6;break;case 5:e.p=5,n=e.v,r=n instanceof Error?n.message:"",de(r);case 6:return e.a(2)}},e,null,[[2,5]])}));return function(){return e.apply(this,arguments)}}(),Mr=function(){var e=C(O().m(function e(){var t,r;return O().w(function(e){for(;;)switch(e.n){case 0:if(st.telegram_id){e.n=1;break}return e.a(2);case 1:if(t=st.telegram_id,Ze.find(function(e){return e.telegram_id===t})){e.n=2;break}return e.n=2,De(t,st.username,st.roleId);case 2:return st.telegram_id,r=U(st,w),e.n=3,Re(t,r);case 3:or(),yr();case 4:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),Dr=D.useMemo(function(){var e=new Map;return Se.forEach(function(t){return e.set(t._id,t.name)}),e},[Se]),Rr=D.useMemo(function(){var e=new Map;return We.forEach(function(t){return e.set(t._id,t.name)}),e},[We]),Lr=D.useMemo(function(){var e=new Map;return Ke.forEach(function(t){return e.set(t._id,t.name)}),e},[Ke]),Ur=D.useMemo(function(){return Mn(S)},[S]),Kr=D.useCallback(function(e){return Dn(e,Un(e,Ur))},[Ur]),Fr=D.useMemo(function(){return Ze.map(function(e){return Kr(e)})},[Ze,Kr]),Hr=D.useMemo(function(){var e=new Map;return Pe.forEach(function(t){return e.set(t._id,t.name)}),e},[Pe]),Pr=D.useMemo(function(){var e=new Map,t=new Set;return Se.forEach(function(r){Cn(r.value).forEach(function(n){var a=e.get(n);a&&a!==r._id?t.add(n):a||e.set(n,r._id)})}),{divisionOwners:e,duplicateDivisionIds:Array.from(t)}},[Se]),Vr=Pr.divisionOwners,Br=Pr.duplicateDivisionIds,zr=D.useMemo(function(){if(!Br.length)return"";var e=Br.map(function(e){var t,r,n;return null!==(t=null!==(r=Rr.get(e))&&void 0!==r?r:null===(n=We.find(function(t){return t._id===e}))||void 0===n?void 0:n.name)&&void 0!==t?t:e}).filter(function(e){return Boolean(e)}),t=e.length?": ".concat(e.join(", "),"."):".";return"".concat(Fn).concat(t)},[Br,Rr,We]);D.useEffect(function(){de(zr?function(e){return e||zr}:function(e){return e&&e.startsWith(Fn)?"":e})},[zr]);var Zr=D.useCallback(function(e,t){var r;if("departments"===t){var n=Cn(e.value);if(!n.length)return xr;var a=n.map(function(e){var t,r,n;return null!==(t=null!==(r=Rr.get(e))&&void 0!==r?r:null===(n=We.find(function(t){return t._id===e}))||void 0===n?void 0:n.name)&&void 0!==t?t:e}).filter(function(e){return Boolean(e)});return a.length?a.join("\n"):xr}if("divisions"===t){var l,i,s,o=null!==(l=null!==(i=Dr.get(e.value))&&void 0!==i?i:null===(s=Se.find(function(t){return t._id===e.value}))||void 0===s?void 0:s.name)&&void 0!==l?l:e.value;return o?Sn(o):xr}if("positions"===t){var c,u,d,m=null!==(c=null!==(u=Rr.get(e.value))&&void 0!==u?u:null===(d=We.find(function(t){return t._id===e.value}))||void 0===d?void 0:d.name)&&void 0!==c?c:e.value;return m?Sn(m):xr}if("objects"===t){var f,v=xe(e),h=Xn(v.latitude,v.longitude);return h!==xr?h:(null===(f=v.address)||void 0===f?void 0:f.trim())||xr}return Sn(null!==(r=e.value)&&void 0!==r?r:"")||xr},[Se,We,Dr,Rr,Xn]),qr=D.useCallback(function(e){return e&&wn(e)||xr},[]),Jr=D.useCallback(function(e){if(e){var t=e.trim();if(t){var r=Number.parseFloat(t);return Number.isFinite(r)?r:void 0}}},[]),Xr=f("collections.actions.copyId"),Yr=f("collections.actions.copiedId"),Qr=D.useCallback(function(e){return e.map(function(e){if(!Jn(e))return e;switch(e.accessorKey){case"name":return R(R({},e),{},{header:f("collections.table.columns.name")});case"value":return R(R({},e),{},{header:f("collections.table.columns.value")});case"displayValue":return R(R({},e),{},{header:f("collections.table.columns.relations")});case"type":return R(R({},e),{},{header:f("collections.table.columns.type")});case"_id":return R(R({},e),{},{header:f("collections.table.columns.id"),cell:function(e){var t=(0,e.getValue)(),r="string"==typeof t?t:"";return r?A.jsx(Qt,{value:r,copyHint:Xr,copiedHint:Yr}):A.jsx("span",{className:"text-xs text-[color:var(--color-gray-500)] dark:text-[color:var(--color-gray-300)]",children:xr})}});case"metaSummary":return R(R({},e),{},{header:f("collections.table.columns.meta")});case"address":return R(R({},e),{},{header:f("collections.table.columns.address")});case"coordinates":return R(R({},e),{},{header:f("collections.table.columns.coordinates")});default:return e}})},[Yr,Xr,f]),$r=D.useMemo(function(){return Qr(an)},[Qr]),en=D.useMemo(function(){return Qr(ln)},[Qr]),tn=f("collections.search.placeholder"),rn=f("collections.search.hint"),cn=f("collections.actions.search"),yn=f("collections.actions.reset"),jn=f("collections.actions.add"),Nn=f("collections.table.empty.title"),kn=f("collections.table.empty.description"),_n=f("collections.table.empty.action"),Tn=f("collections.users.searchPlaceholder"),An=f("collections.users.add"),Wn=f("collections.employees.searchPlaceholder"),On=f("collections.employees.add"),Rn=D.useCallback(function(e){return $r.filter(function(t){return!Jn(t)||!e.includes(t.accessorKey)})},[$r]),Qn=D.useMemo(function(){return Rn(["value","type","metaSummary"])},[Rn]),$n=D.useMemo(function(){return Rn(["type","metaSummary"])},[Rn]),ea=D.useMemo(function(){return Rn(["type","metaSummary"])},[Rn]),ta=D.useCallback(function(e,t,r){var n=Cn(e.value);return A.jsx("select",{multiple:!0,className:"min-h-[8rem] w-full rounded border px-3 py-2",value:n,onChange:function(r){var n=Array.from(r.target.selectedOptions).map(function(e){return e.value});t(R(R({},e),{},{value:n.join(",")}))},disabled:null==r?void 0:r.readonly,children:We.filter(function(t){var r=Vr.get(t._id);return!r||(!!n.includes(t._id)||!!e._id&&r===e._id)}).map(function(e){return A.jsx("option",{value:e._id,children:e.name},e._id)})})},[We,Vr]),ra=D.useCallback(function(e,t,r){return A.jsxs("select",{className:"h-10 w-full rounded border px-3",value:e.value,onChange:function(r){return t(R(R({},e),{},{value:r.target.value}))},required:!0,disabled:null==r?void 0:r.readonly,children:[A.jsx("option",{value:"",disabled:!0,children:"Выберите департамент"}),Se.map(function(e){return A.jsx("option",{value:e._id,children:e.name},e._id)})]})},[Se]),na=D.useCallback(function(e,t,r){return A.jsxs("select",{className:"h-10 w-full rounded border px-3",value:e.value,onChange:function(r){return t(R(R({},e),{},{value:r.target.value}))},required:!0,disabled:null==r?void 0:r.readonly,children:[A.jsx("option",{value:"",disabled:!0,children:"Выберите отдел"}),We.map(function(e){return A.jsx("option",{value:e._id,children:e.name},e._id)})]})},[We]),aa=D.useCallback(function(e,t,r){var n,a,l,i=null==r?void 0:r.readonly,s=null!==(n=e.address)&&void 0!==n?n:e.value;return A.jsxs("div",{className:"space-y-2",children:[A.jsx("input",{className:"h-10 w-full rounded border px-3",value:s,placeholder:"Адрес объекта",onChange:function(r){return t(R(R({},e),{},{address:r.target.value,value:r.target.value}))},required:!0,disabled:i}),A.jsxs("div",{className:"grid grid-cols-1 gap-2 sm:grid-cols-2",children:[A.jsx("input",{className:"h-10 w-full rounded border px-3",value:null!==(a=e.latitude)&&void 0!==a?a:"",placeholder:"Широта",onChange:function(r){return t(R(R({},e),{},{latitude:r.target.value}))},disabled:i}),A.jsx("input",{className:"h-10 w-full rounded border px-3",value:null!==(l=e.longitude)&&void 0!==l?l:"",placeholder:"Долгота",onChange:function(r){return t(R(R({},e),{},{longitude:r.target.value}))},disabled:i})]})]})},[]),la=Math.ceil(F/Be)||1,ia=D.useMemo(function(){var e=Qe.trim();return e?yt(Fr,e,{keys:[{key:function(e){var t;return null!==(t=e.username)&&void 0!==t?t:""},threshold:gt.STARTS_WITH},{key:function(e){var t;return null!==(t=e.telegram_username)&&void 0!==t?t:""},threshold:gt.STARTS_WITH},{key:function(e){return void 0!==e.telegram_id&&null!==e.telegram_id?String(e.telegram_id):""},threshold:gt.STARTS_WITH},{key:function(e){return Ln(e)},threshold:gt.CONTAINS}]}):Fr},[Qe,Fr]),sa=Math.ceil(ia.length/Be)||1,oa=ia.slice((Je-1)*Be,Je*Be),ca=D.useMemo(function(){return oa.map(function(e){var t=Kr(e),r="string"==typeof t.roleId?t.roleId.trim():"",n="string"==typeof t.departmentId?t.departmentId.trim():"",a="string"==typeof t.divisionId?t.divisionId.trim():"",l="string"==typeof t.positionId?t.positionId.trim():"",i=En(Hr,r,t.roleName),s=En(Dr,n,t.departmentName),o=En(Rr,a,t.divisionName),c=En(Lr,l,t.positionName),u=i||(t.role?ke(t.role):"");return un(R(R({},t),{},{roleId:r,departmentId:n,divisionId:a,positionId:l,roleName:u,departmentName:s,divisionName:o,positionName:c}))})},[oa,Hr,Dr,Rr,Lr,Kr]),ua=D.useMemo(function(){if(pt){var e=Fr.find(function(e){return String(e.telegram_id)===pt});if(e)return e;var t=Un(void 0,Ur,pt);if(t){var r={};if("number"==typeof t.telegram_id)r.telegram_id=t.telegram_id;else{var n=Number(pt);Number.isFinite(n)&&(r.telegram_id=n)}return t.username&&(r.username=t.username),t.telegram_username&&(r.telegram_username=t.telegram_username),Dn(r,t)}}},[Ur,Fr,pt]),da=D.useMemo(function(){return ft&&"departments"===ft.type?Cn(ft.value).map(function(e){var t,r,n;return null!==(t=null!==(r=Rr.get(e))&&void 0!==r?r:null===(n=We.find(function(t){return t._id===e}))||void 0===n?void 0:n.name)&&void 0!==t?t:e}).filter(function(e){return Boolean(e)}):[]},[ft,Rr,We]),ma=D.useMemo(function(){var e,t,r;if(!ft||"divisions"!==ft.type)return xr;var n=ft.value;return n?null!==(e=null!==(t=Dr.get(n))&&void 0!==t?t:null===(r=Se.find(function(e){return e._id===n}))||void 0===r?void 0:r.name)&&void 0!==e?e:n:xr},[ft,Dr,Se]),fa=D.useMemo(function(){return ft&&"divisions"===ft.type?Ke.filter(function(e){return e.value===ft._id}).map(function(e){return e.name}).filter(function(e){return Boolean(e)}):[]},[ft,Ke]),va=D.useMemo(function(){return ft&&"divisions"===ft.type?Fr.filter(function(e){return e.divisionId===ft._id}).map(function(e){return e.name&&e.name.trim()?e.name.trim():e.username&&e.username.trim()?e.username.trim():void 0!==e.telegram_id&&null!==e.telegram_id?"ID ".concat(e.telegram_id):"Без имени"}):[]},[ft,Fr]),ha=function(){if("directories"!==g)return null;if(ar||lr){var e=lr?Wn:Tn,t=lr?On:An,r=lr?function(){return jr()}:function(){return pr()};return A.jsxs("div",{className:"flex w-full flex-col gap-2 sm:flex-row sm:items-end sm:justify-between",children:[A.jsxs("div",{className:"flex w-full flex-col gap-1 sm:w-72",children:[A.jsx("label",{htmlFor:"settings-users-search",className:"sr-only",children:cn}),A.jsx("input",{id:"settings-users-search",className:"h-10 w-full rounded-2xl border border-[color:var(--color-gray-200)] bg-white px-3 text-sm text-[color:var(--color-gray-900)] shadow-sm outline-none transition focus:border-[color:var(--color-brand-400)] focus:ring-2 focus:ring-[color:var(--color-brand-200)] dark:border-[color:var(--color-gray-700)] dark:bg-[color:var(--color-gray-dark)] dark:text-white",value:tt,onChange:function(e){return rt(e.target.value)},onKeyDown:Ir,placeholder:e}),A.jsx("span",{className:"text-[11px] text-[color:var(--color-gray-500)] dark:text-[color:var(--color-gray-300)]",children:rn})]}),A.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[A.jsx(Z,{size:"sm",onClick:function(){return Cr()},children:cn}),A.jsx(Z,{size:"sm",variant:"outline",onClick:function(){rt(""),Cr()},children:yn}),A.jsx(Z,{size:"sm",variant:"success",onClick:r,children:t})]})]})}return nr?A.jsxs("div",{className:"flex w-full flex-col gap-2 sm:flex-row sm:items-end sm:justify-between",children:[A.jsxs("div",{className:"flex w-full flex-col gap-1 sm:w-72",children:[A.jsx("label",{htmlFor:"settings-collections-search",className:"sr-only",children:cn}),A.jsx("input",{id:"settings-collections-search",className:"h-10 w-full rounded-2xl border border-[color:var(--color-gray-200)] bg-white px-3 text-sm text-[color:var(--color-gray-900)] shadow-sm outline-none transition focus:border-[color:var(--color-brand-400)] focus:ring-2 focus:ring-[color:var(--color-brand-200)] dark:border-[color:var(--color-gray-700)] dark:bg-[color:var(--color-gray-dark)] dark:text-white",value:rr,onChange:function(e){return Nr(e.target.value)},onKeyDown:wr,placeholder:tn}),A.jsx("span",{className:"text-[11px] text-[color:var(--color-gray-500)] dark:text-[color:var(--color-gray-300)]",children:rn})]}),A.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[A.jsx(Z,{size:"sm",onClick:function(){return kr()},children:cn}),A.jsx(Z,{size:"sm",variant:"outline",onClick:Sr,children:yn}),A.jsx(Z,{size:"sm",variant:"success",onClick:function(){return vr()},children:jn})]})]}):A.jsx("div",{className:"flex flex-wrap items-center gap-2",children:A.jsx(Z,{size:"sm",variant:"success",onClick:function(){return vr()},children:jn})})}();return A.jsx("div",{className:"mx-auto flex w-full max-w-screen-2xl flex-col gap-6 px-3 pb-12 pt-4 sm:px-4 lg:px-8",children:A.jsxs(qt,{value:g,onValueChange:function(e){return Bt(e)},className:"space-y-6",children:[A.jsx(Yt,{breadcrumbs:A.jsx(Q,{items:er}),title:f("collections.page.title"),description:f("collections.page.description"),toolbar:ha,children:A.jsxs("div",{className:"flex flex-col gap-3",children:[A.jsxs("div",{className:"sm:hidden",children:[A.jsx("label",{htmlFor:"settings-module-select",className:"sr-only",children:f("collections.moduleSelectLabel")}),A.jsx("select",{id:"settings-module-select",className:"h-11 w-full rounded-2xl border border-[color:var(--color-gray-200)] bg-white px-3 text-sm font-semibold text-[color:var(--color-gray-800)] shadow-sm outline-none transition focus:border-[color:var(--color-brand-400)] focus:ring-2 focus:ring-[color:var(--color-brand-200)] dark:border-[color:var(--color-gray-700)] dark:bg-[color:var(--color-gray-dark)] dark:text-white",value:g,onChange:function(e){return Bt(e.target.value)},children:mn.map(function(e){return A.jsx("option",{value:e.key,children:e.label},e.key)})})]}),A.jsx(Gt,{className:"hidden h-auto gap-2 bg-transparent p-0 sm:grid sm:gap-2 sm:p-1 sm:[grid-template-columns:repeat(5,minmax(11rem,1fr))]",children:mn.map(function(e){var t=e.icon,r="".concat(e.key,"-module-tab-label");return A.jsxs(Jt,{value:e.key,"aria-labelledby":r,className:"group flex h-full min-h-[3.4rem] w-full flex-col items-center justify-center gap-1.5 rounded-xl border border-transparent px-3 py-2 text-sm font-semibold text-[color:var(--color-gray-700)] transition-colors duration-200 ease-out hover:bg-[color:var(--color-gray-50)] focus-visible:ring-2 focus-visible:ring-[color:var(--color-brand-400)] focus-visible:ring-offset-2 dark:text-[color:var(--color-gray-200)] dark:hover:bg-[color:var(--color-gray-800)] data-[state=active]:border-[color:var(--color-gray-200)] data-[state=active]:bg-white data-[state=active]:text-[color:var(--color-brand-600)] data-[state=active]:shadow-sm dark:data-[state=active]:border-[color:var(--color-gray-700)] dark:data-[state=active]:bg-[color:var(--color-gray-dark)] dark:data-[state=active]:text-[color:var(--color-brand-300)]",children:[A.jsx(t,{className:"size-5 flex-shrink-0 text-[color:var(--color-gray-500)] transition-colors group-data-[state=active]:text-[color:var(--color-brand-600)] dark:text-[color:var(--color-gray-300)] dark:group-data-[state=active]:text-[color:var(--color-brand-300)] sm:size-6"}),A.jsx("span",{id:r,className:"truncate text-sm font-semibold leading-5 text-[color:var(--color-gray-800)] transition-colors group-data-[state=active]:text-[color:var(--color-brand-600)] dark:text-[color:var(--color-gray-100)] dark:group-data-[state=active]:text-[color:var(--color-brand-300)]",children:e.label}),e.description?A.jsx("span",{className:"hidden text-xs font-medium text-[color:var(--color-gray-500)] dark:text-[color:var(--color-gray-400)] sm:block",children:e.description}):null]},e.key)})})]})}),A.jsxs(Xt,{value:"directories",className:"mt-0 space-y-6",children:[ce?A.jsx("div",{className:"rounded-2xl border border-[color:var(--color-error-200)] bg-[color:var(--color-error-25)] p-4 text-sm text-[color:var(--color-error-600)] dark:border-[color:var(--color-error-700)] dark:bg-[color:var(--color-error-900)]/40 dark:text-[color:var(--color-error-200)]",children:ce}):null,A.jsxs(qt,{value:j,onValueChange:function(e){N(e),z(1)},className:"space-y-5",children:[A.jsxs("div",{className:"sm:hidden",children:[A.jsx("label",{htmlFor:"settings-section-select",className:"sr-only",children:f("collections.directorySelectLabel")}),A.jsx("select",{id:"settings-section-select",className:"h-11 w-full rounded-2xl border border-[color:var(--color-gray-200)] bg-white px-3 text-sm font-semibold text-[color:var(--color-gray-800)] shadow-sm outline-none transition focus:border-[color:var(--color-brand-400)] focus:ring-2 focus:ring-[color:var(--color-brand-200)] dark:border-[color:var(--color-gray-700)] dark:bg-[color:var(--color-gray-dark)] dark:text-white",value:j,onChange:function(e){N(e.target.value),z(1)},children:vn.map(function(e){return A.jsx("option",{value:e.key,children:e.label},e.key)})})]}),A.jsx(Gt,{className:"hidden gap-2 sm:grid sm:gap-2 sm:overflow-visible sm:p-1 sm:[grid-template-columns:repeat(7,minmax(9.5rem,1fr))]",children:vn.map(function(e){var t=gn[e.key],r="".concat(e.key,"-tab-label");return A.jsxs(Jt,{value:e.key,"aria-labelledby":r,className:"group flex h-full min-h-[3.1rem] w-full flex-col items-center justify-center gap-1.5 rounded-xl border border-transparent px-3 py-2 text-sm font-semibold text-[color:var(--color-gray-700)] transition-colors duration-200 ease-out hover:bg-[color:var(--color-gray-50)] focus-visible:ring-2 focus-visible:ring-[color:var(--color-brand-400)] focus-visible:ring-offset-2 dark:text-[color:var(--color-gray-200)] dark:hover:bg-[color:var(--color-gray-800)] data-[state=active]:border-[color:var(--color-gray-200)] data-[state=active]:bg-white data-[state=active]:text-[color:var(--color-brand-600)] data-[state=active]:shadow-sm dark:data-[state=active]:border-[color:var(--color-gray-700)] dark:data-[state=active]:bg-[color:var(--color-gray-dark)] dark:data-[state=active]:text-[color:var(--color-brand-300)]",children:[t?A.jsx(t,{className:"size-5 flex-shrink-0 text-[color:var(--color-gray-500)] transition-colors group-data-[state=active]:text-[color:var(--color-brand-600)] dark:text-[color:var(--color-gray-300)] dark:group-data-[state=active]:text-[color:var(--color-brand-300)] sm:size-6"}):null,A.jsx("span",{id:r,className:"truncate text-sm font-semibold leading-5 text-[color:var(--color-gray-800)] transition-colors group-data-[state=active]:text-[color:var(--color-brand-600)] dark:text-[color:var(--color-gray-100)] dark:group-data-[state=active]:text-[color:var(--color-brand-300)]",children:e.label}),e.description?A.jsx("span",{"aria-hidden":"true",className:"hidden text-xs font-medium text-[color:var(--color-gray-500)] dark:text-[color:var(--color-gray-400)] sm:block",children:e.description}):null]},e.key)})}),vn.map(function(e){var t=e.key===j,r=t?S.map(function(t){if("objects"===e.key){var r=xe(t);return R(R({},t),{},{address:r.address,coordinates:Yn(r.latitude,r.longitude),displayValue:r.address||xr,metaSummary:qr(t.meta)})}return R(R({},t),{},{displayValue:Zr(t,e.key),metaSummary:qr(t.meta)})}):[],n="departments"===e.key?Qn:"divisions"===e.key?$n:"positions"===e.key?ea:"objects"===e.key?en:$r;if("users"===e.key){var a=0===oa.length;return A.jsx(Xt,{value:e.key,className:"mt-0 flex flex-col gap-4",children:a?A.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 rounded-2xl border border-[color:var(--color-gray-200)] bg-white p-8 text-center shadow-sm dark:border-[color:var(--color-gray-700)] dark:bg-[color:var(--color-gray-dark)]",children:[A.jsx("h3",{className:"text-lg font-semibold text-[color:var(--color-gray-800)] dark:text-white",children:Nn}),A.jsx("p",{className:"max-w-md text-sm text-[color:var(--color-gray-600)] dark:text-[color:var(--color-gray-300)]",children:kn}),A.jsx(Z,{variant:"success",onClick:function(){return pr()},children:An})]}):A.jsx($,{columns:sn,data:oa,pageIndex:Je-1,pageSize:Be,pageCount:sa,onPageChange:function(e){return Xe(e+1)},showGlobalSearch:!1,showFilters:!1,onRowClick:function(e){return pr(e)},wrapCellsAsBadges:!0,badgeClassName:gr,badgeWrapperClassName:br,badgeEmptyPlaceholder:xr})},e.key)}if("employees"===e.key){var l=0===ca.length;return A.jsx(Xt,{value:e.key,className:"mt-0 flex flex-col gap-4",children:l?A.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 rounded-2xl border border-[color:var(--color-gray-200)] bg-white p-8 text-center shadow-sm dark:border-[color:var(--color-gray-700)] dark:bg-[color:var(--color-gray-dark)]",children:[A.jsx("h3",{className:"text-lg font-semibold text-[color:var(--color-gray-800)] dark:text-white",children:Nn}),A.jsx("p",{className:"max-w-md text-sm text-[color:var(--color-gray-600)] dark:text-[color:var(--color-gray-300)]",children:kn}),A.jsx(Z,{variant:"success",onClick:function(){return jr()},children:On})]}):A.jsx($,{columns:on,data:ca,pageIndex:Je-1,pageSize:Be,pageCount:sa,onPageChange:function(e){return Xe(e+1)},showGlobalSearch:!1,showFilters:!1,onRowClick:function(e){return jr(e)},wrapCellsAsBadges:!0,badgeClassName:gr,badgeWrapperClassName:br,badgeEmptyPlaceholder:xr})},e.key)}if("tasks"===e.key)return A.jsx(Xt,{value:e.key,className:"mt-0",children:A.jsx(Or,{fields:It,types:At,loading:Mt,onSaveField:ur,onDeleteField:dr,onSaveType:mr,onDeleteType:fr})},e.key);if("fleets"===e.key)return A.jsx(Xt,{value:e.key,className:"mt-0",children:A.jsx(_r,{})},e.key);var i=0===r.length;return A.jsx(Xt,{value:e.key,className:"mt-0 flex flex-col gap-4",children:t&&T?A.jsx("div",{className:"flex min-h-[12rem] items-center justify-center rounded-2xl border border-[color:var(--color-gray-200)] bg-white shadow-sm dark:border-[color:var(--color-gray-700)] dark:bg-[color:var(--color-gray-dark)]",children:A.jsx(ue,{className:"h-6 w-6 text-[color:var(--color-brand-500)]"})}):i?A.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 rounded-2xl border border-[color:var(--color-gray-200)] bg-white p-8 text-center shadow-sm dark:border-[color:var(--color-gray-700)] dark:bg-[color:var(--color-gray-dark)]",children:[A.jsx("h3",{className:"text-lg font-semibold text-[color:var(--color-gray-800)] dark:text-white",children:Nn}),A.jsx("p",{className:"max-w-md text-sm text-[color:var(--color-gray-600)] dark:text-[color:var(--color-gray-300)]",children:kn}),A.jsx(Z,{variant:"success",onClick:function(){return vr()},children:_n})]}):A.jsx($,{columns:n,data:r,pageIndex:B-1,pageSize:Be,pageCount:la,onPageChange:function(e){return z(e+1)},showGlobalSearch:!1,showFilters:!1,onRowClick:function(e){return vr(e)},wrapCellsAsBadges:!0,badgeClassName:gr,badgeWrapperClassName:br,badgeEmptyPlaceholder:xr})},e.key)})]})]}),A.jsx(G,{open:ut,onClose:hr,children:A.jsxs("div",{className:"space-y-4",children:[ft?A.jsx("article",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 shadow-sm",children:"departments"===ft.type?A.jsxs(A.Fragment,{children:[A.jsx("h3",{className:"text-base font-semibold",children:"Информация о департаменте"}),A.jsxs("dl",{className:"mt-2 space-y-3 text-sm",children:[A.jsxs("div",{className:"flex justify-between gap-4",children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"ID"}),A.jsx("dd",{className:"text-right text-slate-900",children:ft._id})]}),A.jsxs("div",{className:"flex justify-between gap-4",children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Название"}),A.jsx("dd",{className:"text-right text-slate-900",children:ft.name})]}),A.jsxs("div",{children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Отделы департамента"}),A.jsx("dd",{className:"mt-2",children:bn(da)})]})]})]}):"divisions"===ft.type?A.jsxs(A.Fragment,{children:[A.jsx("h3",{className:"text-base font-semibold",children:"Информация о департаменте"}),A.jsxs("dl",{className:"mt-2 space-y-3 text-sm",children:[A.jsxs("div",{className:"flex justify-between gap-4",children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"ID"}),A.jsx("dd",{className:"text-right text-slate-900",children:ft._id})]}),A.jsxs("div",{className:"flex justify-between gap-4",children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Название"}),A.jsx("dd",{className:"text-right text-slate-900",children:ft.name})]}),A.jsxs("div",{className:"flex justify-between gap-4",children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Департамент"}),A.jsx("dd",{className:"text-right text-slate-900",children:ma||"—"})]}),A.jsxs("div",{children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Должности отдела"}),A.jsx("dd",{className:"mt-2",children:bn(fa)})]}),A.jsxs("div",{children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Сотрудники отдела"}),A.jsx("dd",{className:"mt-2",children:bn(va)})]})]})]}):"objects"===ft.type&&Zt?A.jsxs(A.Fragment,{children:[A.jsx("h3",{className:"text-base font-semibold",children:"Информация об объекте"}),A.jsxs("dl",{className:"mt-2 space-y-3 text-sm",children:[A.jsxs("div",{className:"flex justify-between gap-4",children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"ID"}),A.jsx("dd",{className:"text-right text-slate-900",children:ft._id})]}),A.jsxs("div",{className:"flex justify-between gap-4",children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Название"}),A.jsx("dd",{className:"text-right text-slate-900",children:ft.name})]}),A.jsxs("div",{className:"flex justify-between gap-4",children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Адрес"}),A.jsx("dd",{className:"text-right text-slate-900",children:Zt.address||"—"})]}),A.jsxs("div",{className:"flex justify-between gap-4",children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Координаты"}),A.jsx("dd",{className:"text-right text-slate-900",children:Yn(Zt.latitude,Zt.longitude)})]}),A.jsxs("div",{children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Meta"}),A.jsx("dd",{className:"mt-1",children:A.jsx("pre",{className:"max-h-48 overflow-auto rounded bg-white p-2 text-xs text-slate-800",children:ft.meta?JSON.stringify(ft.meta,null,2):"{}"})})]})]})]}):A.jsxs(A.Fragment,{children:[A.jsx("h3",{className:"text-base font-semibold",children:"Карточка элемента"}),A.jsxs("dl",{className:"mt-2 space-y-1 text-sm",children:[A.jsxs("div",{className:"flex justify-between gap-4",children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"ID"}),A.jsx("dd",{className:"text-right text-slate-900",children:ft._id})]}),A.jsxs("div",{className:"flex justify-between gap-4",children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Название"}),A.jsx("dd",{className:"text-right text-slate-900",children:ft.name})]}),A.jsxs("div",{className:"flex justify-between gap-4",children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Тип"}),A.jsx("dd",{className:"text-right text-slate-900",children:ft.type})]}),A.jsxs("div",{children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Значение"}),A.jsx("dd",{className:"mt-1 rounded bg-white p-2 font-mono text-xs text-slate-900",children:ft.value||"—"})]}),A.jsxs("div",{children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Meta"}),A.jsx("dd",{className:"mt-1",children:A.jsx("pre",{className:"max-h-48 overflow-auto rounded bg-white p-2 text-xs text-slate-800",children:ft.meta?JSON.stringify(ft.meta,null,2):"{}"})})]})]})]})}):null,A.jsx($t,{form:ie,onChange:se,onSubmit:Ar,onDelete:Wr,onReset:function(){return se(pn)},valueLabel:"departments"===j?"Отделы":"divisions"===j?"Департамент":"positions"===j?"Отдел":"objects"===j?"Адрес":void 0,renderValueField:"departments"===j?ta:"divisions"===j?ra:"positions"===j?na:"objects"===j?aa:void 0,readonly:zt.readonly,readonlyNotice:zt.notice})]})}),A.jsx(G,{open:at,onClose:yr,children:A.jsxs("div",{className:"space-y-4",children:[A.jsxs("article",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 shadow-sm",children:[A.jsxs("header",{className:"flex items-start justify-between gap-3",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"text-base font-semibold",children:"Карточка пользователя"}),A.jsxs("p",{className:"text-sm text-slate-500",children:["Telegram ID: ",null!==(r=st.telegram_id)&&void 0!==r?r:"—"]})]}),Vt&&st.telegram_id?A.jsx(Z,{type:"button",variant:"destructive",className:"h-9 px-3 text-sm",onClick:function(){return Kt(!0)},children:"Удалить"}):null]}),A.jsxs("dl",{className:"mt-2 grid grid-cols-1 gap-2 text-sm sm:grid-cols-2",children:[A.jsxs("div",{children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Логин"}),A.jsx("dd",{className:"text-slate-900",children:st.username||"—"})]}),A.jsxs("div",{children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Имя"}),A.jsx("dd",{className:"text-slate-900",children:st.name||"—"})]}),A.jsxs("div",{children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Телефон"}),A.jsx("dd",{className:"text-slate-900",children:st.phone||"—"})]}),A.jsxs("div",{children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Мобильный"}),A.jsx("dd",{className:"text-slate-900",children:st.mobNumber||"—"})]}),A.jsxs("div",{children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Email"}),A.jsx("dd",{className:"text-slate-900",children:st.email||"—"})]}),A.jsxs("div",{children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Роль"}),A.jsx("dd",{className:"text-slate-900",children:ke(st.role)})]}),A.jsxs("div",{children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Доступ"}),A.jsx("dd",{className:"text-slate-900",children:st.access})]}),A.jsxs("div",{children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Роль ID"}),A.jsx("dd",{className:"text-slate-900",children:st.roleId?ke(null!==(n=Hr.get(st.roleId))&&void 0!==n?n:st.roleId):"—"})]}),A.jsxs("div",{children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Департамент"}),A.jsx("dd",{className:"text-slate-900",children:st.departmentId?null!==(a=Dr.get(st.departmentId))&&void 0!==a?a:st.departmentId:"—"})]}),A.jsxs("div",{children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Отдел"}),A.jsx("dd",{className:"text-slate-900",children:st.divisionId?null!==(l=Rr.get(st.divisionId))&&void 0!==l?l:st.divisionId:"—"})]}),A.jsxs("div",{children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Должность"}),A.jsx("dd",{className:"text-slate-900",children:st.positionId?null!==(i=Lr.get(st.positionId))&&void 0!==i?i:st.positionId:"—"})]})]})]}),A.jsx(dn,{form:st,onChange:ot,onSubmit:Mr,onReset:function(){return ot(xn)}})]})}),A.jsx(G,{open:Nt,onClose:function(){return kt(!1)},children:A.jsxs("div",{className:"space-y-4",children:[ua?A.jsxs("article",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 shadow-sm",children:[A.jsxs("header",{className:"flex items-start justify-between gap-3",children:[A.jsxs("div",{children:[A.jsx("h3",{className:"text-base font-semibold",children:"Карточка сотрудника"}),A.jsxs("p",{className:"text-sm text-slate-500",children:["ID: ",null!==(s=ua.telegram_id)&&void 0!==s?s:"—"]})]}),Vt&&ua.telegram_id?A.jsx(Z,{type:"button",variant:"destructive",className:"h-9 px-3 text-sm",onClick:function(){return Pt(!0)},children:"Удалить"}):null]}),A.jsxs("dl",{className:"mt-2 grid grid-cols-1 gap-2 text-sm sm:grid-cols-2",children:[A.jsxs("div",{children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Telegram ID"}),A.jsx("dd",{className:"text-slate-900",children:ua.telegram_id})]}),A.jsxs("div",{children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Логин"}),A.jsx("dd",{className:"text-slate-900",children:ua.username||"—"})]}),A.jsxs("div",{children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Имя"}),A.jsx("dd",{className:"text-slate-900",children:ua.name||"—"})]}),A.jsxs("div",{children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Телефон"}),A.jsx("dd",{className:"text-slate-900",children:ua.phone||"—"})]}),A.jsxs("div",{children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Мобильный"}),A.jsx("dd",{className:"text-slate-900",children:ua.mobNumber||"—"})]}),A.jsxs("div",{children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Email"}),A.jsx("dd",{className:"text-slate-900",children:ua.email||"—"})]}),A.jsxs("div",{children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Роль"}),A.jsx("dd",{className:"text-slate-900",children:ke(ua.role)})]}),A.jsxs("div",{children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Доступ"}),A.jsx("dd",{className:"text-slate-900",children:null!==(o=ua.access)&&void 0!==o?o:"—"})]}),A.jsxs("div",{children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Роль ID"}),A.jsx("dd",{className:"text-slate-900",children:ua.roleId?ke(null!==(c=Hr.get(ua.roleId))&&void 0!==c?c:ua.roleId):"—"})]}),A.jsxs("div",{children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Департамент"}),A.jsx("dd",{className:"text-slate-900",children:ua.departmentId?null!==(u=Dr.get(ua.departmentId))&&void 0!==u?u:ua.departmentId:"—"})]}),A.jsxs("div",{children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Отдел"}),A.jsx("dd",{className:"text-slate-900",children:ua.divisionId?null!==(d=Rr.get(ua.divisionId))&&void 0!==d?d:ua.divisionId:"—"})]}),A.jsxs("div",{children:[A.jsx("dt",{className:"font-medium text-slate-500",children:"Должность"}),A.jsx("dd",{className:"text-slate-900",children:ua.positionId?null!==(m=Lr.get(ua.positionId))&&void 0!==m?m:ua.positionId:"—"})]})]})]}):null,A.jsx(_e,{telegramId:"update"===St?pt:void 0,mode:St,onSaved:function(e){or(),void 0!==e.telegram_id&&(bt(String(e.telegram_id)),_t("update"))}})]})}),A.jsx(Ne,{open:Ut,message:"Удалить пользователя? Это действие нельзя отменить.",onConfirm:Er,onCancel:function(){return Kt(!1)},confirmText:"Удалить"}),A.jsx(Ne,{open:Ht,message:"Удалить сотрудника? Это действие нельзя отменить.",onConfirm:Tr,onCancel:function(){return Pt(!1)},confirmText:"Удалить"}),A.jsx(Xt,{value:"reports",className:"mt-0",children:A.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-900",children:A.jsx(Gr,{})})}),A.jsx(Xt,{value:"archive",className:"mt-0",children:A.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-900",children:A.jsx(Ie,{})})}),A.jsx(Xt,{value:"logs",className:"mt-0",children:A.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-900",children:A.jsx(Ee,{})})}),A.jsx(Xt,{value:"storage",className:"mt-0",children:A.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-900",children:A.jsx(Ae,{})})}),A.jsx(Xt,{value:"health",className:"mt-0",children:A.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-900",children:A.jsx(nn,{})})})]})})});var Ke=D.forwardRef(Ue);function Fe(e,r){var n=e.title,a=e.titleId,l=U(e,t);return D.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":a},l),n?D.createElement("title",{id:a},n):null,D.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))}var He=D.forwardRef(Fe);function Pe(e,t){var n=e.title,a=e.titleId,l=U(e,r);return D.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),n?D.createElement("title",{id:a},n):null,D.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 21h19.5m-18-18v18m10.5-18v18m6-13.5V21M6.75 6.75h.75m-.75 3h.75m-.75 3h.75m3-6h.75m-.75 3h.75m-.75 3h.75M6.75 21v-3.375c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21M3 3h12m-.75 4.5H21m-3.75 3.75h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Zm0 3h.008v.008h-.008v-.008Z"}))}var Ve=D.forwardRef(Pe);function Be(e,t){var r=e.title,a=e.titleId,l=U(e,n);return D.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?D.createElement("title",{id:a},r):null,D.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}var ze=D.forwardRef(Be);function Ze(e,t){var r=e.title,n=e.titleId,l=U(e,a);return D.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},l),r?D.createElement("title",{id:n},r):null,D.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}var qe=D.forwardRef(Ze);function Ge(e,t){var r=e.title,n=e.titleId,a=U(e,l);return D.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?D.createElement("title",{id:n},r):null,D.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 9h3.75M15 12h3.75M15 15h3.75M4.5 19.5h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Zm6-10.125a1.875 1.875 0 1 1-3.75 0 1.875 1.875 0 0 1 3.75 0Zm1.294 6.336a6.721 6.721 0 0 1-3.17.789 6.721 6.721 0 0 1-3.168-.789 3.376 3.376 0 0 1 6.338 0Z"}))}var Je=D.forwardRef(Ge);function Xe(e,t){var r=e.title,n=e.titleId,a=U(e,i);return D.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?D.createElement("title",{id:n},r):null,D.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}var Ye=D.forwardRef(Xe);function Qe(e,t){var r=e.title,n=e.titleId,a=U(e,s);return D.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?D.createElement("title",{id:n},r):null,D.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),D.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}var $e=D.forwardRef(Qe);function et(e,t){var r=e.title,n=e.titleId,a=U(e,o);return D.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?D.createElement("title",{id:n},r):null,D.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25v13.5m-7.5-13.5v13.5"}))}var tt=D.forwardRef(et);function rt(e,t){var r=e.title,n=e.titleId,a=U(e,c);return D.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?D.createElement("title",{id:n},r):null,D.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"}))}var nt=D.forwardRef(rt);function at(e,t){var r=e.title,n=e.titleId,a=U(e,u);return D.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?D.createElement("title",{id:n},r):null,D.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6.878V6a2.25 2.25 0 0 1 2.25-2.25h7.5A2.25 2.25 0 0 1 18 6v.878m-12 0c.235-.083.487-.128.75-.128h10.5c.263 0 .515.045.75.128m-12 0A2.25 2.25 0 0 0 4.5 9v.878m13.5-3A2.25 2.25 0 0 1 19.5 9v.878m0 0a2.246 2.246 0 0 0-.75-.128H5.25c-.263 0-.515.045-.75.128m15 0A2.25 2.25 0 0 1 21 12v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6c0-.98.626-1.813 1.5-2.122"}))}var lt=D.forwardRef(at);function it(e,t){var r=e.title,n=e.titleId,a=U(e,d);return D.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?D.createElement("title",{id:n},r):null,D.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}var st=D.forwardRef(it);function ot(e,t){var r=e.title,n=e.titleId,a=U(e,m);return D.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?D.createElement("title",{id:n},r):null,D.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25V6ZM3.75 15.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18v-2.25ZM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25V6ZM13.5 15.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18v-2.25Z"}))}var ct=D.forwardRef(ot);function ut(e,t){var r=e.title,n=e.titleId,a=U(e,f);return D.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?D.createElement("title",{id:n},r):null,D.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 18.75a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h6m-9 0H3.375a1.125 1.125 0 0 1-1.125-1.125V14.25m17.25 4.5a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m3 0h1.125c.621 0 1.129-.504 1.09-1.124a17.902 17.902 0 0 0-3.213-9.193 2.056 2.056 0 0 0-1.58-.86H14.25M16.5 18.75h-2.25m0-11.177v-.958c0-.568-.422-1.048-.987-1.106a48.554 48.554 0 0 0-10.026 0 1.106 1.106 0 0 0-.987 1.106v7.635m12-6.677v6.677m0 4.5v-4.5m0 0h-12"}))}var dt=D.forwardRef(ut);function mt(e,t){var r=e.title,n=e.titleId,a=U(e,v);return D.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":n},a),r?D.createElement("title",{id:n},r):null,D.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}var ft,vt=D.forwardRef(mt),ht={exports:{}};var xt=function(){if(ft)return ht.exports;ft=1;var e={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Ấ":"A","Ắ":"A","Ẳ":"A","Ẵ":"A","Ặ":"A","Æ":"AE","Ầ":"A","Ằ":"A","Ȃ":"A","Ả":"A","Ạ":"A","Ẩ":"A","Ẫ":"A","Ậ":"A","Ç":"C","Ḉ":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ế":"E","Ḗ":"E","Ề":"E","Ḕ":"E","Ḝ":"E","Ȇ":"E","Ẻ":"E","Ẽ":"E","Ẹ":"E","Ể":"E","Ễ":"E","Ệ":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ḯ":"I","Ȋ":"I","Ỉ":"I","Ị":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","Ố":"O","Ṍ":"O","Ṓ":"O","Ȏ":"O","Ỏ":"O","Ọ":"O","Ổ":"O","Ỗ":"O","Ộ":"O","Ờ":"O","Ở":"O","Ỡ":"O","Ớ":"O","Ợ":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ủ":"U","Ụ":"U","Ử":"U","Ữ":"U","Ự":"U","Ý":"Y","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","ấ":"a","ắ":"a","ẳ":"a","ẵ":"a","ặ":"a","æ":"ae","ầ":"a","ằ":"a","ȃ":"a","ả":"a","ạ":"a","ẩ":"a","ẫ":"a","ậ":"a","ç":"c","ḉ":"c","è":"e","é":"e","ê":"e","ë":"e","ế":"e","ḗ":"e","ề":"e","ḕ":"e","ḝ":"e","ȇ":"e","ẻ":"e","ẽ":"e","ẹ":"e","ể":"e","ễ":"e","ệ":"e","ì":"i","í":"i","î":"i","ï":"i","ḯ":"i","ȋ":"i","ỉ":"i","ị":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ố":"o","ṍ":"o","ṓ":"o","ȏ":"o","ỏ":"o","ọ":"o","ổ":"o","ỗ":"o","ộ":"o","ờ":"o","ở":"o","ỡ":"o","ớ":"o","ợ":"o","ù":"u","ú":"u","û":"u","ü":"u","ủ":"u","ụ":"u","ử":"u","ữ":"u","ự":"u","ý":"y","ÿ":"y","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Ĉ":"C","ĉ":"c","Ċ":"C","ċ":"c","Č":"C","č":"c","C̆":"C","c̆":"c","Ď":"D","ď":"d","Đ":"D","đ":"d","Ē":"E","ē":"e","Ĕ":"E","ĕ":"e","Ė":"E","ė":"e","Ę":"E","ę":"e","Ě":"E","ě":"e","Ĝ":"G","Ǵ":"G","ĝ":"g","ǵ":"g","Ğ":"G","ğ":"g","Ġ":"G","ġ":"g","Ģ":"G","ģ":"g","Ĥ":"H","ĥ":"h","Ħ":"H","ħ":"h","Ḫ":"H","ḫ":"h","Ĩ":"I","ĩ":"i","Ī":"I","ī":"i","Ĭ":"I","ĭ":"i","Į":"I","į":"i","İ":"I","ı":"i","Ĳ":"IJ","ĳ":"ij","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","Ḱ":"K","ḱ":"k","K̆":"K","k̆":"k","Ĺ":"L","ĺ":"l","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ŀ":"L","ŀ":"l","Ł":"l","ł":"l","Ḿ":"M","ḿ":"m","M̆":"M","m̆":"m","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","ŉ":"n","N̆":"N","n̆":"n","Ō":"O","ō":"o","Ŏ":"O","ŏ":"o","Ő":"O","ő":"o","Œ":"OE","œ":"oe","P̆":"P","p̆":"p","Ŕ":"R","ŕ":"r","Ŗ":"R","ŗ":"r","Ř":"R","ř":"r","R̆":"R","r̆":"r","Ȓ":"R","ȓ":"r","Ś":"S","ś":"s","Ŝ":"S","ŝ":"s","Ş":"S","Ș":"S","ș":"s","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","ț":"t","Ț":"T","Ť":"T","ť":"t","Ŧ":"T","ŧ":"t","T̆":"T","t̆":"t","Ũ":"U","ũ":"u","Ū":"U","ū":"u","Ŭ":"U","ŭ":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ȗ":"U","ȗ":"u","V̆":"V","v̆":"v","Ŵ":"W","ŵ":"w","Ẃ":"W","ẃ":"w","X̆":"X","x̆":"x","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Y̆":"Y","y̆":"y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","ſ":"s","ƒ":"f","Ơ":"O","ơ":"o","Ư":"U","ư":"u","Ǎ":"A","ǎ":"a","Ǐ":"I","ǐ":"i","Ǒ":"O","ǒ":"o","Ǔ":"U","ǔ":"u","Ǖ":"U","ǖ":"u","Ǘ":"U","ǘ":"u","Ǚ":"U","ǚ":"u","Ǜ":"U","ǜ":"u","Ứ":"U","ứ":"u","Ṹ":"U","ṹ":"u","Ǻ":"A","ǻ":"a","Ǽ":"AE","ǽ":"ae","Ǿ":"O","ǿ":"o","Þ":"TH","þ":"th","Ṕ":"P","ṕ":"p","Ṥ":"S","ṥ":"s","X́":"X","x́":"x","Ѓ":"Г","ѓ":"г","Ќ":"К","ќ":"к","A̋":"A","a̋":"a","E̋":"E","e̋":"e","I̋":"I","i̋":"i","Ǹ":"N","ǹ":"n","Ồ":"O","ồ":"o","Ṑ":"O","ṑ":"o","Ừ":"U","ừ":"u","Ẁ":"W","ẁ":"w","Ỳ":"Y","ỳ":"y","Ȁ":"A","ȁ":"a","Ȅ":"E","ȅ":"e","Ȉ":"I","ȉ":"i","Ȍ":"O","ȍ":"o","Ȑ":"R","ȑ":"r","Ȕ":"U","ȕ":"u","B̌":"B","b̌":"b","Č̣":"C","č̣":"c","Ê̌":"E","ê̌":"e","F̌":"F","f̌":"f","Ǧ":"G","ǧ":"g","Ȟ":"H","ȟ":"h","J̌":"J","ǰ":"j","Ǩ":"K","ǩ":"k","M̌":"M","m̌":"m","P̌":"P","p̌":"p","Q̌":"Q","q̌":"q","Ř̩":"R","ř̩":"r","Ṧ":"S","ṧ":"s","V̌":"V","v̌":"v","W̌":"W","w̌":"w","X̌":"X","x̌":"x","Y̌":"Y","y̌":"y","A̧":"A","a̧":"a","B̧":"B","b̧":"b","Ḑ":"D","ḑ":"d","Ȩ":"E","ȩ":"e","Ɛ̧":"E","ɛ̧":"e","Ḩ":"H","ḩ":"h","I̧":"I","i̧":"i","Ɨ̧":"I","ɨ̧":"i","M̧":"M","m̧":"m","O̧":"O","o̧":"o","Q̧":"Q","q̧":"q","U̧":"U","u̧":"u","X̧":"X","x̧":"x","Z̧":"Z","z̧":"z","й":"и","Й":"И","ё":"е","Ё":"Е"},t=Object.keys(e).join("|"),r=new RegExp(t,"g"),n=new RegExp(t,"");function a(t){return e[t]}var l=function(e){return e.replace(r,a)};return ht.exports=l,ht.exports.has=function(e){return!!e.match(n)},ht.exports.remove=l,ht.exports}(),pt=K(xt),gt={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0},bt=function(e,t){return String(e.rankedValue).localeCompare(String(t.rankedValue))};function yt(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.keys,a=r.threshold,l=void 0===a?gt.MATCHES:a,i=r.baseSort,s=void 0===i?bt:i,o=r.sorter,c=void 0===o?function(e){return e.sort(function(e,t){return function(e,t,r){var n=-1,a=1,l=e.rank,i=e.keyIndex,s=t.rank,o=t.keyIndex;return l===s?i===o?r(e,t):i<o?n:a:l>s?n:a}(e,t,s)})}:o,u=e.reduce(function(e,a,i){var s=function(e,t,r,n){if(!t){return{rankedValue:e,rank:Nt(e,r,n),keyIndex:-1,keyThreshold:n.threshold}}var a=function(e,t){for(var r=[],n=0,a=t.length;n<a;n++)for(var l=t[n],i=_t(l),s=wt(e,l),o=0,c=s.length;o<c;o++)r.push({itemValue:s[o],attributes:i});return r}(e,t);return a.reduce(function(e,t,a){var l=e.rank,i=e.rankedValue,s=e.keyIndex,o=e.keyThreshold,c=t.itemValue,u=t.attributes,d=Nt(c,r,n),m=i,f=u.minRanking,v=u.maxRanking,h=u.threshold;return d<f&&d>=gt.MATCHES?d=f:d>v&&(d=v),d>l&&(l=d,s=a,o=h,m=c),{rankedValue:m,rank:l,keyIndex:s,keyThreshold:o}},{rankedValue:e,rank:gt.NO_MATCH,keyIndex:-1,keyThreshold:n.threshold})}(a,n,t,r),o=s.rank,c=s.keyThreshold;o>=(void 0===c?l:c)&&e.push(R(R({},s),{},{item:a,index:i}));return e},[]);return c(u).map(function(e){return e.item})}function jt(e,t){var r;return O().w(function(n){for(;;)switch(n.n){case 0:r=-1;case 1:if(!((r=e.indexOf(t,r+1))>-1)){n.n=3;break}return n.n=2,r;case 2:n.n=1;break;case 3:return n.a(2,-1)}},Le)}function Nt(e,t,r){if(e=kt(e,r),(t=kt(t,r)).length>e.length)return gt.NO_MATCH;if(e===t)return gt.CASE_SENSITIVE_EQUAL;var n=jt(e=e.toLowerCase(),t=t.toLowerCase()),a=n.next(),l=a.value;if(e.length===t.length&&0===l)return gt.EQUAL;if(0===l)return gt.STARTS_WITH;for(var i=a;!i.done;){if(i.value>0&&" "===e[i.value-1])return gt.WORD_STARTS_WITH;i=n.next()}return l>0?gt.CONTAINS:1===t.length?gt.NO_MATCH:function(e){for(var t="",r=" ",n=0;n<e.length;n++){var a=e.charAt(n);(" "===r||"-"===r)&&!(" "===a||"-"===a)&&(t+=a),r=a}return t}(e).includes(t)?gt.ACRONYM:function(e,t){var r=0,n=0;function a(e,t,n){for(var a=n,l=t.length;a<l;a++){if(t[a]===e)return r+=1,a+1}return-1}function l(e){var n=1/e,a=r/t.length;return gt.MATCHES+a*n}var i=a(t[0],e,0);if(i<0)return gt.NO_MATCH;n=i;for(var s=1,o=t.length;s<o;s++){if(!((n=a(t[s],e,n))>-1))return gt.NO_MATCH}return l(n-i)}(e,t)}function kt(e,t){var r=t.keepDiacritics;return e="".concat(e),r||(e=pt(e)),e}function wt(e,t){var r;if("object"===W(t)&&(t=t.key),"function"==typeof t)r=t(e);else if(null==e)r=null;else if(Object.hasOwnProperty.call(e,t))r=e[t];else{if(t.includes("."))return function(e,t){for(var r=e.split("."),n=[t],a=0,l=r.length;a<l;a++){for(var i=r[a],s=[],o=0,c=n.length;o<c;o++){var u=n[o];if(null!=u)if(Object.hasOwnProperty.call(u,i)){var d=u[i];null!=d&&s.push(d)}else"*"===i&&(s=s.concat(u))}n=s}if(Array.isArray(n[0])){var m=[];return m.concat.apply(m,E(n))}return n}(t,e);r=null}return null==r?[]:Array.isArray(r)?r:[String(r)]}yt.rankings=gt;var St={maxRanking:1/0,minRanking:-1/0};function _t(e){return"string"==typeof e?St:R(R({},St),e)}var Ct="Tabs",It=I(re(Ct,[le]),2),Et=It[0],Tt=(It[1],le()),At=I(Et(Ct),2),Wt=At[0],Ot=At[1],Mt=D.forwardRef(function(e,t){var r=e.__scopeTabs,n=e.value,a=e.onValueChange,l=e.defaultValue,i=e.orientation,s=void 0===i?"horizontal":i,o=e.dir,c=e.activationMode,u=void 0===c?"automatic":c,d=U(e,h),m=ee(o),f=I(te({prop:n,onChange:a,defaultProp:null!=l?l:"",caller:Ct}),2),v=f[0],x=f[1];return A.jsx(Wt,{scope:r,baseId:ne(),value:v,onValueChange:x,orientation:s,dir:m,activationMode:u,children:A.jsx(ae.div,R(R({dir:m,"data-orientation":s},d),{},{ref:t}))})});Mt.displayName=Ct;var Dt="TabsList",Rt=D.forwardRef(function(e,t){var r=e.__scopeTabs,n=e.loop,a=void 0===n||n,l=U(e,x),i=Ot(Dt,r),s=Tt(r);return A.jsx(ie,R(R({asChild:!0},s),{},{orientation:i.orientation,dir:i.dir,loop:a,children:A.jsx(ae.div,R(R({role:"tablist","aria-orientation":i.orientation},l),{},{ref:t}))}))});Rt.displayName=Dt;var Lt="TabsTrigger",Ut=D.forwardRef(function(e,t){var r=e.__scopeTabs,n=e.value,a=e.disabled,l=void 0!==a&&a,i=U(e,p),s=Ot(Lt,r),o=Tt(r),c=Ht(s.baseId,n),u=Pt(s.baseId,n),d=n===s.value;return A.jsx(se,R(R({asChild:!0},o),{},{focusable:!l,active:d,children:A.jsx(ae.button,R(R({type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:c},i),{},{ref:t,onMouseDown:oe(e.onMouseDown,function(e){l||0!==e.button||!1!==e.ctrlKey?e.preventDefault():s.onValueChange(n)}),onKeyDown:oe(e.onKeyDown,function(e){[" ","Enter"].includes(e.key)&&s.onValueChange(n)}),onFocus:oe(e.onFocus,function(){var e="manual"!==s.activationMode;d||l||!e||s.onValueChange(n)})}))}))});Ut.displayName=Lt;var Kt="TabsContent",Ft=D.forwardRef(function(e,t){var r=e.__scopeTabs,n=e.value,a=e.forceMount,l=e.children,i=U(e,g),s=Ot(Kt,r),o=Ht(s.baseId,n),c=Pt(s.baseId,n),u=n===s.value,d=D.useRef(u);return D.useEffect(function(){var e=requestAnimationFrame(function(){return d.current=!1});return function(){return cancelAnimationFrame(e)}},[]),A.jsx(ce,{present:a||u,children:function(r){var n=r.present;return A.jsx(ae.div,R(R({"data-state":u?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":o,hidden:!n,id:c,tabIndex:0},i),{},{ref:t,style:R(R({},e.style),{},{animationDuration:d.current?"0s":void 0}),children:n&&l}))}})});function Ht(e,t){return"".concat(e,"-trigger-").concat(t)}function Pt(e,t){return"".concat(e,"-content-").concat(t)}Ft.displayName=Kt;var Vt=Mt,Bt=Rt,zt=Ut,Zt=Ft;function qt(e){var t=e.className,r=U(e,b);return A.jsx(Vt,R({"data-slot":"tabs",className:z("flex flex-col gap-2",t)},r))}function Gt(e){var t=e.className,r=U(e,y);return A.jsx(Bt,R({"data-slot":"tabs-list",className:z("bg-muted text-muted-foreground inline-flex h-9 w-full max-w-full items-center justify-start overflow-x-auto rounded-lg p-[3px]",t)},r))}function Jt(e){var t=e.className,r=U(e,j);return A.jsx(zt,R({"data-slot":"tabs-trigger",className:z("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] shrink-0 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t)},r))}function Xt(e){var t=e.className,r=U(e,N);return A.jsx(Zt,R({"data-slot":"tabs-content",className:z("flex-1 outline-none",t)},r))}function Yt(e){var t=e.breadcrumbs,r=e.title,n=e.description,a=e.toolbar,l=e.children,i=e.className;return A.jsxs("section",{className:z("flex flex-col gap-3 rounded-3xl border border-[color:var(--color-gray-200)]","bg-[color:var(--color-gray-25)] p-4 shadow-[var(--shadow-theme-sm)] sm:p-6","dark:border-[color:var(--color-gray-700)] dark:bg-[color:var(--color-gray-dark)]",i),children:[t?A.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-[color:var(--color-gray-500)] dark:text-[color:var(--color-gray-300)]",children:t}):null,r||n||a?A.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[A.jsxs("div",{className:"min-w-0 space-y-1",children:[r?A.jsx("h1",{className:"text-lg font-semibold text-[color:var(--color-gray-900)] dark:text-white sm:text-xl",children:r}):null,n?A.jsx("p",{className:"text-sm text-[color:var(--color-gray-600)] dark:text-[color:var(--color-gray-300)]",children:n}):null]}),a?A.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2",children:a}):null]}):null,l?A.jsx("div",{className:"space-y-3 sm:space-y-4",children:l}):null]})}function Qt(e){var t=e.value,r=e.displayValue,n=e.copyHint,a=e.copiedHint,l=e.onCopy,i=e.className,s=e.disabled,o=U(e,k),c=I(F.useState(!1),2),u=c[0],d=c[1],m=F.useRef(),f=null!=r?r:t,v=null!=n?n:"Copy",h=null!=a?a:"Copied";F.useEffect(function(){return function(){m.current&&window.clearTimeout(m.current)}},[]),F.useEffect(function(){if(u)return m.current=window.setTimeout(function(){return d(!1)},1600),function(){m.current&&window.clearTimeout(m.current)}},[u]);var x=function(){var e=C(O().m(function e(){var r;return O().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t&&!s){e.n=1;break}return e.a(2);case 1:return r=function(){var e=C(O().m(function e(){var r,n,a;return O().w(function(e){for(;;)switch(e.p=e.n){case 0:if("undefined"==typeof navigator||null===(r=navigator.clipboard)||void 0===r||!r.writeText){e.n=2;break}return e.n=1,navigator.clipboard.writeText(t);case 1:return e.a(2,!0);case 2:if("undefined"!=typeof document){e.n=3;break}return e.a(2,!1);case 3:return(n=document.createElement("textarea")).value=t,n.setAttribute("readonly",""),n.style.position="absolute",n.style.left="-9999px",document.body.appendChild(n),n.select(),e.p=4,a=document.execCommand("copy"),e.a(2,a);case 5:return e.p=5,e.v,e.a(2,!1);case 6:return e.p=6,document.body.removeChild(n),e.f(6);case 7:return e.a(2)}},e,null,[[4,5,6,7]])}));return function(){return e.apply(this,arguments)}}(),e.p=2,e.n=3,r();case 3:e.v&&d(!0);case 4:return e.p=4,null==l||l({value:t}),e.f(4);case 5:return e.a(2)}},e,null,[[2,,4,5]])}));return function(){return e.apply(this,arguments)}}();return A.jsxs("button",R(R({type:"button",className:z("inline-flex items-center gap-1.5 rounded-full border border-[color:var(--color-gray-300)]","bg-[color:var(--color-gray-25)] px-3 py-1 text-[11px] font-semibold tracking-wide text-[color:var(--color-gray-700)]","transition-colors duration-150 ease-out hover:border-[color:var(--color-brand-400)] hover:bg-[color:var(--color-brand-50)]","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--color-brand-500)] focus-visible:ring-offset-2","disabled:cursor-not-allowed disabled:border-[color:var(--color-gray-200)] disabled:text-[color:var(--color-gray-400)]","dark:border-[color:var(--color-gray-700)] dark:bg-[color:var(--color-gray-dark)] dark:text-[color:var(--color-gray-100)]","dark:hover:border-[color:var(--color-brand-400)] dark:hover:bg-[color:var(--color-gray-800)]",i),onClick:x,title:u?h:v,"aria-pressed":u,"aria-live":"polite",disabled:s},o),{},{children:[A.jsxs("span",{className:"inline-flex items-center gap-1",children:[u?A.jsx(ze,{className:"h-4 w-4 text-[color:var(--color-brand-500)] dark:text-[color:var(--color-brand-400)]","aria-hidden":"true"}):A.jsx(qe,{className:"h-4 w-4 text-[color:var(--color-gray-500)] dark:text-[color:var(--color-gray-300)]","aria-hidden":"true"}),A.jsx("span",{className:"truncate text-left",children:f})]}),A.jsx("span",{className:"sr-only",children:u?h:v})]}))}function $t(e){var t=e.form,r=e.onChange,n=e.onSubmit,a=e.onDelete,l=e.onReset,i=e.valueLabel,s=void 0===i?"Значение":i,o=e.renderValueField,c=e.readonly,u=void 0!==c&&c,d=e.readonlyNotice,m=I(F.useState(!1),2),f=m[0],v=m[1],h=I(F.useState(!1),2),x=h[0],p=h[1];return A.jsxs("form",{onSubmit:function(e){e.preventDefault(),u||p(!0)},className:"space-y-2",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium",children:"Имя"}),A.jsx("input",{id:"collection-form-name",name:"collectionName",className:"h-10 w-full rounded border px-3",value:t.name,onChange:function(e){return r(R(R({},t),{},{name:e.target.value}))},required:!0,disabled:u})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium",children:s}),o?o(t,u?function(){}:r,{readonly:u}):A.jsx("input",{id:"collection-form-value",name:"collectionValue",className:"h-10 w-full rounded border px-3",value:t.value,onChange:function(e){return r(R(R({},t),{},{value:e.target.value}))},required:!0,disabled:u})]}),u?A.jsx("p",{className:"rounded border border-amber-200 bg-amber-50 p-2 text-sm text-amber-900",children:null!=d?d:"Элемент доступен только для чтения."}):null,A.jsxs("div",{className:"flex gap-2",children:[A.jsx(Z,{type:"submit",disabled:u,children:"Сохранить"}),t._id?A.jsx(Z,{type:"button",variant:"destructive",disabled:u,onClick:function(){u||v(!0)},children:"Удалить"}):A.jsx(Z,{type:"button",variant:"outline",onClick:l,disabled:u,children:"Очистить"})]}),A.jsx(Ne,{open:x,message:"Сохранить изменения?",onConfirm:function(){p(!1),n()},onCancel:function(){return p(!1)},confirmText:"Сохранить"}),A.jsx(Ne,{open:f,message:"Удалить элемент?",onConfirm:function(){v(!1),a()},onCancel:function(){return v(!1)}})]})}var er=new Map,tr=function(e,t,r){return"".concat(e,"::").concat(t,"::").concat(r)};function rr(e,t){return e.ok?e.json():e.text().then(function(e){throw new Error(e||t)})}function nr(){return ar.apply(this,arguments)}function ar(){return ar=C(O().m(function e(){var t,r,n,a,l,i,s,o,c=arguments;return O().w(function(e){for(;;)switch(e.n){case 0:if(a=tr(t=c.length>0&&void 0!==c[0]?c[0]:"",r=c.length>1&&void 0!==c[1]?c[1]:1,n=c.length>2&&void 0!==c[2]?c[2]:10),!(l=er.get(a))){e.n=1;break}return e.a(2,l.promise);case 1:return er.size>0&&er.forEach(function(e,t){t!==a&&(e.controller.abort(),er.delete(t))}),i=new AbortController,(s=new URLSearchParams).set("page",String(r)),s.set("limit",String(n)),t&&s.set("search",t),o=q("/api/v1/fleets?".concat(s.toString()),{signal:i.signal}).then(function(e){return rr(e,"Не удалось загрузить транспорт")}).finally(function(){var e=er.get(a);(null==e?void 0:e.controller)===i&&er.delete(a)}),er.set(a,{controller:i,promise:o}),e.a(2,o)}},e)})),ar.apply(this,arguments)}function lr(e){return ir.apply(this,arguments)}function ir(){return(ir=C(O().m(function e(t){var r;return O().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,q("/api/v1/fleets",{method:"POST",confirmed:!0,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 1:return r=e.v,e.a(2,rr(r,"Не удалось создать транспорт"))}},e)}))).apply(this,arguments)}function sr(e,t){return or.apply(this,arguments)}function or(){return(or=C(O().m(function e(t,r){var n;return O().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,q("/api/v1/fleets/".concat(t),{method:"PUT",confirmed:!0,headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});case 1:return n=e.v,e.a(2,rr(n,"Не удалось обновить транспорт"))}},e)}))).apply(this,arguments)}function cr(e){return ur.apply(this,arguments)}function ur(){return(ur=C(O().m(function e(t){var r,n;return O().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,q("/api/v1/fleets/".concat(t),{method:"DELETE",confirmed:!0});case 1:if((r=e.v).ok){e.n=3;break}return e.n=2,r.text().catch(function(){return""});case 2:throw n=e.v,new Error(n||"Не удалось удалить транспорт");case 3:return e.a(2)}},e)}))).apply(this,arguments)}var dr={name:"",registrationNumber:"",odometerInitial:"0",odometerCurrent:"0",mileageTotal:"0",transportType:"Легковой",fuelType:"Бензин",fuelRefilled:"0",fuelAverageConsumption:"0",fuelSpentTotal:"0",currentTasks:""},mr=function(e){return e.split(/[\n,]/).map(function(e){return e.trim()}).filter(Boolean)};function fr(e){var t=e.open,r=e.mode,n=e.vehicle,a=e.saving,l=e.onSubmit,i=e.onDelete,s=e.onClose,o=I(D.useState(dr),2),c=o[0],u=o[1],d=I(D.useState(null),2),m=d[0],f=d[1],v=I(D.useState(!1),2),h=v[0],x=v[1],p=I(D.useState(!1),2),g=p[0],b=p[1];D.useEffect(function(){if(t&&n){var e=Array.isArray(n.currentTasks)?n.currentTasks.filter(Boolean):[];return u({name:n.name,registrationNumber:n.registrationNumber,odometerInitial:String(n.odometerInitial),odometerCurrent:String(n.odometerCurrent),mileageTotal:String(n.mileageTotal),transportType:n.transportType,fuelType:n.fuelType,fuelRefilled:String(n.fuelRefilled),fuelAverageConsumption:String(n.fuelAverageConsumption),fuelSpentTotal:String(n.fuelSpentTotal),currentTasks:e.join("\n")}),f(null),x(!1),void b(!1)}t&&"create"===r&&(u(dr),f(null),x(!1),b(!1)),t||(u(dr),f(null),x(!1),b(!1))},[t,r,n]);var y="update"===r&&n,j=D.useMemo(function(){return{name:c.name.trim(),registrationNumber:c.registrationNumber.trim().toUpperCase(),odometerInitial:Number(c.odometerInitial||"0"),odometerCurrent:Number(c.odometerCurrent||"0"),mileageTotal:Number(c.mileageTotal||"0"),transportType:c.transportType,fuelType:c.fuelType,fuelRefilled:Number(c.fuelRefilled||"0"),fuelAverageConsumption:Number(c.fuelAverageConsumption||"0"),fuelSpentTotal:Number(c.fuelSpentTotal||"0"),currentTasks:mr(c.currentTasks)}},[c]),N=function(){var e=C(O().m(function e(){var t,r;return O().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,l(j,null==n?void 0:n.id);case 1:x(!1),s(),e.n=3;break;case 2:e.p=2,r=e.v,t=r instanceof Error?r.message:"Не удалось сохранить транспорт",f(t),x(!1);case 3:return e.a(2)}},e,null,[[0,2]])}));return function(){return e.apply(this,arguments)}}(),k=function(){var e=C(O().m(function e(){var t,r;return O().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n&&i){e.n=1;break}return e.a(2);case 1:return e.p=1,e.n=2,i(n.id);case 2:b(!1),s(),e.n=4;break;case 3:e.p=3,r=e.v,t=r instanceof Error?r.message:"Не удалось удалить транспорт",f(t),b(!1);case 4:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}();return A.jsxs("form",{onSubmit:function(e){e.preventDefault(),c.name.trim()?/^[A-Z\u0404\u0406\u0407\u0410-\u042F]{2} [0-9]{4} [A-Z\u0404\u0406\u0407\u0410-\u042F]{2}$/.test(j.registrationNumber)?(f(null),x(!0)):f("Регистрационный номер должен быть в формате XX 0000 XX"):f("Название обязательно")},className:"space-y-3",children:[A.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[A.jsxs("label",{className:"flex flex-col gap-1",children:[A.jsx("span",{className:"text-sm font-medium",children:"Название"}),A.jsx("input",{id:"fleet-vehicle-name",name:"name",className:"h-10 w-full rounded border px-3",value:c.name,onChange:function(e){return u(function(t){return R(R({},t),{},{name:e.target.value})})},disabled:a,required:!0})]}),A.jsxs("label",{className:"flex flex-col gap-1",children:[A.jsx("span",{className:"text-sm font-medium",children:"Регистрационный номер"}),A.jsx("input",{id:"fleet-vehicle-registration",name:"registrationNumber",className:"h-10 w-full rounded border px-3 uppercase",value:c.registrationNumber,onChange:function(e){return u(function(t){return R(R({},t),{},{registrationNumber:e.target.value})})},disabled:a,required:!0,placeholder:"AA 1234 BB"})]}),A.jsxs("label",{className:"flex flex-col gap-1",children:[A.jsx("span",{className:"text-sm font-medium",children:"Тип транспорта"}),A.jsxs("select",{id:"fleet-vehicle-transport-type",name:"transportType",className:"h-10 w-full rounded border px-3",value:c.transportType,onChange:function(e){return u(function(t){return R(R({},t),{},{transportType:e.target.value})})},disabled:a,required:!0,children:[A.jsx("option",{value:"Легковой",children:"Легковой"}),A.jsx("option",{value:"Грузовой",children:"Грузовой"})]})]}),A.jsxs("label",{className:"flex flex-col gap-1",children:[A.jsx("span",{className:"text-sm font-medium",children:"Одометр начальный, км"}),A.jsx("input",{type:"number",min:"0",id:"fleet-vehicle-odometer-initial",name:"odometerInitial",className:"h-10 w-full rounded border px-3",value:c.odometerInitial,onChange:function(e){return u(function(t){return R(R({},t),{},{odometerInitial:e.target.value})})},disabled:a,required:!0})]}),A.jsxs("label",{className:"flex flex-col gap-1",children:[A.jsx("span",{className:"text-sm font-medium",children:"Одометр текущий, км"}),A.jsx("input",{type:"number",min:"0",id:"fleet-vehicle-odometer-current",name:"odometerCurrent",className:"h-10 w-full rounded border px-3",value:c.odometerCurrent,onChange:function(e){return u(function(t){return R(R({},t),{},{odometerCurrent:e.target.value})})},disabled:a,required:!0})]}),A.jsxs("label",{className:"flex flex-col gap-1",children:[A.jsx("span",{className:"text-sm font-medium",children:"Пробег общий, км"}),A.jsx("input",{type:"number",min:"0",id:"fleet-vehicle-mileage-total",name:"mileageTotal",className:"h-10 w-full rounded border px-3",value:c.mileageTotal,onChange:function(e){return u(function(t){return R(R({},t),{},{mileageTotal:e.target.value})})},disabled:a,required:!0})]}),A.jsxs("label",{className:"flex flex-col gap-1",children:[A.jsx("span",{className:"text-sm font-medium",children:"Вид топлива"}),A.jsxs("select",{id:"fleet-vehicle-fuel-type",name:"fuelType",className:"h-10 w-full rounded border px-3",value:c.fuelType,onChange:function(e){return u(function(t){return R(R({},t),{},{fuelType:e.target.value})})},disabled:a,children:[A.jsx("option",{value:"Бензин",children:"Бензин"}),A.jsx("option",{value:"Дизель",children:"Дизель"}),A.jsx("option",{value:"Газ",children:"Газ"})]})]}),A.jsxs("label",{className:"flex flex-col gap-1",children:[A.jsx("span",{className:"text-sm font-medium",children:"Топлива заправлено"}),A.jsx("input",{type:"number",min:"0",id:"fleet-vehicle-fuel-refilled",name:"fuelRefilled",className:"h-10 w-full rounded border px-3",value:c.fuelRefilled,onChange:function(e){return u(function(t){return R(R({},t),{},{fuelRefilled:e.target.value})})},disabled:a,required:!0})]}),A.jsxs("label",{className:"flex flex-col gap-1",children:[A.jsx("span",{className:"text-sm font-medium",children:"Расход средний, л/км"}),A.jsx("input",{type:"number",min:"0",step:"0.01",id:"fleet-vehicle-fuel-average",name:"fuelAverageConsumption",className:"h-10 w-full rounded border px-3",value:c.fuelAverageConsumption,onChange:function(e){return u(function(t){return R(R({},t),{},{fuelAverageConsumption:e.target.value})})},disabled:a,required:!0})]}),A.jsxs("label",{className:"flex flex-col gap-1",children:[A.jsx("span",{className:"text-sm font-medium",children:"Затрачено топлива всего, л"}),A.jsx("input",{type:"number",min:"0",id:"fleet-vehicle-fuel-spent",name:"fuelSpentTotal",className:"h-10 w-full rounded border px-3",value:c.fuelSpentTotal,onChange:function(e){return u(function(t){return R(R({},t),{},{fuelSpentTotal:e.target.value})})},disabled:a,required:!0})]})]}),A.jsxs("label",{className:"flex flex-col gap-1",children:[A.jsx("span",{className:"text-sm font-medium",children:"Текущие задачи (ID через запятую или перенос строки)"}),A.jsx("textarea",{id:"fleet-vehicle-current-tasks",name:"currentTasks",className:"min-h-[5rem] w-full rounded border px-3 py-2",value:c.currentTasks,onChange:function(e){return u(function(t){return R(R({},t),{},{currentTasks:e.target.value})})},disabled:a})]}),m?A.jsx("p",{className:"text-sm text-red-600",children:m}):null,A.jsxs("div",{className:"flex flex-wrap gap-2",children:[A.jsx(Z,{type:"submit",disabled:a,children:"Сохранить"}),A.jsx(Z,{type:"button",variant:"outline",onClick:s,disabled:a,children:"Отмена"}),y&&i?A.jsx(Z,{type:"button",variant:"destructive",onClick:function(){return b(!0)},disabled:a,children:"Удалить"}):null]}),A.jsx(Ne,{open:h,message:"Сохранить транспорт?",confirmText:"Сохранить",onConfirm:N,onCancel:function(){return x(!1)}}),A.jsx(Ne,{open:g,message:"Удалить транспорт?",confirmText:"Удалить",status:"danger",onConfirm:k,onCancel:function(){return b(!1)}})]})}var vr=function(e){if(null==e)return"";if(Array.isArray(e))return e.length?e.join(", "):"";if("object"===W(e))try{return JSON.stringify(e)}catch(t){return String(e)}return String(e)},hr=[{accessorKey:"name",header:"Название",meta:{minWidth:"8rem",maxWidth:"16rem"}},{accessorKey:"registrationNumber",header:"Рег. номер",meta:{minWidth:"8rem",maxWidth:"16rem"}},{accessorKey:"odometerInitial",header:"Одометр начальный",meta:{minWidth:"8rem",maxWidth:"14rem"}},{accessorKey:"odometerCurrent",header:"Одометр текущий",meta:{minWidth:"8rem",maxWidth:"14rem"}},{accessorKey:"mileageTotal",header:"Пробег",meta:{minWidth:"6rem",maxWidth:"12rem"}},{accessorKey:"transportType",header:"Тип транспорта",meta:{minWidth:"8rem",maxWidth:"14rem"}},{accessorKey:"fuelType",header:"Тип топлива",meta:{minWidth:"6rem",maxWidth:"12rem"}},{accessorKey:"fuelRefilled",header:"Заправлено",meta:{minWidth:"6rem",maxWidth:"10rem"}},{accessorKey:"fuelAverageConsumption",header:"Расход",meta:{minWidth:"6rem",maxWidth:"10rem"}},{accessorKey:"fuelSpentTotal",header:"Израсходовано",meta:{minWidth:"6rem",maxWidth:"10rem"}},{accessorKey:"currentTasks",header:"Текущие задачи",cell:function(e){var t=e.getValue;return vr(t())},meta:{minWidth:"10rem",maxWidth:"24rem"}},{accessorKey:"transportHistoryInfo",header:"История задач",cell:function(e){var t=e.getValue;return vr(t())},meta:{minWidth:"12rem",maxWidth:"28rem"}},{accessorKey:"createdAt",header:"Создан",meta:{minWidth:"10rem",maxWidth:"16rem"}},{accessorKey:"updatedAt",header:"Обновлён",meta:{minWidth:"10rem",maxWidth:"16rem"}},{accessorKey:"unitId",header:"Устройство",meta:{minWidth:"8rem",maxWidth:"12rem"}},{accessorKey:"remoteName",header:"Удалённое имя",meta:{minWidth:"8rem",maxWidth:"16rem"}},{accessorKey:"notes",header:"Примечания",meta:{minWidth:"10rem",maxWidth:"20rem"}}],xr="Нет данных",pr=["inline-flex min-h-[1.65rem] min-w-0 max-w-full items-center justify-start gap-1","rounded-full px-2.5 py-0.5 text-[0.72rem] font-semibold leading-tight text-slate-900","ring-1 ring-slate-300/80 bg-slate-100/95 shadow-xs","dark:text-slate-100 dark:ring-slate-600/60 dark:bg-slate-800/80","truncate"].join(" "),gr="".concat(pr),br="flex flex-wrap items-center gap-1.5",yr=10,jr=new Intl.DateTimeFormat("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),Nr=function(e){if(!e)return"";var t=new Date(e);return Number.isNaN(t.getTime())?"":jr.format(t)},kr=function(e){var t=Nr(e.assignedAt),r=Nr(e.removedAt),n=e.taskTitle&&e.taskTitle.trim().length?e.taskTitle.trim():e.taskId;return t&&r?"".concat(t," — ").concat(n," (до ").concat(r,")"):t?"".concat(t," — ").concat(n):r?"".concat(n," (до ").concat(r,")"):n},wr=function(e){return null!=e&&e.length?e.map(kr).join("; "):""},Sr=[{id:"id",label:"ID",render:function(e){return e.id}},{id:"name",label:"Название",render:function(e){return e.name}},{id:"registrationNumber",label:"Регистрационный номер",render:function(e){return e.registrationNumber}},{id:"odometerInitial",label:"Одометр начальный",render:function(e){return e.odometerInitial}},{id:"odometerCurrent",label:"Одометр текущий",render:function(e){return e.odometerCurrent}},{id:"mileageTotal",label:"Пробег",render:function(e){return e.mileageTotal}},{id:"transportType",label:"Тип транспорта",render:function(e){return e.transportType}},{id:"fuelType",label:"Тип топлива",render:function(e){return e.fuelType}},{id:"fuelRefilled",label:"Заправлено",render:function(e){return e.fuelRefilled}},{id:"fuelAverageConsumption",label:"Расход",render:function(e){return e.fuelAverageConsumption}},{id:"fuelSpentTotal",label:"Израсходовано",render:function(e){return e.fuelSpentTotal}},{id:"currentTasks",label:"Задачи",render:function(e){return e.currentTasks.length?e.currentTasks.join(", "):"—"}},{id:"transportHistory",label:"История задач",render:function(e){var t;return null!==(t=e.transportHistory)&&void 0!==t&&t.length?A.jsx("ul",{className:"space-y-1 text-sm",children:e.transportHistory.map(function(e){return A.jsx("li",{className:"leading-snug",children:kr(e)},"".concat(e.taskId,"-").concat(e.assignedAt))})}):"—"}},{id:"createdAt",label:"Создан",render:function(e){return e.createdAt||"—"}},{id:"updatedAt",label:"Обновлён",render:function(e){return e.updatedAt||"—"}},{id:"unitId",label:"Устройство",render:function(e){return void 0!==e.unitId&&null!==e.unitId?e.unitId:"—"}},{id:"remoteName",label:"Удалённое имя",render:function(e){return e.remoteName||"—"}},{id:"notes",label:"Примечания",render:function(e){return e.notes||"—"}}];function _r(){var e=I(D.useState([]),2),t=e[0],r=e[1],n=I(D.useState(0),2),a=n[0],l=n[1],i=I(D.useState(1),2),s=i[0],o=i[1],c=I(D.useState(""),2),u=c[0],d=c[1],m=I(D.useState(""),2),f=m[0],v=m[1],h=I(D.useState(!1),2),x=h[0],p=h[1],g=I(D.useState(""),2),b=g[0],y=g[1],j=I(D.useState(!1),2),N=j[0],k=j[1],w=I(D.useState("create"),2),S=w[0],_=w[1],E=I(D.useState(!1),2),T=E[0],W=E[1],M=I(D.useState(null),2),L=M[0],U=M[1],K=D.useMemo(function(){return Math.max(1,Math.ceil(a/yr))},[a]),F=D.useMemo(function(){return t.map(function(e){return R(R({},e),{},{transportHistoryInfo:wr(e.transportHistory)})})},[t]),H=D.useMemo(function(){return"".concat(gr," whitespace-nowrap sm:text-sm")},[]),P=D.useMemo(function(){return"".concat(br," justify-start")},[]),V=D.useCallback(C(O().m(function e(){var t,n,a;return O().w(function(e){for(;;)switch(e.p=e.n){case 0:return p(!0),y(""),e.p=1,e.n=2,nr(f,s,yr);case 2:t=e.v,r(t.items),l(t.total),e.n=4;break;case 3:e.p=3,a=e.v,n=a instanceof Error?a.message:"Не удалось загрузить транспорт",y(n),r([]),l(0);case 4:return e.p=4,p(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])})),[f,s]);D.useEffect(function(){V()},[V]);var B=function(){T||(k(!1),U(null))},z=function(){var e=C(O().m(function e(t,r){return O().w(function(e){for(;;)switch(e.p=e.n){case 0:if(W(!0),e.p=1,"create"!==S&&r){e.n=3;break}return e.n=2,lr(t);case 2:J("Транспорт создан","success"),e.n=5;break;case 3:return e.n=4,sr(r,t);case 4:J("Транспорт обновлён","success");case 5:return e.n=6,V();case 6:U(null),k(!1);case 7:return e.p=7,W(!1),e.f(7);case 8:return e.a(2)}},e,null,[[1,,7,8]])}));return function(t,r){return e.apply(this,arguments)}}(),q=function(){var e=C(O().m(function e(t){return O().w(function(e){for(;;)switch(e.p=e.n){case 0:return W(!0),e.p=1,e.n=2,cr(t);case 2:return J("Транспорт удалён","success"),e.n=3,V();case 3:U(null),k(!1);case 4:return e.p=4,W(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,,4,5]])}));return function(t){return e.apply(this,arguments)}}();return A.jsxs("section",{className:"space-y-4",children:[A.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-start sm:gap-3 lg:items-center lg:gap-3",children:[A.jsxs("form",{onSubmit:function(e){e.preventDefault(),o(1),v(u.trim())},className:"mt-2 flex w-full flex-col gap-2 sm:flex-row sm:flex-wrap sm:items-center sm:gap-2 lg:grid lg:flex-1 lg:grid-cols-[minmax(0,18rem)_auto] lg:items-center lg:gap-3",children:[A.jsxs("label",{className:"flex w-full flex-col gap-1 sm:w-64 lg:w-full lg:min-w-0",children:[A.jsx("span",{className:"text-sm font-medium",children:"Поиск"}),A.jsx("input",{id:"fleet-vehicles-search",name:"fleetVehicleSearch",className:"h-10 w-full rounded border px-3 text-sm lg:h-9 lg:text-xs",value:u,onChange:function(e){return d(e.target.value)},placeholder:"Название или номер"})]}),A.jsx(Z,{type:"submit",className:"h-10 w-full max-w-[11rem] px-3 text-sm font-semibold sm:h-10 sm:w-auto sm:px-3 lg:h-8 lg:text-xs",children:"Искать"})]}),A.jsx(Z,{type:"button",variant:"success",className:"h-10 w-full max-w-[11rem] px-3 text-sm font-semibold sm:w-auto lg:h-8 lg:text-xs",onClick:function(){_("create"),U(null),k(!0)},children:"Добавить"})]}),x?A.jsx("p",{className:"text-sm text-gray-500",children:"Загрузка транспорта…"}):null,b?A.jsx("p",{className:"rounded border border-red-200 bg-red-50 p-3 text-sm text-red-700",children:b}):null,x||b||t.length?null:A.jsx("p",{className:"text-sm text-gray-500",children:"Транспорт не найден."}),A.jsx($,{columns:hr,data:F,pageIndex:s-1,pageSize:yr,pageCount:K,onPageChange:function(e){var t;(t=e+1)<1||t>K||o(t)},showGlobalSearch:!1,showFilters:!1,onRowClick:function(e){return t=e,_("update"),U(t),void k(!0);var t},wrapCellsAsBadges:!0,badgeClassName:H,badgeWrapperClassName:P,badgeEmptyPlaceholder:xr}),A.jsx(G,{open:N,onClose:B,children:A.jsxs("div",{className:"space-y-4",children:[L?A.jsxs("article",{className:"rounded-xl border border-slate-200 bg-slate-50 p-4 shadow-sm",children:[A.jsx("h3",{className:"text-base font-semibold",children:"Карточка транспорта"}),A.jsx("dl",{className:"mt-2 grid grid-cols-1 gap-2 text-sm sm:grid-cols-2",children:Sr.map(function(e){var t=e.id,r=e.label,n=e.render;return A.jsxs("div",{children:[A.jsx("dt",{className:"font-medium text-slate-500",children:r}),A.jsx("dd",{className:"text-slate-900",children:n(L)})]},t)})})]}):null,A.jsx(fr,{open:N,mode:S,vehicle:L,saving:T,onSubmit:z,onDelete:"update"===S?q:void 0,onClose:B})]})})]})}var Cr="rounded-lg border border-slate-200 bg-white p-4 shadow-sm dark:border-slate-700 dark:bg-slate-900",Ir="space-y-4",Er=function(e){var t,r,n,a,l,i,s=e.item,o=e.value,c=e.onChange,u=e.onSave,d=e.onReset,m=e.onDelete,f=e.saving,v=e.deleting,h=e.error,x=I(F.useState(h),2),p=x[0],g=x[1];F.useEffect(function(){g(h)},[h]);var b=null!==(t=null===(r=s.meta)||void 0===r?void 0:r.defaultLabel)&&void 0!==t?t:s.name,y=(null===(n=s.value)||void 0===n?void 0:n.trim())||b,j=o.trim(),N=j!==y,k=function(){var e=C(O().m(function e(){var t,r;return O().w(function(e){for(;;)switch(e.p=e.n){case 0:return g(void 0),e.p=1,e.n=2,u();case 2:e.n=4;break;case 3:e.p=3,r=e.v,t=r instanceof Error?r.message:String(r),g(t);case 4:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),w=function(){var e=C(O().m(function e(){var t,r;return O().w(function(e){for(;;)switch(e.p=e.n){case 0:if(m){e.n=1;break}return e.a(2);case 1:return g(void 0),e.p=2,e.n=3,m();case 3:e.n=5;break;case 4:e.p=4,r=e.v,t=r instanceof Error?r.message:String(r),g(t);case 5:return e.a(2)}},e,null,[[2,4]])}));return function(){return e.apply(this,arguments)}}();return A.jsx("article",{className:Cr,children:A.jsxs("div",{className:"flex flex-col gap-2",children:[A.jsx("div",{className:"flex flex-wrap items-center justify-between gap-2",children:A.jsxs("div",{children:[A.jsxs("h4",{className:"text-base font-semibold text-slate-900 dark:text-slate-100",children:[b,null!==(a=s.meta)&&void 0!==a&&a.required?" *":""]}),A.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Поле: ",A.jsx("span",{className:"font-mono",children:s.name}),null!==(l=s.meta)&&void 0!==l&&l.fieldType?" • Тип: ".concat(s.meta.fieldType):""]})]})}),A.jsxs("label",{className:"flex flex-col gap-1",children:[A.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Отображаемое название"}),A.jsx(Ce,{value:o,onChange:function(e){return c(e.target.value)},placeholder:b,"aria-label":"Название поля ".concat(b)})]}),p?A.jsx("p",{className:"text-sm text-rose-600",role:"alert",children:p}):null,A.jsxs("div",{className:"flex flex-wrap gap-2",children:[A.jsx(Z,{type:"button",size:"sm",onClick:k,disabled:f||v||!N||!j,children:f?A.jsx(ue,{}):"Сохранить"}),A.jsx(Z,{type:"button",size:"sm",variant:"outline",onClick:function(){g(void 0),d()},disabled:f||v,children:"Сбросить"}),!m||null!==(i=s.meta)&&void 0!==i&&i.virtual?null:A.jsx(Z,{type:"button",size:"sm",variant:"destructive",onClick:w,disabled:f||v,children:v?A.jsx(ue,{}):"Удалить"})]})]})})},Tr=function(e){var t,r,n,a,l,i,s,o,c,u,d=e.item,m=e.label,f=e.url,v=e.photosUrl,h=e.onChangeLabel,x=e.onChangeUrl,p=e.onChangePhotosUrl,g=e.onSave,b=e.onReset,y=e.onDelete,j=e.saving,N=e.deleting,k=e.error,w=I(F.useState(k),2),S=w[0],_=w[1];F.useEffect(function(){_(k)},[k]);var E=null!==(t=null===(r=d.meta)||void 0===r?void 0:r.defaultLabel)&&void 0!==t?t:d.name,T=(null===(n=d.value)||void 0===n?void 0:n.trim())||E,W="string"==typeof(null===(a=d.meta)||void 0===a?void 0:a.tg_theme_url)?d.meta.tg_theme_url:"",M="string"==typeof(null===(l=d.meta)||void 0===l?void 0:l.tg_photos_url)?d.meta.tg_photos_url:"",D=m.trim(),R=f.trim(),L=v.trim(),U=D!==T||R!==(W||"")||L!==(M||""),K=function(){var e=C(O().m(function e(){var t,r;return O().w(function(e){for(;;)switch(e.p=e.n){case 0:return _(void 0),e.p=1,e.n=2,g();case 2:e.n=4;break;case 3:e.p=3,r=e.v,t=r instanceof Error?r.message:String(r),_(t);case 4:return e.a(2)}},e,null,[[1,3]])}));return function(){return e.apply(this,arguments)}}(),H=function(){var e=C(O().m(function e(){var t,r;return O().w(function(e){for(;;)switch(e.p=e.n){case 0:if(y){e.n=1;break}return e.a(2);case 1:return _(void 0),e.p=2,e.n=3,y();case 3:e.n=5;break;case 4:e.p=4,r=e.v,t=r instanceof Error?r.message:String(r),_(t);case 5:return e.a(2)}},e,null,[[2,4]])}));return function(){return e.apply(this,arguments)}}();return A.jsx("article",{className:Cr,children:A.jsxs("div",{className:"flex flex-col gap-2",children:[A.jsx("div",{className:"flex flex-wrap items-center justify-between gap-2",children:A.jsxs("div",{children:[A.jsx("h4",{className:"text-base font-semibold text-slate-900 dark:text-slate-100",children:E}),A.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:["Тип задачи: ",A.jsx("span",{className:"font-mono",children:d.name})]})]})}),A.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[A.jsxs("label",{className:"flex flex-col gap-1",children:[A.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Отображаемое название"}),A.jsx(Ce,{value:m,onChange:function(e){return h(e.target.value)},placeholder:E,"aria-label":"Название типа ".concat(E)})]}),A.jsxs("label",{className:"flex flex-col gap-1",children:[A.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Ссылка на тему Telegram"}),A.jsx(Ce,{value:f,onChange:function(e){return x(e.target.value)},placeholder:"https://t.me/c/...","aria-label":"Ссылка темы для типа ".concat(E)})]}),A.jsxs("label",{className:"flex flex-col gap-1",children:[A.jsx("span",{className:"text-sm font-medium text-slate-700 dark:text-slate-300",children:"Тема для фото"}),A.jsx(Ce,{value:v,onChange:function(e){return p(e.target.value)},placeholder:"https://t.me/c/...","aria-label":"Ссылка темы для фото ".concat(E)})]})]}),null!==(i=d.meta)&&void 0!==i&&i.tg_chat_id?A.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Чат: ",d.meta.tg_chat_id]}):null,null!==(s=d.meta)&&void 0!==s&&s.tg_topic_id?A.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Тема: ",d.meta.tg_topic_id]}):null,null!==(o=d.meta)&&void 0!==o&&o.tg_photos_chat_id?A.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Чат фото: ",d.meta.tg_photos_chat_id]}):null,null!==(c=d.meta)&&void 0!==c&&c.tg_photos_topic_id?A.jsxs("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:["Тема фото: ",d.meta.tg_photos_topic_id]}):null,S?A.jsx("p",{className:"text-sm text-rose-600",role:"alert",children:S}):null,A.jsxs("div",{className:"flex flex-wrap gap-2",children:[A.jsx(Z,{type:"button",size:"sm",onClick:K,disabled:j||N||!D||!U,children:j?A.jsx(ue,{}):"Сохранить"}),A.jsx(Z,{type:"button",size:"sm",variant:"outline",onClick:function(){_(void 0),b()},disabled:j||N,children:"Сбросить"}),!y||null!==(u=d.meta)&&void 0!==u&&u.virtual?null:A.jsx(Z,{type:"button",size:"sm",variant:"destructive",onClick:H,disabled:j||N,children:N?A.jsx(ue,{}):"Удалить"})]})]})})},Ar=function(e){return E(e).sort(function(e,t){var r,n;return("number"==typeof(null===(r=e.meta)||void 0===r?void 0:r.order)?e.meta.order:0)-("number"==typeof(null===(n=t.meta)||void 0===n?void 0:n.order)?t.meta.order:0)})},Wr=function(e,t){var r=I(F.useState({}),2),n=r[0],a=r[1];return F.useEffect(function(){a(function(r){var n=!1,a=R({},r),l=new Set(e.map(function(e){return e.name}));return e.forEach(function(e){var l=e.name;l in r||(a[l]=t(e),n=!0)}),Object.keys(r).forEach(function(e){l.has(e)||(delete a[e],n=!0)}),n?a:r})},[e,t]),[n,a]},Or=function(e){var t=e.fields,r=e.types,n=e.loading,a=e.onSaveField,l=e.onDeleteField,i=e.onSaveType,s=e.onDeleteType,o=F.useCallback(function(e){var t,r;return(null===(t=e.value)||void 0===t?void 0:t.trim())||(null===(r=e.meta)||void 0===r?void 0:r.defaultLabel)||e.name},[]),c=F.useCallback(function(e){var t,r,n,a;return{label:(null===(t=e.value)||void 0===t?void 0:t.trim())||(null===(r=e.meta)||void 0===r?void 0:r.defaultLabel)||e.name,url:"string"==typeof(null===(n=e.meta)||void 0===n?void 0:n.tg_theme_url)?e.meta.tg_theme_url:"",photosUrl:"string"==typeof(null===(a=e.meta)||void 0===a?void 0:a.tg_photos_url)?e.meta.tg_photos_url:""}},[]),u=I(Wr(t,o),2),d=u[0],m=u[1],f=I(Wr(r,c),2),v=f[0],h=f[1],x=I(F.useState(null),2),p=x[0],g=x[1],b=I(F.useState(null),2),y=b[0],j=b[1],N=I(F.useState(null),2),k=N[0],w=N[1],S=I(F.useState(null),2),_=S[0],E=S[1],T=I(F.useState({}),2),W=T[0],M=T[1],D=I(F.useState({}),2),U=D[0],K=D[1],H=F.useMemo(function(){return Ar(t)},[t]),P=F.useMemo(function(){return Ar(r)},[r]),V=function(e,t){h(function(r){var n,a,l,i,s,o;return R(R({},r),{},L({},e,R({label:null!==(n=null===(a=r[e])||void 0===a?void 0:a.label)&&void 0!==n?n:"",url:null!==(l=null===(i=r[e])||void 0===i?void 0:i.url)&&void 0!==l?l:"",photosUrl:null!==(s=null===(o=r[e])||void 0===o?void 0:o.photosUrl)&&void 0!==s?s:""},t)))}),K(function(t){return R(R({},t),{},L({},e,""))})},B=function(){var e=C(O().m(function e(t){var r,n,l,i;return O().w(function(e){for(;;)switch(e.p=e.n){case 0:return n=null!==(r=d[t.name])&&void 0!==r?r:"",g(t.name),M(function(e){return R(R({},e),{},L({},t.name,""))}),e.p=1,e.n=2,a(t,n);case 2:m(function(e){return R(R({},e),{},L({},t.name,n))}),e.n=4;break;case 3:throw e.p=3,i=e.v,l=i instanceof Error?i.message:String(i),M(function(e){return R(R({},e),{},L({},t.name,l))}),i;case 4:return e.p=4,g(function(e){return e===t.name?null:e}),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=C(O().m(function e(t){var r,n,a;return O().w(function(e){for(;;)switch(e.p=e.n){case 0:if(null===(r=t.meta)||void 0===r||!r.virtual){e.n=1;break}return e.a(2);case 1:return w(t.name),M(function(e){return R(R({},e),{},L({},t.name,""))}),e.p=2,e.n=3,l(t);case 3:e.n=5;break;case 4:throw e.p=4,a=e.v,n=a instanceof Error?a.message:String(a),M(function(e){return R(R({},e),{},L({},t.name,n))}),a;case 5:return e.p=5,w(function(e){return e===t.name?null:e}),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=C(O().m(function e(t){var r,n,a,l;return O().w(function(e){for(;;)switch(e.p=e.n){case 0:return n=null!==(r=v[t.name])&&void 0!==r?r:{label:"",url:"",photosUrl:""},j(t.name),K(function(e){return R(R({},e),{},L({},t.name,""))}),e.p=1,e.n=2,i(t,{label:n.label,tg_theme_url:n.url,tg_photos_url:n.photosUrl});case 2:h(function(e){return R(R({},e),{},L({},t.name,{label:n.label,url:n.url,photosUrl:n.photosUrl}))}),e.n=4;break;case 3:throw e.p=3,l=e.v,a=l instanceof Error?l.message:String(l),K(function(e){return R(R({},e),{},L({},t.name,a))}),l;case 4:return e.p=4,j(function(e){return e===t.name?null:e}),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=C(O().m(function e(t){var r,n,a;return O().w(function(e){for(;;)switch(e.p=e.n){case 0:if(null===(r=t.meta)||void 0===r||!r.virtual){e.n=1;break}return e.a(2);case 1:return E(t.name),K(function(e){return R(R({},e),{},L({},t.name,""))}),e.p=2,e.n=3,s(t);case 3:e.n=5;break;case 4:throw e.p=4,a=e.v,n=a instanceof Error?a.message:String(a),K(function(e){return R(R({},e),{},L({},t.name,n))}),a;case 5:return e.p=5,E(function(e){return e===t.name?null:e}),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(t){return e.apply(this,arguments)}}();return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("section",{className:Ir,children:[A.jsxs("header",{className:"space-y-1",children:[A.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Поля задачи"}),A.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Настройте названия полей, которые видят пользователи в карточке задачи."})]}),n&&!H.length?A.jsx("div",{className:"flex items-center justify-center py-6",children:A.jsx(ue,{})}):A.jsx("div",{className:"grid gap-4 lg:grid-cols-2",children:H.map(function(e){var t,r;return A.jsx(Er,{item:e,value:null!==(t=d[e.name])&&void 0!==t?t:"",onChange:function(t){return function(e,t){m(function(r){return R(R({},r),{},L({},e,t))}),M(function(t){return R(R({},t),{},L({},e,""))})}(e.name,t)},onSave:function(){return B(e)},onReset:function(){return function(e){m(function(t){return R(R({},t),{},L({},e.name,o(e)))}),M(function(t){return R(R({},t),{},L({},e.name,""))})}(e)},onDelete:null!==(r=e.meta)&&void 0!==r&&r.virtual?void 0:function(){return z(e)},saving:p===e.name,deleting:k===e.name,error:W[e.name]},e._id)})})]}),A.jsxs("section",{className:Ir,children:[A.jsxs("header",{className:"space-y-1",children:[A.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100",children:"Типы задач и темы Telegram"}),A.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:"Для каждого типа задачи можно задать отображаемое название, основную тему чата Telegram и отдельную тему для альбома фото."})]}),n&&!P.length?A.jsx("div",{className:"flex items-center justify-center py-6",children:A.jsx(ue,{})}):A.jsx("div",{className:"grid gap-4 lg:grid-cols-2",children:P.map(function(e){var t,r,n,a,l,i,s;return A.jsx(Tr,{item:e,label:null!==(t=null===(r=v[e.name])||void 0===r?void 0:r.label)&&void 0!==t?t:"",url:null!==(n=null===(a=v[e.name])||void 0===a?void 0:a.url)&&void 0!==n?n:"",photosUrl:null!==(l=null===(i=v[e.name])||void 0===i?void 0:i.photosUrl)&&void 0!==l?l:"",onChangeLabel:function(t){return V(e.name,{label:t})},onChangeUrl:function(t){return V(e.name,{url:t})},onChangePhotosUrl:function(t){return V(e.name,{photosUrl:t})},onSave:function(){return Z(e)},onReset:function(){return function(e){h(function(t){return R(R({},t),{},L({},e.name,c(e)))}),K(function(t){return R(R({},t),{},L({},e.name,""))})}(e)},onDelete:null!==(s=e.meta)&&void 0!==s&&s.virtual?void 0:function(){return q(e)},saving:y===e.name,deleting:_===e.name,error:U[e.name]},e._id)})})]})]})};function Mr(){return Dr.apply(this,arguments)}function Dr(){return Dr=C(O().m(function e(){var t,r,n,a,l=arguments;return O().w(function(e){for(;;)switch(e.n){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:{},r=new URLSearchParams,t.from&&r.set("from",t.from),t.to&&r.set("to",t.to),t.status&&r.set("status",t.status),n=r.toString(),e.n=1,q("/api/v1/analytics/route-plans/summary".concat(n?"?".concat(n):""));case 1:if((a=e.v).ok){e.n=2;break}throw new Error("Не удалось получить аналитику маршрутных планов");case 2:return e.n=3,a.json();case 3:return e.a(2,e.v)}},e)})),Dr.apply(this,arguments)}var Rr=F.lazy(function(){return M(function(){return T.import("./react-apexcharts.min-legacy-h6DStG4L.js").then(function(e){return e.r})},void 0)}),Lr=function(e){return new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().slice(0,10)},Ur=Lr(new Date),Kr=Lr(new Date(Date.now()-25056e5)),Fr=[{value:"all",label:"Все статусы"},{value:"draft",label:"Черновики"},{value:"approved",label:"Утверждённые"},{value:"completed",label:"Завершённые"}],Hr=new Intl.NumberFormat("ru-RU",{style:"percent",minimumFractionDigits:0,maximumFractionDigits:1}),Pr=new Intl.NumberFormat("ru-RU",{minimumFractionDigits:0,maximumFractionDigits:1}),Vr=new Intl.NumberFormat("ru-RU",{minimumFractionDigits:0,maximumFractionDigits:2}),Br=function(e){var t={};return e.from&&(t.from=e.from),e.to&&(t.to=e.to),"all"!==e.status&&(t.status=e.status),t},zr=function(e){var t;return null!==(t=null==e?void 0:e.mileage.byPeriod.map(function(e){return{x:e.date,y:"number"==typeof e.value?e.value:0}}))&&void 0!==t?t:[]},Zr=function(e){var t;return null!==(t=null==e?void 0:e.load.byPeriod.map(function(e){return{x:e.date,y:"number"==typeof e.value?e.value:null}}))&&void 0!==t?t:[]},qr=function(e){var t;return null!==(t=null==e?void 0:e.sla.byPeriod.map(function(e){return{x:e.date,y:"number"==typeof e.rate?Number((100*e.rate).toFixed(2)):null}}))&&void 0!==t?t:[]};function Gr(){var e,t,r,n=X().t,a=I(F.useState({from:Kr,to:Ur,status:"completed"}),2),l=a[0],i=a[1],s=I(F.useState(!1),2),o=s[0],c=s[1],u=I(F.useState(null),2),d=u[0],m=u[1],f=I(F.useState(null),2),v=f[0],h=f[1],x=F.useCallback(function(){var e=C(O().m(function e(t){var r,a;return O().w(function(e){for(;;)switch(e.p=e.n){case 0:return c(!0),m(null),e.p=1,e.n=2,Mr(Br(t));case 2:r=e.v,h(r),e.n=4;break;case 3:e.p=3,a=e.v,console.error("Не удалось загрузить аналитику маршрутных планов",a),m(n("analytics.loadError"));case 4:return e.p=4,c(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])}));return function(t){return e.apply(this,arguments)}}(),[n]);F.useEffect(function(){x(l)},[l,x]);var p=F.useMemo(function(){return zr(v)},[v]),g=F.useMemo(function(){return Zr(v)},[v]),b=F.useMemo(function(){return qr(v)},[v]);return A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:"space-y-3",children:[A.jsx("h1",{className:"text-2xl font-semibold",children:n("analytics.title")}),A.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:n("analytics.description")})]}),A.jsxs("form",{onSubmit:function(e){e.preventDefault();var t=new FormData(e.currentTarget),r={from:String(t.get("from")||""),to:String(t.get("to")||""),status:t.get("status")||"all"};i(r)},className:"flex flex-wrap items-end gap-3 rounded-lg bg-white p-4 shadow-sm dark:bg-slate-900",children:[A.jsxs("label",{className:"flex flex-col text-sm text-slate-700 dark:text-slate-200",children:[n("analytics.filters.from"),A.jsx(Ce,{type:"date",name:"from",defaultValue:l.from})]}),A.jsxs("label",{className:"flex flex-col text-sm text-slate-700 dark:text-slate-200",children:[n("analytics.filters.to"),A.jsx(Ce,{type:"date",name:"to",defaultValue:l.to})]}),A.jsxs("label",{className:"flex flex-col text-sm text-slate-700 dark:text-slate-200",children:[n("analytics.filters.status"),A.jsx("select",{name:"status",defaultValue:l.status,className:"mt-1 w-48 rounded-md border border-slate-300 bg-white px-3 py-2 text-sm focus:border-slate-400 focus:outline-none focus:ring-2 focus:ring-primary/60 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-100",children:Fr.map(function(e){return A.jsx("option",{value:e.value,children:n("analytics.status.".concat(e.value))},e.value)})})]}),A.jsxs("div",{className:"flex flex-wrap gap-2",children:[A.jsx(Z,{type:"submit",disabled:o,children:n(o?"analytics.loading":"analytics.apply")}),A.jsx(Z,{type:"button",variant:"outline",onClick:function(){i({from:Kr,to:Ur,status:"completed"})},children:n("analytics.reset")})]})]}),d?A.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4 text-sm text-red-600 dark:border-red-800 dark:bg-red-900/30 dark:text-red-200",children:d}):null,A.jsxs("section",{className:"grid gap-4 md:grid-cols-3",children:[A.jsxs("article",{className:"rounded-lg bg-white p-4 shadow-sm dark:bg-slate-900",children:[A.jsx("h2",{className:"text-sm font-medium text-slate-500 dark:text-slate-300",children:n("analytics.cards.mileage")}),A.jsxs("p",{className:"mt-2 text-2xl font-semibold",children:[Pr.format(null!==(e=null==v?void 0:v.mileage.total)&&void 0!==e?e:0)," км"]}),A.jsx("p",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:n("analytics.cards.period",{from:null!==(t=null==v?void 0:v.period.from)&&void 0!==t?t:l.from,to:null!==(r=null==v?void 0:v.period.to)&&void 0!==r?r:l.to})})]}),A.jsxs("article",{className:"rounded-lg bg-white p-4 shadow-sm dark:bg-slate-900",children:[A.jsx("h2",{className:"text-sm font-medium text-slate-500 dark:text-slate-300",children:n("analytics.cards.load")}),A.jsx("p",{className:"mt-2 text-2xl font-semibold",children:"number"==typeof(null==v?void 0:v.load.average)?"".concat(Vr.format(v.load.average)," кг"):n("analytics.noData")}),A.jsx("p",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:n("analytics.cards.loadHint")})]}),A.jsxs("article",{className:"rounded-lg bg-white p-4 shadow-sm dark:bg-slate-900",children:[A.jsx("h2",{className:"text-sm font-medium text-slate-500 dark:text-slate-300",children:"SLA"}),A.jsx("p",{className:"mt-2 text-2xl font-semibold",children:"number"==typeof(null==v?void 0:v.sla.average)?Hr.format(v.sla.average):n("analytics.noData")}),A.jsx("p",{className:"mt-1 text-xs text-slate-500 dark:text-slate-400",children:n("analytics.cards.slaHint")})]})]}),A.jsxs("section",{className:"grid gap-4 lg:grid-cols-3",children:[A.jsxs("div",{className:"space-y-2 rounded-lg bg-white p-4 shadow-sm dark:bg-slate-900 lg:col-span-3",children:[A.jsx("h3",{className:"text-base font-semibold text-slate-700 dark:text-slate-200",children:n("analytics.charts.mileage")}),A.jsx(F.Suspense,{fallback:A.jsx("div",{children:n("analytics.loading")}),children:A.jsx(Rr,{type:"area",height:280,series:[{name:n("analytics.cards.mileage"),data:p}],options:{chart:{id:"analytics-mileage",animations:{enabled:!1}},dataLabels:{enabled:!1},stroke:{curve:"smooth",width:2},xaxis:{type:"category"},yaxis:{labels:{formatter:function(e){return Pr.format(e)}}},tooltip:{y:{formatter:function(e){return"".concat(Pr.format(e)," км")}}}}})})]}),A.jsxs("div",{className:"space-y-2 rounded-lg bg-white p-4 shadow-sm dark:bg-slate-900",children:[A.jsx("h3",{className:"text-base font-semibold text-slate-700 dark:text-slate-200",children:n("analytics.charts.load")}),A.jsx(F.Suspense,{fallback:A.jsx("div",{children:n("analytics.loading")}),children:A.jsx(Rr,{type:"bar",height:280,series:[{name:n("analytics.cards.load"),data:g}],options:{chart:{id:"analytics-load",animations:{enabled:!1}},dataLabels:{enabled:!1},xaxis:{type:"category"},yaxis:{labels:{formatter:function(e){return"".concat(Vr.format(e)," кг")}}},tooltip:{y:{formatter:function(e){return"".concat(Vr.format(e)," кг")}}}}})})]}),A.jsxs("div",{className:"space-y-2 rounded-lg bg-white p-4 shadow-sm dark:bg-slate-900",children:[A.jsx("h3",{className:"text-base font-semibold text-slate-700 dark:text-slate-200",children:n("analytics.charts.sla")}),A.jsx(F.Suspense,{fallback:A.jsx("div",{children:n("analytics.loading")}),children:A.jsx(Rr,{type:"line",height:280,series:[{name:"SLA",data:b}],options:{chart:{id:"analytics-sla",animations:{enabled:!1}},dataLabels:{enabled:!1},stroke:{curve:"straight",width:2},markers:{size:4},xaxis:{type:"category"},yaxis:{min:0,max:100,tickAmount:5,labels:{formatter:function(e){return Hr.format(e/100)}}},tooltip:{y:{formatter:function(e){return Hr.format(e/100)}}}}})})]})]})]})}var Jr=function(e){if(!e||"object"!==W(e))return!1;var t=e;return"string"==typeof t.name&&("ok"===t.status||"warn"===t.status||"error"===t.status)};function Xr(){return Yr.apply(this,arguments)}function Yr(){return(Yr=C(O().m(function e(){var t,r,n,a,l,i,s;return O().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,q("/api/v1/system/health/run",{method:"POST"});case 1:if((t=e.v).ok){e.n=3;break}return e.n=2,t.text();case 2:throw r=e.v,new Error("Healthcheck недоступен: ".concat(t.status," ").concat(r));case 3:return e.n=4,t.json();case 4:if((n=e.v)&&"object"===W(n)){e.n=5;break}throw new Error("Неверный ответ healthcheck");case 5:if(a=n.ok,l=n.timestamp,i=n.results,"boolean"==typeof a&&"string"==typeof l&&Array.isArray(i)){e.n=6;break}throw new Error("Неполный ответ healthcheck");case 6:return s=i.filter(Jr),e.a(2,{ok:a,timestamp:l,results:s})}},e)}))).apply(this,arguments)}var Qr={ok:"bg-emerald-50 text-emerald-700 ring-1 ring-emerald-200 dark:bg-emerald-900/30 dark:text-emerald-200 dark:ring-emerald-700",warn:"bg-amber-50 text-amber-700 ring-1 ring-amber-200 dark:bg-amber-900/30 dark:text-amber-200 dark:ring-amber-700",error:"bg-rose-50 text-rose-700 ring-1 ring-rose-200 dark:bg-rose-900/30 dark:text-rose-200 dark:ring-rose-700"},$r={ok:"OK",warn:"Предупреждение",error:"Ошибка"},en=6e4,tn=function(e){if(!e)return"ещё не запускалось";var t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleString("ru-RU")},rn=function(e){if(!e)return null;var t=e.hint;return"string"==typeof t?t:null};function nn(){var e=I(D.useState([]),2),t=e[0],r=e[1],n=I(D.useState(null),2),a=n[0],l=n[1],i=I(D.useState(!1),2),s=i[0],o=i[1],c=I(D.useState(!1),2),u=c[0],d=c[1],m=I(D.useState(null),2),f=m[0],v=m[1],h=D.useRef(null),x=D.useMemo(function(){return E(t).sort(function(e,t){return e.name.localeCompare(t.name,"ru-RU")})},[t]),p=D.useCallback(C(O().m(function e(){var t,n,a;return O().w(function(e){for(;;)switch(e.p=e.n){case 0:return d(!0),v(null),e.p=1,e.n=2,Xr();case 2:t=e.v,r(t.results),l(t.timestamp),e.n=4;break;case 3:e.p=3,a=e.v,n=a instanceof Error?a.message:"Неизвестная ошибка",v(n);case 4:return e.p=4,d(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])})),[]);return D.useEffect(function(){return s&&(p(),h.current=window.setInterval(function(){p()},en)),function(){h.current&&(clearInterval(h.current),h.current=null)}},[s,p]),A.jsxs("div",{className:"flex flex-col gap-4",children:[A.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[A.jsxs(Z,{type:"button",variant:"success",size:"sm",className:"gap-2",disabled:u,onClick:function(){p()},children:[u?A.jsx(We,{className:"h-4 w-4 animate-spin"}):A.jsx(nt,{className:"h-4 w-4"}),"Запустить проверку"]}),A.jsxs("label",{className:"inline-flex items-center gap-2 text-sm font-medium text-slate-700 dark:text-slate-200",children:[A.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-emerald-600 focus:ring-emerald-500 dark:border-slate-600",checked:s,onChange:function(e){return o(e.target.checked)}}),A.jsxs("span",{className:"flex items-center gap-1",children:[s?A.jsx(tt,{className:"h-4 w-4"}):A.jsx(nt,{className:"h-4 w-4"}),"Автоопрос раз в 60 секунд"]})]}),A.jsxs("span",{className:"text-sm text-slate-600 dark:text-slate-300",children:["Последний запуск: ",tn(a)]})]}),f?A.jsx("div",{className:"rounded-2xl border border-rose-200 bg-rose-50 px-4 py-3 text-sm text-rose-700 dark:border-rose-700 dark:bg-rose-900/40 dark:text-rose-100",children:f}):null,A.jsxs("div",{className:"overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm dark:border-slate-700 dark:bg-slate-900",children:[A.jsxs("div",{className:"grid grid-cols-[1fr_auto_auto_2fr] items-center gap-2 bg-slate-50 px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-slate-600 dark:bg-slate-800 dark:text-slate-300",children:[A.jsx("span",{children:"Компонент"}),A.jsx("span",{children:"Статус"}),A.jsx("span",{children:"Время"}),A.jsx("span",{children:"Детали"})]}),0===x.length?A.jsx("div",{className:"px-4 py-5 text-sm text-slate-600 dark:text-slate-300",children:"Результатов пока нет"}):A.jsx("ul",{className:"divide-y divide-slate-200 dark:divide-slate-800",children:x.map(function(e){return A.jsxs("li",{className:"grid grid-cols-[1fr_auto_auto_2fr] items-start gap-2 px-4 py-3 text-sm text-slate-800 dark:text-slate-100",children:[A.jsx("div",{className:"font-semibold capitalize",children:e.name}),A.jsx("div",{children:A.jsx("span",{className:"inline-flex items-center gap-1 rounded-full px-2 py-1 text-xs font-semibold ".concat(Qr[e.status]),children:$r[e.status]})}),A.jsx("div",{className:"text-xs text-slate-500 dark:text-slate-300",children:"number"==typeof e.durationMs?"".concat(e.durationMs," мс"):"—"}),A.jsxs("div",{className:"space-y-2 text-xs text-slate-700 dark:text-slate-200",children:[e.message?A.jsx("div",{className:"font-medium text-rose-600 dark:text-rose-200",children:e.message}):null,rn(e.meta)?A.jsxs("div",{className:"rounded-xl border border-amber-200 bg-amber-50 px-3 py-2 font-medium text-amber-800 dark:border-amber-600 dark:bg-amber-900/40 dark:text-amber-100",children:["Что делать: ",rn(e.meta)]}):null,e.meta?A.jsx("pre",{className:"overflow-x-auto whitespace-pre-wrap rounded-xl bg-slate-50 p-3 text-[13px] leading-5 text-slate-800 ring-1 ring-slate-200 dark:bg-slate-800 dark:text-slate-100 dark:ring-slate-700",children:JSON.stringify(e.meta,null,2)}):null]})]},e.name)})})]})]})}var an=[{accessorKey:"name",header:"Название",meta:{minWidth:"8rem",maxWidth:"16rem"}},{accessorKey:"value",header:"Значение",meta:{minWidth:"8rem",maxWidth:"20rem"}},{accessorKey:"displayValue",header:"Связанные данные",meta:{minWidth:"10rem",maxWidth:"24rem"}},{accessorKey:"type",header:"Тип",meta:{minWidth:"6rem",maxWidth:"12rem"}},{accessorKey:"_id",header:"Идентификатор",meta:{minWidth:"10rem",maxWidth:"16rem"}},{accessorKey:"metaSummary",header:"Доп. сведения",meta:{minWidth:"10rem",maxWidth:"24rem"}}],ln=[{accessorKey:"name",header:"Название",meta:{minWidth:"8rem",maxWidth:"16rem"}},{accessorKey:"address",header:"Адрес",meta:{minWidth:"10rem",maxWidth:"20rem"}},{accessorKey:"coordinates",header:"Координаты",meta:{minWidth:"8rem",maxWidth:"14rem"}},{accessorKey:"_id",header:"Идентификатор",meta:{minWidth:"10rem",maxWidth:"16rem"}}],sn=[{accessorKey:"telegram_id",header:"Telegram ID",meta:{minWidth:"8rem"}},{accessorKey:"username",header:"Логин",cell:function(e){var t,r,n=e.row;return null!==(t=null!==(r=n.original.telegram_username)&&void 0!==r?r:n.original.username)&&void 0!==t?t:""},meta:{minWidth:"8rem",maxWidth:"16rem"}},{accessorKey:"name",header:"Имя",meta:{minWidth:"8rem",maxWidth:"16rem"}},{accessorKey:"phone",header:"Телефон",meta:{minWidth:"8rem",maxWidth:"16rem"}},{accessorKey:"mobNumber",header:"Моб. номер",meta:{minWidth:"8rem",maxWidth:"16rem"}},{accessorKey:"email",header:"E-mail",meta:{minWidth:"10rem",maxWidth:"20rem"}},{accessorKey:"role",header:"Роль",cell:function(e){var t=e.getValue;return ke(t())},meta:{minWidth:"6rem",maxWidth:"12rem"}},{accessorKey:"access",header:"Доступ",cell:function(e){var t,r=e.getValue;return String(null!==(t=r())&&void 0!==t?t:"")},meta:{minWidth:"6rem",maxWidth:"10rem"}},{accessorKey:"roleId",header:"Роль ID",meta:{minWidth:"8rem",maxWidth:"16rem"}},{accessorKey:"departmentId",header:"Департамент",meta:{minWidth:"8rem",maxWidth:"16rem"}},{accessorKey:"divisionId",header:"Отдел",meta:{minWidth:"8rem",maxWidth:"16rem"}},{accessorKey:"positionId",header:"Должность",meta:{minWidth:"8rem",maxWidth:"16rem"}}],on=[{accessorKey:"telegram_id",header:"Telegram ID",meta:{minWidth:"8rem"}},{accessorKey:"username",header:"Логин",cell:function(e){var t,r,n=e.row;return null!==(t=null!==(r=n.original.telegram_username)&&void 0!==r?r:n.original.username)&&void 0!==t?t:""},meta:{minWidth:"8rem",maxWidth:"16rem"}},{accessorKey:"name",header:"Имя",meta:{minWidth:"8rem",maxWidth:"16rem"}},{accessorKey:"phone",header:"Телефон",meta:{minWidth:"8rem",maxWidth:"16rem"}},{accessorKey:"mobNumber",header:"Моб. номер",meta:{minWidth:"8rem",maxWidth:"16rem"}},{accessorKey:"email",header:"E-mail",meta:{minWidth:"10rem",maxWidth:"20rem"}},{accessorKey:"role",header:"Роль",cell:function(e){var t=e.getValue;return ke(t())},meta:{minWidth:"6rem",maxWidth:"12rem"}},{accessorKey:"access",header:"Доступ",cell:function(e){var t,r=e.getValue;return null==(t=r())?"":String(t)},meta:{minWidth:"6rem",maxWidth:"10rem"}},{accessorKey:"roleId",header:"Роль ID",cell:function(e){var t=e.row;return ke(t.original.roleName)},meta:{minWidth:"8rem",maxWidth:"16rem"}},{accessorKey:"departmentId",header:"Департамент",cell:function(e){return e.row.original.departmentName||"—"},meta:{minWidth:"8rem",maxWidth:"16rem"}},{accessorKey:"divisionId",header:"Отдел",cell:function(e){return e.row.original.divisionName||"—"},meta:{minWidth:"8rem",maxWidth:"16rem"}},{accessorKey:"positionId",header:"Должность",cell:function(e){return e.row.original.positionName||"—"},meta:{minWidth:"8rem",maxWidth:"16rem"}}],cn=function(e){if("string"==typeof e){var t=e.trim();return t.length?t:void 0}},un=function(e){var t,r,n,a,l={roleName:null!==(t=cn(e.roleName))&&void 0!==t?t:"",departmentName:null!==(r=cn(e.departmentName))&&void 0!==r?r:"",divisionName:null!==(n=cn(e.divisionName))&&void 0!==n?n:"",positionName:null!==(a=cn(e.positionName))&&void 0!==a?a:""},i=function(e,t){var r=cn(t);void 0!==r&&(l[e]=r)},s=function(e,t){var r,n="number"==typeof(r=t)&&Number.isFinite(r)?r:void 0;void 0!==n&&(l[e]=n)};i("id",e.id),s("telegram_id",e.telegram_id),i("telegram_username",e.telegram_username),i("username",e.username),i("name",e.name),i("phone",e.phone),i("mobNumber",e.mobNumber),i("email",e.email),i("role",e.role),s("access",e.access);var o=function(e){if(Array.isArray(e))return e.filter(function(e){return"string"==typeof e}).map(function(e){return e.trim()}).filter(function(e){return e.length>0})}(e.permissions);return void 0!==o&&(l.permissions=o),i("roleId",e.roleId),i("roleName",l.roleName),i("departmentId",e.departmentId),i("departmentName",l.departmentName),i("divisionId",e.divisionId),i("divisionName",l.divisionName),i("positionId",e.positionId),i("positionName",l.positionName),l};function dn(e){var t,r=e.form,n=e.onChange,a=e.onSubmit,l=e.onReset,i=I(F.useState(!1),2),s=i[0],o=i[1],c=I(F.useState([]),2),u=c[0],d=c[1],m=I(F.useState([]),2),f=m[0],v=m[1],h=I(F.useState([]),2),x=h[0],p=h[1],g=I(F.useState([]),2),b=g[0],y=g[1];F.useEffect(function(){he("departments","",1,100).then(function(e){return d(e.items)}).catch(function(){return d([])}),he("divisions","",1,100).then(function(e){return v(e.items)}).catch(function(){return v([])}),he("positions","",1,100).then(function(e){return p(e.items)}).catch(function(){return p([])}),we().then(function(e){return y(e)})},[]);return A.jsxs("form",{onSubmit:function(e){e.preventDefault(),o(!0)},className:"space-y-2",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium",children:"ID"}),A.jsx("input",{id:"settings-user-telegram-id",name:"telegramId",className:"h-10 w-full rounded border px-3",value:null!==(t=r.telegram_id)&&void 0!==t?t:"",onChange:function(e){return n(R(R({},r),{},{telegram_id:e.target.value?Number(e.target.value):void 0}))},readOnly:!!r.telegram_id,required:!0})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium",children:"Username"}),A.jsx("input",{id:"settings-user-username",name:"username",className:"h-10 w-full rounded border px-3",value:r.username||"",onChange:function(e){return n(R(R({},r),{},{username:e.target.value}))},readOnly:!!r.telegram_id})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium",children:"Имя"}),A.jsx("input",{id:"settings-user-name",name:"name",className:"h-10 w-full rounded border px-3",value:r.name||"",onChange:function(e){return n(R(R({},r),{},{name:e.target.value}))}})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium",children:"Телефон"}),A.jsx("input",{id:"settings-user-phone",name:"phone",className:"h-10 w-full rounded border px-3",value:r.phone||"",onChange:function(e){return n(R(R({},r),{},{phone:e.target.value}))}})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium",children:"Доп. телефон"}),A.jsx("input",{id:"settings-user-mob",name:"mobNumber",className:"h-10 w-full rounded border px-3",value:r.mobNumber||"",onChange:function(e){return n(R(R({},r),{},{mobNumber:e.target.value}))}})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium",children:"Email"}),A.jsx("input",{id:"settings-user-email",name:"email",className:"h-10 w-full rounded border px-3",value:r.email||"",onChange:function(e){return n(R(R({},r),{},{email:e.target.value}))}})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium",children:"Роль"}),A.jsx("select",{className:"h-10 w-full rounded border px-3",value:r.role||"user",onChange:function(e){return t=e.target.value,l=b.find(function(e){return e.name===t}),void n(R(R({},r),{},{role:t,roleId:null==l?void 0:l._id,access:null!==(a=null==l?void 0:l.access)&&void 0!==a?a:1}));var t,a,l},children:Se.map(function(e){return A.jsx("option",{value:e.value,children:e.label},e.value)})})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium",children:"Департамент"}),A.jsxs("select",{className:"h-10 w-full rounded border px-3",value:r.departmentId||"",onChange:function(e){return n(R(R({},r),{},{departmentId:e.target.value}))},children:[A.jsx("option",{value:""}),u.map(function(e){return A.jsx("option",{value:e._id,children:e.name},e._id)})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium",children:"Отдел"}),A.jsxs("select",{className:"h-10 w-full rounded border px-3",value:r.divisionId||"",onChange:function(e){return n(R(R({},r),{},{divisionId:e.target.value}))},children:[A.jsx("option",{value:""}),f.map(function(e){return A.jsx("option",{value:e._id,children:e.name},e._id)})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium",children:"Должность"}),A.jsxs("select",{className:"h-10 w-full rounded border px-3",value:r.positionId||"",onChange:function(e){return n(R(R({},r),{},{positionId:e.target.value}))},children:[A.jsx("option",{value:""}),x.map(function(e){return A.jsx("option",{value:e._id,children:e.name},e._id)})]})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx(Z,{type:"submit",children:"Сохранить"}),A.jsx(Z,{type:"button",variant:"outline",onClick:l,children:"Очистить"})]}),A.jsx(Ne,{open:s,message:"Сохранить изменения?",onConfirm:function(){o(!1),a()},onCancel:function(){return o(!1)},confirmText:"Сохранить"})]})}var mn=[{key:"directories",label:"Справочники",description:"Структура компании и доступы",icon:Ke},{key:"reports",label:"Отчёты",description:"Аналитика процессов и KPI",icon:de},{key:"archive",label:"Архив",description:"История задач и записей",icon:He},{key:"logs",label:"Логи",description:"Журнал действий и событий",icon:Te},{key:"storage",label:"Файлы",description:"Управление вложениями",icon:lt},{key:"health",label:"Мониторинг",description:"Проверка прокси, Redis и MongoDB",icon:st}],fn=function(e){return mn.some(function(t){return t.key===e})},vn=[{key:"departments",label:"Департамент",description:"Структура компании и направления"},{key:"divisions",label:"Отдел",description:"Команды внутри департаментов"},{key:"positions",label:"Должность",description:"Роли и рабочие позиции"},{key:"objects",label:"Объект",description:"Адреса и координаты площадок"},{key:"employees",label:"Сотрудник",description:"Карточки и доступы сотрудников"},{key:"fleets",label:"Автопарк",description:"Транспорт и связанный состав"},{key:"users",label:"Пользователь",description:"Учётные записи в системе"},{key:"tasks",label:"Задачи",description:"Поля формы и темы публикаций"}],hn=function(){return vn.reduce(function(e,t){return e[t.key]="",e},{})},xn={telegram_id:void 0,username:"",name:"",phone:"",mobNumber:"",email:"",role:"user",access:1,roleId:"",departmentId:"",divisionId:"",positionId:""},pn={name:"",value:"",meta:void 0,address:"",latitude:"",longitude:""},gn={departments:Ve,divisions:ct,positions:Je,objects:$e,employees:vt,fleets:dt,users:Ye,tasks:ve},bn=function(e){return e.length?A.jsx("div",{className:br,children:e.map(function(e,t){return A.jsx("span",{className:gr,title:e,children:e},"".concat(e,"-").concat(t))})}):A.jsx("span",{className:gr,title:xr,children:xr})},yn=function(e){if("string"==typeof e)return[e];if(Array.isArray(e))return e.flatMap(yn);if(e&&"object"===W(e)){var t=[];return Object.entries(e).forEach(function(e){var r=I(e,2),n=r[0],a=r[1];if(Array.isArray(a)||a&&"object"===W(a))t.push.apply(t,E(yn(a)));else if("string"!=typeof a)"boolean"!=typeof a&&"number"!=typeof a||a&&t.push(n);else{var l=a.trim();if(!l)return;!n.toLowerCase().includes("id")&&/\s/.test(l)||t.push(l)}}),t}return[]},jn={telegram_id:"Telegram ID",telegram_username:"Логин Telegram",username:"Логин",name:"Имя",phone:"Телефон",mobNumber:"Моб. номер",email:"E-mail",role:"Роль",access:"Доступ",roleId:"Роль ID",departmentId:"Департамент",departmentName:"Департамент",divisionId:"Отдел",divisionName:"Отдел",positionId:"Должность",positionName:"Должность",permissions:"Права",fleetId:"Автопарк",source:"Источник",sourceId:"ID источника",readonly:"Только чтение",readonlyReason:"Причина ограничения",invalid:"Некорректен",invalidReason:"Причина ошибки",invalidCode:"Код ошибки",invalidAt:"Ошибка от",syncPending:"Ожидает синхронизации",syncWarning:"Предупреждение",syncError:"Ошибка синхронизации",syncFailedAt:"Сбой синхронизации",defaultLabel:"Название по умолчанию",fieldType:"Тип поля",required:"Обязательное",order:"Порядок",virtual:"Системный элемент",tg_theme_url:"Тема Telegram",tg_chat_id:"ID чата",tg_topic_id:"ID темы",tg_photos_url:"Тема для фото",tg_photos_chat_id:"ID чата фото",tg_photos_topic_id:"ID темы фото"},Nn=function(e){var t=jn[e];if(t)return t;var r=e.replace(/[_-]+/g," ").replace(/([a-z])([A-Z])/g,"$1 $2").trim();return r?r.charAt(0).toUpperCase()+r.slice(1):e},kn=function(e){if(null==e)return"";if("boolean"==typeof e)return e?"Да":"Нет";if("number"==typeof e)return Number.isFinite(e)?String(e):"";if("string"==typeof e)return e.trim();if(Array.isArray(e))return e.map(function(e){return kn(e)}).filter(Boolean).join(", ");if(e instanceof Date)return e.toISOString();if("object"===W(e)){var t=Object.entries(e).map(function(e){var t=I(e,2),r=t[0],n=t[1],a=kn(n);return a?"".concat(Nn(r),"=").concat(a):""}).filter(Boolean);return t.join("; ")}return""},wn=function(e){return e?Object.entries(e).map(function(e){var t=I(e,2),r=t[0],n=t[1],a=kn(n);return a?"".concat(Nn(r),": ").concat(a):""}).filter(Boolean).join("\n"):""},Sn=function(e){var t=e.trim();if(!t)return"";var r=t.startsWith("{")||t.startsWith("[")?function(e){try{return JSON.parse(e)}catch(t){return}}(t):void 0;if(Array.isArray(r)){var n=r.map(function(e){return kn(e)}).filter(Boolean);if(n.length)return n.join("\n")}else if(r&&"object"===W(r)){var a=wn(r);if(a)return a}if(t.includes(",")){var l=t.split(",").map(function(e){return e.trim()}).filter(Boolean);if(l.length>1)return l.join("\n")}return t},_n=P(function(e){if(null==e)return[];if("string"==typeof e){var t=e.trim();if(!t)return[];if(t.startsWith("{")||t.startsWith("["))try{var r=JSON.parse(t);return yn(r)}catch(n){}return t.split(",").map(function(e){return e.trim()}).filter(Boolean)}return Array.isArray(e)||e&&"object"===W(e)?yn(e):[String(e)]},V(B())).transform(function(e){var t=e.map(function(e){return function(e){var t=e.trim();return t?t.replace(/^['"]+|['"]+$/g,"").replace(/^\[+|\]+$/g,"").replace(/^[{}]+|[{}]+$/g,"").replace(/,+$/g,"").trim():""}(String(e))}).filter(function(e){return e.length>0});return Array.from(new Set(t))}),Cn=function(e){var t=_n.safeParse(e);return t.success?t.data:[]},In=function(e,t){if(!t.length)return e;var r=e.slice(),n=new Map;r.forEach(function(e,t){n.set(e._id,t)});var a=!1;return t.forEach(function(e){var t=n.get(e._id);"number"!=typeof t?(n.set(e._id,r.length),r.push(e),a=!0):r[t]!==e&&(r[t]=e,a=!0)}),a?r:e},En=function(e,t,r){var n,a="string"==typeof r&&r.trim().length?r.trim():"";if(a)return a;if("string"!=typeof t)return"";var l=t.trim();return l?null!==(n=e.get(l))&&void 0!==n?n:l:""},Tn=function(e,t){var r,n=S(t);try{for(n.s();!(r=n.n()).done;){var a=r.value;if(a in e)return e[a]}}catch(c){n.e(c)}finally{n.f()}var l={};Object.entries(e).forEach(function(e){var t=I(e,2),r=t[0],n=t[1];l[r.toLowerCase()]=n});var i,s=S(t);try{for(s.s();!(i=s.n()).done;){var o=i.value.toLowerCase();if(o in l)return l[o]}}catch(c){s.e(c)}finally{s.f()}},An=function(e,t,r){var n=Tn(e,t);if("string"==typeof n){var a=n.trim();if(a.length)return a}if("number"==typeof n&&Number.isFinite(n))return String(n);if("string"==typeof r){var l=r.trim();if(l.length)return l}},Wn=function(e,t){var r=Tn(e,t);if("number"==typeof r&&Number.isFinite(r))return r;if("string"==typeof r){var n=r.trim();if(!n)return;var a=Number(n);if(Number.isFinite(a))return a}},On=function(e){if("employees"===e.type){var t=[];e.meta&&"object"===W(e.meta)&&t.push(e.meta);var r=e.value;if("string"==typeof r){var n=r.trim();if(n)try{var a=JSON.parse(n);a&&"object"===W(a)&&!Array.isArray(a)&&t.push(a)}catch(A){}}else r&&"object"===W(r)&&!Array.isArray(r)&&t.push(r);if(!t.length){var l,i=null===(l=e.name)||void 0===l?void 0:l.trim();return i?{name:i}:void 0}var s=t.reduce(function(e,t){return R(R({},e),t)},{}),o={},c=Wn(s,["telegram_id","telegramId","id"]);"number"==typeof c&&(o.telegram_id=c);var u=An(s,["telegram_username","telegramUsername","telegram_login","telegramLogin"]);u&&(o.telegram_username=u);var d=An(s,["username","login"]);d&&(o.username=d);var m=An(s,["name","fullName"],e.name),f=An(s,["firstName","first_name"]),v=An(s,["lastName","last_name","surname","familyName"]),h=An(s,["middleName","middle_name","patronymic"]);if(m)o.name=m;else{var x=[v,f,h].filter(function(e){return"string"==typeof e&&e.trim().length>0});x.length&&(o.name=x.join(" "))}var p=An(s,["phone","phone_number","phoneNumber"]);p&&(o.phone=p);var g=An(s,["mobNumber","mobile","mobile_phone","mobilePhone"]);g&&(o.mobNumber=g);var b=An(s,["email","mail"]);b&&(o.email=b);var y=An(s,["role","roleName"]);y&&(o.role=y);var j=Wn(s,["access","access_level","accessLevel"]);"number"==typeof j&&(o.access=j);var N=An(s,["roleId","role_id"]);N&&(o.roleId=N);var k=An(s,["roleName"]);k&&(o.roleName=k);var w=An(s,["departmentId","department_id"]);w&&(o.departmentId=w);var S=An(s,["departmentName"]);S&&(o.departmentName=S);var _=An(s,["divisionId","division_id"]);_&&(o.divisionId=_);var C=An(s,["divisionName"]);C&&(o.divisionName=C);var I=An(s,["positionId","position_id"]);I&&(o.positionId=I);var E=An(s,["positionName"]);E&&(o.positionName=E);var T=function(e,t){var r=Tn(e,t);if(Array.isArray(r)){var n=r.filter(function(e){return"string"==typeof e}).map(function(e){return e.trim()}).filter(function(e){return e.length>0});return n.length?n:void 0}}(s,["permissions"]);return T&&(o.permissions=T),Object.keys(o).length?o:void 0}},Mn=function(e){var t={byId:new Map,byTelegramUsername:new Map,byUsername:new Map};return e.forEach(function(e){var r=On(e);r&&("number"==typeof r.telegram_id&&t.byId.set(String(r.telegram_id),r),"string"==typeof r.telegram_username&&t.byTelegramUsername.set(r.telegram_username.toLowerCase(),r),"string"==typeof r.username&&t.byUsername.set(r.username.toLowerCase(),r))}),t},Dn=function(e,t){if(!t)return e;var r=R({},e),n=function(e){var n=t[e];if("number"==typeof n&&Number.isFinite(n)){var a=r[e];"number"==typeof a&&Number.isFinite(a)||(r[e]=n)}},a=function(e){var n=t[e];if(null!=n){var a="string"==typeof n?n.trim():"number"==typeof n&&Number.isFinite(n)?String(n):"";if(a){var l=r[e];(null==l||"string"==typeof l&&!l.trim())&&(r[e]=a)}}};return n("telegram_id"),a("telegram_username"),a("username"),a("name"),a("phone"),a("mobNumber"),a("email"),a("role"),n("access"),a("roleId"),a("roleName"),a("departmentId"),a("departmentName"),a("divisionId"),a("divisionName"),a("positionId"),a("positionName"),r.permissions&&r.permissions.length||!Array.isArray(t.permissions)||!t.permissions.length||(r.permissions=t.permissions.slice()),r},Rn=/[\t-\r ,-\/:;\\_\|\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]+/,Ln=function(e){var t,r,n,a,l,i,s,o,c,u,d,m,f=new Set,v=function(e){if(null!=e){var t;if("number"==typeof e){if(!Number.isFinite(e))return;t=String(e)}else{if("string"!=typeof e)return;t=e.trim()}t&&(f.add(t),t.split(Rn).map(function(e){return e.trim()}).filter(function(e){return e.length>0}).forEach(function(e){return f.add(e)}))}};return v(null!==(t=e.username)&&void 0!==t?t:void 0),v(null!==(r=e.telegram_username)&&void 0!==r?r:void 0),v(null!==(n=e.telegram_id)&&void 0!==n?n:void 0),v(null!==(a=e.name)&&void 0!==a?a:void 0),v(null!==(l=e.phone)&&void 0!==l?l:void 0),v(null!==(i=e.mobNumber)&&void 0!==i?i:void 0),v(null!==(s=e.email)&&void 0!==s?s:void 0),v(null!==(o=e.role)&&void 0!==o?o:void 0),v(null!==(c=e.roleName)&&void 0!==c?c:void 0),v(null!==(u=e.departmentName)&&void 0!==u?u:void 0),v(null!==(d=e.divisionName)&&void 0!==d?d:void 0),v(null!==(m=e.positionName)&&void 0!==m?m:void 0),Array.isArray(e.permissions)&&e.permissions.forEach(function(e){return v(e)}),Array.from(f)},Un=function(e,t,r){var n=r?r.trim():"number"==typeof(null==e?void 0:e.telegram_id)?String(e.telegram_id):void 0;if(n){var a=t.byId.get(n);if(a)return a}var l="string"==typeof(null==e?void 0:e.telegram_username)?e.telegram_username.trim().toLowerCase():void 0;if(l){var i=t.byTelegramUsername.get(l);if(i)return i}var s="string"==typeof(null==e?void 0:e.username)?e.username.trim().toLowerCase():void 0;if(s){var o=t.byUsername.get(s);if(o)return o}},Kn="Не удалось загрузить пользователей",Fn="Обнаружены дублирующиеся отделы",Hn="Не удалось загрузить настройки задач",Pn="Не удалось сохранить поле задачи",Vn="Не удалось сохранить тип задачи",Bn="Не удалось удалить настройку задачи",zn="Пользователь удалён",Zn="Не удалось удалить пользователя",qn="Сотрудник удалён",Gn="Не удалось удалить сотрудника",Jn=function(e){return"string"==typeof e.accessorKey},Xn=function(e,t){var r=[];return"number"==typeof e&&Number.isFinite(e)&&r.push(e.toString()),"number"==typeof t&&Number.isFinite(t)&&r.push(t.toString()),r.length?r.join(", "):xr},Yn=Xn}}})}();
//# sourceMappingURL=index-legacy-CNZW1SBF.js.map
