!function(){var e=["title","titleId"],t=["title","titleId"],n=["ref"];function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function s(n,r,a,i){var s=r&&r.prototype instanceof u?r:u,c=Object.create(s.prototype);return o(c,"_invoke",function(n,r,a){var i,o,s,u=0,c=a||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,o=0,s=e,f.n=n,l}};function p(n,r){for(o=n,s=r,t=0;!d&&u&&!a&&t<c.length;t++){var a,i=c[t],p=f.p,m=i[2];n>3?(a=m===r)&&(s=i[(o=i[4])?5:(o=3,3)],i[4]=i[5]=e):i[0]<=p&&((a=n<2&&p<i[1])?(o=0,f.v=r,f.n=i[1]):p<m&&(a=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,f.n=m,o=0))}if(a||n>1)return l;throw d=!0,r}return function(a,c,m){if(u>1)throw TypeError("Generator is already running");for(d&&1===c&&p(c,m),o=c,s=m;(t=o<2?e:s)||!d;){i||(o?o<3?(o>1&&(f.n=-1),p(o,s)):f.n=s:f.v=s);try{if(u=2,i){if(o||(a="next"),t=i[a]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,o<2&&(o=0)}else 1===o&&(t=i.return)&&t.call(i),o<2&&(s=TypeError("The iterator does not provide a '"+a+"' method"),o=1);i=e}else if((t=(d=f.n<0)?s:n.call(r,f))!==l)break}catch(t){i=e,o=1,s=t}finally{u=1}}return{value:t,done:d}}}(n,a,i),!0),c}var l={};function u(){}function c(){}function d(){}t=Object.getPrototypeOf;var f=[][r]?t(t([][r]())):(o(t={},r,function(){return this}),t),p=d.prototype=u.prototype=Object.create(f);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,o(e,a,"GeneratorFunction")),e.prototype=Object.create(p),e}return c.prototype=d,o(p,"constructor",d),o(d,"constructor",c),c.displayName="GeneratorFunction",o(d,a,"GeneratorFunction"),o(p),o(p,a,"Generator"),o(p,r,function(){return this}),o(p,"toString",function(){return"[object Generator]"}),(i=function(){return{w:s,m:m}})()}function o(e,t,n,r){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}o=function(e,t,n,r){function i(t,n){o(e,t,function(e){return this._invoke(t,n,e)})}t?a?a(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))},o(e,t,n,r)}function s(e,t,n,r,a,i,o){try{var s=e[i](o),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(e){s(i,r,a,o,l,"next",e)}function l(e){s(i,r,a,o,l,"throw",e)}o(void 0)})}}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(g=function(){return!!e})()}function v(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return y(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}System.register(["./index-legacy-Cw3EU-FN.js","./vendor-legacy-3V6tX1hl.js","./App-legacy-92jDSsGS.js","./PhotoIcon-legacy-Dlb_tfgz.js","./AuthenticatedApp-legacy-BR--zcF1.js","./ConfirmDialog-legacy-DGFneHEp.js","./map-legacy-DaUcrBc_.js","./EmployeeLink-legacy-Bb5L4nbd.js","./taskColumns-legacy-DnDkRZo5.js"],function(r,o){"use strict";var s,u,f,y,w,k,S,N,O,C,_,E,j,T,I,D,R,M,A,L,P,F,V,U,H,z,B,W,$,q,G,Y,K,X,Z,J,Q,ee,te,ne,re,ae,ie,oe,se,le,ue,ce,de,fe,pe,me,he;return{setters:[function(e){s=e.j,u=e._,f=e.e},function(e){y=e.b,w=e.R,k=e.g,S=e.e,N=e.l,O=e.n,C=e.o,_=e.C},function(e){E=e.s,j=e.B,T=e.M,I=e.h,D=e.b,R=e.g,M=e.a,A=e.q,L=e.r,P=e.P,F=e.v,V=e.w,U=e.x,H=e.y,z=e.z,B=e.C,W=e.D,$=e.E,q=e.F,G=e.d,Y=e.f,K=e.G,X=e.H,Z=e.n,J=e.o},function(e){Q=e.F},function(e){ee=e.l,te=e.S},function(e){ne=e.C},function(e){re=e.h,ae=e.c,ie=e.m,oe=e.a,se=e.b,le=e.d,ue=e.e},function(e){ce=e.E},function(e){de=e.c,fe=e.g,pe=e.f,me=e.b,he=e.a}],execute:function(){function ge(t,n){var r=t.title,a=t.titleId,i=x(t,e);return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},i),r?y.createElement("title",{id:a},r):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}r({T:Fo,_:Jt});var ve=y.forwardRef(ge);function be(e,n){var r=e.title,a=e.titleId,i=x(e,t);return y.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},i),r?y.createElement("title",{id:a},r):null,y.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456ZM16.894 20.567 16.5 21.75l-.394-1.183a2.25 2.25 0 0 0-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 0 0 1.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 0 0 1.423 1.423l1.183.394-1.183.394a2.25 2.25 0 0 0-1.423 1.423Z"}))}var ye=y.forwardRef(be),xe=/(-?\d+(?:\.\d+)?)[,\s+]+(-?\d+(?:\.\d+)?)/,we=["link","url","u"],ke=function(e,t){var n=Number.parseFloat(e),r=Number.parseFloat(t);return Number.isFinite(n)&&Number.isFinite(r)?{lat:n,lng:r}:null},Se=function(e){for(var t=e,n=0;n<3;n+=1)try{var r=decodeURIComponent(t);if(r===t)break;t=r}catch(a){break}return t},Ne=function(e){if(!e)return null;var t=Se(e).match(xe);return t?ke(t[1],t[2]):null},Oe=function(e){if(!e)return!1;try{var t=new URL(e,"https://maps.google.com");return"http:"===t.protocol||"https:"===t.protocol}catch(n){return!1}},Ce=function(e,t){if(!e||t>3)return null;var n=Ne(e);if(n)return n;var r=Se(e);if(r!==e){var a=Ne(r);if(a)return a}return Oe(r)?_e(r,t+1):null},_e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e||t>3)return null;try{for(var n=new URL(e,"https://maps.google.com"),r=0,a=["q","query","ll","center","sll","destination","origin","daddr","saddr"];r<a.length;r++){var i=a[r],o=Ne(n.searchParams.get(i));if(o)return o}for(var s=0,l=we;s<l.length;s++){var u=l[s],c=Ce(n.searchParams.get(u),t+1);if(c)return c}var d=Ne(n.hash.replace(/^#/,""));if(d)return d}catch(y){}var f=Se(e),p=f.match(/!3d(-?\d+(?:\.\d+)?)!4d(-?\d+(?:\.\d+)?)/);if(p){var m=ke(p[1],p[2]);if(m)return m}var h=f.match(/!2d(-?\d+(?:\.\d+)?)!3d(-?\d+(?:\.\d+)?)/);if(h){var g=ke(h[2],h[1]);if(g)return g}var v=f.match(/@(-?\d+(?:\.\d+)?),(-?\d+(?:\.\d+)?)/);if(v){var b=ke(v[1],v[2]);if(b)return b}return f!==e&&Oe(f)?_e(f,t+1):null};/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */var Ee=Object.entries,je=Object.setPrototypeOf,Te=Object.isFrozen,Ie=Object.getPrototypeOf,De=Object.getOwnPropertyDescriptor,Re=Object.freeze,Me=Object.seal,Ae=Object.create,Le="undefined"!=typeof Reflect&&Reflect,Pe=Le.apply,Fe=Le.construct;Re||(Re=function(e){return e}),Me||(Me=function(e){return e}),Pe||(Pe=function(e,t,n){return e.apply(t,n)}),Fe||(Fe=function(e,t){return function(e,t,n){if(g())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var a=new(e.bind.apply(e,r));return n&&h(a,n.prototype),a}(e,v(t))});var Ve,Ue=et(Array.prototype.forEach),He=et(Array.prototype.lastIndexOf),ze=et(Array.prototype.pop),Be=et(Array.prototype.push),We=et(Array.prototype.splice),$e=et(String.prototype.toLowerCase),qe=et(String.prototype.toString),Ge=et(String.prototype.match),Ye=et(String.prototype.replace),Ke=et(String.prototype.indexOf),Xe=et(String.prototype.trim),Ze=et(Object.prototype.hasOwnProperty),Je=et(RegExp.prototype.test),Qe=(Ve=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Fe(Ve,t)});function et(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return Pe(e,t,r)}}function tt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$e;je&&je(e,null);for(var r=t.length;r--;){var a=t[r];if("string"==typeof a){var i=n(a);i!==a&&(Te(t)||(t[r]=i),a=i)}e[a]=!0}return e}function nt(e){for(var t=0;t<e.length;t++){Ze(e,t)||(e[t]=null)}return e}function rt(e){var t,n=Ae(null),r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=b(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw i}}}}(Ee(e));try{for(r.s();!(t=r.n()).done;){var a=m(t.value,2),i=a[0],o=a[1];Ze(e,i)&&(Array.isArray(o)?n[i]=nt(o):o&&"object"===p(o)&&o.constructor===Object?n[i]=rt(o):n[i]=o)}}catch(s){r.e(s)}finally{r.f()}return n}function at(e,t){for(;null!==e;){var n=De(e,t);if(n){if(n.get)return et(n.get);if("function"==typeof n.value)return et(n.value)}e=Ie(e)}return function(){return null}}var it=Re(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ot=Re(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),st=Re(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),lt=Re(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ut=Re(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),ct=Re(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),dt=Re(["#text"]),ft=Re(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),pt=Re(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mt=Re(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ht=Re(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),gt=Me(/\{\{[\w\W]*|[\w\W]*\}\}/gm),vt=Me(/<%[\w\W]*|[\w\W]*%>/gm),bt=Me(/\$\{[\w\W]*/gm),yt=Me(/^data-[\-\w.\u00B7-\uFFFF]+$/),xt=Me(/^aria-[\-\w]+$/),wt=Me(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),kt=Me(/^(?:\w+script|data):/i),St=Me(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Nt=Me(/^html$/i),Ot=Me(/^[a-z][.\w]*(-[.\w]+)+$/i),Ct=Object.freeze({__proto__:null,ARIA_ATTR:xt,ATTR_WHITESPACE:St,CUSTOM_ELEMENT:Ot,DATA_ATTR:yt,DOCTYPE_NAME:Nt,ERB_EXPR:vt,IS_ALLOWED_URI:wt,IS_SCRIPT_OR_DATA:kt,MUSTACHE_EXPR:gt,TMPLIT_EXPR:bt}),_t=1,Et=3,jt=7,Tt=8,It=9,Dt=function(){return"undefined"==typeof window?null:window};var Rt,Mt,At,Lt=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt(),n=function(t){return e(t)};if(n.version="3.2.6",n.removed=[],!t||!t.document||t.document.nodeType!==It||!t.Element)return n.isSupported=!1,n;var r,a=t.document,i=a,o=i.currentScript,s=t.DocumentFragment,l=t.HTMLTemplateElement,u=t.Node,c=t.Element,d=t.NodeFilter,f=t.NamedNodeMap,m=void 0===f?t.NamedNodeMap||t.MozNamedAttrMap:f,h=t.HTMLFormElement,g=t.DOMParser,b=t.trustedTypes,y=c.prototype,x=at(y,"cloneNode"),w=at(y,"remove"),k=at(y,"nextSibling"),S=at(y,"childNodes"),N=at(y,"parentNode");if("function"==typeof l){var O=a.createElement("template");O.content&&O.content.ownerDocument&&(a=O.content.ownerDocument)}var C="",_=a,E=_.implementation,j=_.createNodeIterator,T=_.createDocumentFragment,I=_.getElementsByTagName,D=i.importNode,R={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};n.isSupported="function"==typeof Ee&&"function"==typeof N&&E&&void 0!==E.createHTMLDocument;var M=Ct.MUSTACHE_EXPR,A=Ct.ERB_EXPR,L=Ct.TMPLIT_EXPR,P=Ct.DATA_ATTR,F=Ct.ARIA_ATTR,V=Ct.IS_SCRIPT_OR_DATA,U=Ct.ATTR_WHITESPACE,H=Ct.CUSTOM_ELEMENT,z=Ct.IS_ALLOWED_URI,B=null,W=tt({},[].concat(v(it),v(ot),v(st),v(ut),v(dt))),$=null,q=tt({},[].concat(v(ft),v(pt),v(mt),v(ht))),G=Object.seal(Ae(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Y=null,K=null,X=!0,Z=!0,J=!1,Q=!0,ee=!1,te=!0,ne=!1,re=!1,ae=!1,ie=!1,oe=!1,se=!1,le=!0,ue=!1,ce=!0,de=!1,fe={},pe=null,me=tt({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),he=null,ge=tt({},["audio","video","img","source","image","track"]),ve=null,be=tt({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),ye="http://www.w3.org/1998/Math/MathML",xe="http://www.w3.org/2000/svg",we="http://www.w3.org/1999/xhtml",ke=we,Se=!1,Ne=null,Oe=tt({},[ye,xe,we],qe),Ce=tt({},["mi","mo","mn","ms","mtext"]),_e=tt({},["annotation-xml"]),je=tt({},["title","style","font","a","script"]),Te=null,Ie=["application/xhtml+xml","text/html"],De=null,Me=null,Le=a.createElement("form"),Pe=function(e){return e instanceof RegExp||e instanceof Function},Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Me||Me!==e){if(e&&"object"===p(e)||(e={}),e=rt(e),Te=-1===Ie.indexOf(e.PARSER_MEDIA_TYPE)?"text/html":e.PARSER_MEDIA_TYPE,De="application/xhtml+xml"===Te?qe:$e,B=Ze(e,"ALLOWED_TAGS")?tt({},e.ALLOWED_TAGS,De):W,$=Ze(e,"ALLOWED_ATTR")?tt({},e.ALLOWED_ATTR,De):q,Ne=Ze(e,"ALLOWED_NAMESPACES")?tt({},e.ALLOWED_NAMESPACES,qe):Oe,ve=Ze(e,"ADD_URI_SAFE_ATTR")?tt(rt(be),e.ADD_URI_SAFE_ATTR,De):be,he=Ze(e,"ADD_DATA_URI_TAGS")?tt(rt(ge),e.ADD_DATA_URI_TAGS,De):ge,pe=Ze(e,"FORBID_CONTENTS")?tt({},e.FORBID_CONTENTS,De):me,Y=Ze(e,"FORBID_TAGS")?tt({},e.FORBID_TAGS,De):rt({}),K=Ze(e,"FORBID_ATTR")?tt({},e.FORBID_ATTR,De):rt({}),fe=!!Ze(e,"USE_PROFILES")&&e.USE_PROFILES,X=!1!==e.ALLOW_ARIA_ATTR,Z=!1!==e.ALLOW_DATA_ATTR,J=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Q=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,ee=e.SAFE_FOR_TEMPLATES||!1,te=!1!==e.SAFE_FOR_XML,ne=e.WHOLE_DOCUMENT||!1,ie=e.RETURN_DOM||!1,oe=e.RETURN_DOM_FRAGMENT||!1,se=e.RETURN_TRUSTED_TYPE||!1,ae=e.FORCE_BODY||!1,le=!1!==e.SANITIZE_DOM,ue=e.SANITIZE_NAMED_PROPS||!1,ce=!1!==e.KEEP_CONTENT,de=e.IN_PLACE||!1,z=e.ALLOWED_URI_REGEXP||wt,ke=e.NAMESPACE||we,Ce=e.MATHML_TEXT_INTEGRATION_POINTS||Ce,_e=e.HTML_INTEGRATION_POINTS||_e,G=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&Pe(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(G.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&Pe(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(G.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(G.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ee&&(Z=!1),oe&&(ie=!0),fe&&(B=tt({},dt),$=[],!0===fe.html&&(tt(B,it),tt($,ft)),!0===fe.svg&&(tt(B,ot),tt($,pt),tt($,ht)),!0===fe.svgFilters&&(tt(B,st),tt($,pt),tt($,ht)),!0===fe.mathMl&&(tt(B,ut),tt($,mt),tt($,ht))),e.ADD_TAGS&&(B===W&&(B=rt(B)),tt(B,e.ADD_TAGS,De)),e.ADD_ATTR&&($===q&&($=rt($)),tt($,e.ADD_ATTR,De)),e.ADD_URI_SAFE_ATTR&&tt(ve,e.ADD_URI_SAFE_ATTR,De),e.FORBID_CONTENTS&&(pe===me&&(pe=rt(pe)),tt(pe,e.FORBID_CONTENTS,De)),ce&&(B["#text"]=!0),ne&&tt(B,["html","head","body"]),B.table&&(tt(B,["tbody"]),delete Y.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw Qe('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw Qe('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');r=e.TRUSTED_TYPES_POLICY,C=r.createHTML("")}else void 0===r&&(r=function(e,t){if("object"!==p(e)||"function"!=typeof e.createPolicy)return null;var n=null,r="data-tt-policy-suffix";t&&t.hasAttribute(r)&&(n=t.getAttribute(r));var a="dompurify"+(n?"#"+n:"");try{return e.createPolicy(a,{createHTML:function(e){return e},createScriptURL:function(e){return e}})}catch(i){return console.warn("TrustedTypes policy "+a+" could not be created."),null}}(b,o)),null!==r&&"string"==typeof C&&(C=r.createHTML(""));Re&&Re(e),Me=e}},Ve=tt({},[].concat(v(ot),v(st),v(lt))),et=tt({},[].concat(v(ut),v(ct))),nt=function(e){Be(n.removed,{element:e});try{N(e).removeChild(e)}catch(t){w(e)}},gt=function(e,t){try{Be(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(r){Be(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e)if(ie||oe)try{nt(t)}catch(r){}else try{t.setAttribute(e,"")}catch(r){}},vt=function(e){var t=null,n=null;if(ae)e="<remove></remove>"+e;else{var i=Ge(e,/^[\r\n\t ]+/);n=i&&i[0]}"application/xhtml+xml"===Te&&ke===we&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var o=r?r.createHTML(e):e;if(ke===we)try{t=(new g).parseFromString(o,Te)}catch(l){}if(!t||!t.documentElement){t=E.createDocument(ke,"template",null);try{t.documentElement.innerHTML=Se?C:o}catch(l){}}var s=t.body||t.documentElement;return e&&n&&s.insertBefore(a.createTextNode(n),s.childNodes[0]||null),ke===we?I.call(t,ne?"html":"body")[0]:ne?t.documentElement:s},bt=function(e){return j.call(e.ownerDocument||e,e,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},yt=function(e){return e instanceof h&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof m)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},xt=function(e){return"function"==typeof u&&e instanceof u};function kt(e,t,r){Ue(e,function(e){e.call(n,t,r,Me)})}var St=function(e){var t=null;if(kt(R.beforeSanitizeElements,e,null),yt(e))return nt(e),!0;var r=De(e.nodeName);if(kt(R.uponSanitizeElement,e,{tagName:r,allowedTags:B}),te&&e.hasChildNodes()&&!xt(e.firstElementChild)&&Je(/<[/\w!]/g,e.innerHTML)&&Je(/<[/\w!]/g,e.textContent))return nt(e),!0;if(e.nodeType===jt)return nt(e),!0;if(te&&e.nodeType===Tt&&Je(/<[/\w]/g,e.data))return nt(e),!0;if(!B[r]||Y[r]){if(!Y[r]&&Rt(r)){if(G.tagNameCheck instanceof RegExp&&Je(G.tagNameCheck,r))return!1;if(G.tagNameCheck instanceof Function&&G.tagNameCheck(r))return!1}if(ce&&!pe[r]){var a=N(e)||e.parentNode,i=S(e)||e.childNodes;if(i&&a)for(var o=i.length-1;o>=0;--o){var s=x(i[o],!0);s.__removalCount=(e.__removalCount||0)+1,a.insertBefore(s,k(e))}}return nt(e),!0}return e instanceof c&&!function(e){var t=N(e);t&&t.tagName||(t={namespaceURI:ke,tagName:"template"});var n=$e(e.tagName),r=$e(t.tagName);return!!Ne[e.namespaceURI]&&(e.namespaceURI===xe?t.namespaceURI===we?"svg"===n:t.namespaceURI===ye?"svg"===n&&("annotation-xml"===r||Ce[r]):Boolean(Ve[n]):e.namespaceURI===ye?t.namespaceURI===we?"math"===n:t.namespaceURI===xe?"math"===n&&_e[r]:Boolean(et[n]):e.namespaceURI===we?!(t.namespaceURI===xe&&!_e[r])&&!(t.namespaceURI===ye&&!Ce[r])&&!et[n]&&(je[n]||!Ve[n]):!("application/xhtml+xml"!==Te||!Ne[e.namespaceURI]))}(e)?(nt(e),!0):"noscript"!==r&&"noembed"!==r&&"noframes"!==r||!Je(/<\/no(script|embed|frames)/i,e.innerHTML)?(ee&&e.nodeType===Et&&(t=e.textContent,Ue([M,A,L],function(e){t=Ye(t,e," ")}),e.textContent!==t&&(Be(n.removed,{element:e.cloneNode()}),e.textContent=t)),kt(R.afterSanitizeElements,e,null),!1):(nt(e),!0)},Ot=function(e,t,n){if(le&&("id"===t||"name"===t)&&(n in a||n in Le))return!1;if(Z&&!K[t]&&Je(P,t));else if(X&&Je(F,t));else if(!$[t]||K[t]){if(!(Rt(e)&&(G.tagNameCheck instanceof RegExp&&Je(G.tagNameCheck,e)||G.tagNameCheck instanceof Function&&G.tagNameCheck(e))&&(G.attributeNameCheck instanceof RegExp&&Je(G.attributeNameCheck,t)||G.attributeNameCheck instanceof Function&&G.attributeNameCheck(t))||"is"===t&&G.allowCustomizedBuiltInElements&&(G.tagNameCheck instanceof RegExp&&Je(G.tagNameCheck,n)||G.tagNameCheck instanceof Function&&G.tagNameCheck(n))))return!1}else if(ve[t]);else if(Je(z,Ye(n,U,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==Ke(n,"data:")||!he[e]){if(J&&!Je(V,Ye(n,U,"")));else if(n)return!1}else;return!0},Rt=function(e){return"annotation-xml"!==e&&Ge(e,H)},Mt=function(e){kt(R.beforeSanitizeAttributes,e,null);var t=e.attributes;if(t&&!yt(e)){for(var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:$,forceKeepAttr:void 0},i=t.length,o=function(){var o=t[i],s=o.name,l=o.namespaceURI,u=o.value,c=De(s),d=u,f="value"===s?d:Xe(d);if(a.attrName=c,a.attrValue=f,a.keepAttr=!0,a.forceKeepAttr=void 0,kt(R.uponSanitizeAttribute,e,a),f=a.attrValue,!ue||"id"!==c&&"name"!==c||(gt(s,e),f="user-content-"+f),te&&Je(/((--!?|])>)|<\/(style|title)/i,f))return gt(s,e),0;if(a.forceKeepAttr)return 0;if(!a.keepAttr)return gt(s,e),0;if(!Q&&Je(/\/>/i,f))return gt(s,e),0;ee&&Ue([M,A,L],function(e){f=Ye(f,e," ")});var m=De(e.nodeName);if(!Ot(m,c,f))return gt(s,e),0;if(r&&"object"===p(b)&&"function"==typeof b.getAttributeType)if(l);else switch(b.getAttributeType(m,c)){case"TrustedHTML":f=r.createHTML(f);break;case"TrustedScriptURL":f=r.createScriptURL(f)}if(f!==d)try{l?e.setAttributeNS(l,s,f):e.setAttribute(s,f),yt(e)?nt(e):ze(n.removed)}catch(h){gt(s,e)}};i--;)o();kt(R.afterSanitizeAttributes,e,null)}},At=function e(t){var n=null,r=bt(t);for(kt(R.beforeSanitizeShadowDOM,t,null);n=r.nextNode();)kt(R.uponSanitizeShadowNode,n,null),St(n),Mt(n),n.content instanceof s&&e(n.content);kt(R.afterSanitizeShadowDOM,t,null)};return n.sanitize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=null,o=null,l=null,c=null;if((Se=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!xt(e)){if("function"!=typeof e.toString)throw Qe("toString is not a function");if("string"!=typeof(e=e.toString()))throw Qe("dirty is not a string, aborting")}if(!n.isSupported)return e;if(re||Fe(t),n.removed=[],"string"==typeof e&&(de=!1),de){if(e.nodeName){var d=De(e.nodeName);if(!B[d]||Y[d])throw Qe("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof u)(o=(a=vt("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType===_t&&"BODY"===o.nodeName||"HTML"===o.nodeName?a=o:a.appendChild(o);else{if(!ie&&!ee&&!ne&&-1===e.indexOf("<"))return r&&se?r.createHTML(e):e;if(!(a=vt(e)))return ie?null:se?C:""}a&&ae&&nt(a.firstChild);for(var f=bt(de?e:a);l=f.nextNode();)St(l),Mt(l),l.content instanceof s&&At(l.content);if(de)return e;if(ie){if(oe)for(c=T.call(a.ownerDocument);a.firstChild;)c.appendChild(a.firstChild);else c=a;return($.shadowroot||$.shadowrootmode)&&(c=D.call(i,c,!0)),c}var p=ne?a.outerHTML:a.innerHTML;return ne&&B["!doctype"]&&a.ownerDocument&&a.ownerDocument.doctype&&a.ownerDocument.doctype.name&&Je(Nt,a.ownerDocument.doctype.name)&&(p="<!DOCTYPE "+a.ownerDocument.doctype.name+">\n"+p),ee&&Ue([M,A,L],function(e){p=Ye(p,e," ")}),r&&se?r.createHTML(p):p},n.setConfig=function(){Fe(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),re=!0},n.clearConfig=function(){Me=null,re=!1},n.isValidAttribute=function(e,t,n){Me||Fe({});var r=De(e),a=De(t);return Ot(r,a,n)},n.addHook=function(e,t){"function"==typeof t&&Be(R[e],t)},n.removeHook=function(e,t){if(void 0!==t){var n=He(R[e],t);return-1===n?void 0:We(R[e],n,1)[0]}return ze(R[e])},n.removeHooks=function(e){R[e]=[]},n.removeAllHooks=function(){R={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},n}();Rt||(Rt=1,Mt=window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={}),(At=Mt.ru=Mt.ru||{}).dictionary=Object.assign(At.dictionary||{},{"(may require <kbd>Fn</kbd>)":"(может требовать <kbd>Fn</kbd>)","%0 of %1":"%0 из %1",Accept:"Принять",Accessibility:"Доступность","Accessibility help":"Помощь по специальным возможностям","Align cell text to the bottom":"Выровнять текст ячейки по нижнему краю","Align cell text to the center":"Выровнять текст по центру","Align cell text to the left":"Выровнять текст по левому краю","Align cell text to the middle":"Выровнять текст ячейки по центру","Align cell text to the right":"Выровнять текст по правому краю","Align cell text to the top":"Выровнять текст ячейки по верхнему краю","Align table to the left":"Выровнять таблицу по левому краю","Align table to the right":"Выровнять таблицу по правому краю",Alignment:"Выравнивание",Aquamarine:"Аквамариновый",Background:"Фон","Below, you can find a list of keyboard shortcuts that can be used in the editor.":"Ниже вы можете найти список сочетаний клавиш, которые можно использовать в редакторе.",Black:"Чёрный","Block quote":"Цитата",Blue:"Синий",Bold:"Жирный","Bold text":"Жирный текст",Border:"Граница","Break text":"Разрывать текст","Bulleted List":"Маркированный список","Bulleted list styles toolbar":"Стили маркированного списка",Cancel:"Отмена","Cannot access default workspace.":"Не удается получить доступ к рабочему пространству по умолчанию.","Cannot determine a category for the uploaded file.":"Не удаётся определить категорию для загруженного файла.","Cannot upload file:":"Невозможно загрузить файл","Caption for image: %0":"Подпись к изображению: %0","Caption for the image":"Подпись к изображению","Cell properties":"Свойства ячейки","Center table":"Выровнять таблицу по центру","Centered image":"Выравнивание по центру","Change image text alternative":"Редактировать альтернативный текст","Choose heading":"Выбор стиля",Circle:"Окружность",Clear:"Очистить","Click to edit block":"Нажмите, чтобы редактировать блок",Close:"Закрыть","Close contextual balloons, dropdowns, and dialogs":"Закрыть контекстные всплывающие окна, раскрывающиеся списки и диалоговые окна.",Code:"Исходный код",Color:"Цвет","Color picker":"Выбор цвета",Column:"Столбец","Content editing keystrokes":"Клавиши для редактирования контента","Copy selected content":"Копировать выбранное содержание","Could not insert image at the current position.":"Нельзя вставить изображение на текущую позицию.","Could not obtain resized image URL.":"Не удалось получить URL с измененным размером изображения.","Create link":"Создать ссылку",Custom:"Другое","Custom image size":"Пользовательский размер изображения",Dashed:"Пунктирная",Decimal:"Десятичный","Decimal with leading zero":"Десятичный с ведущим нулем","Decrease indent":"Уменьшить отступ","Decrease list item indent":"Уменьшить отступ элемента списка","Delete column":"Удалить столбец","Delete row":"Удалить строку","Dim grey":"Тёмно-серый",Dimensions:"Размеры",Disc:"Диск",Dotted:"Точечная",Double:"Двойная",Downloadable:"Загружаемые","Drag to move":"Перетащить","Dropdown toolbar":"Выпадающая панель инструментов","Edit block":"Редактировать блок","Edit image":"Редактировать изображение","Edit link":"Редактировать ссылку","Editor block content toolbar":"Панель инструментов редактора","Editor contextual toolbar":"Контекстуальная панель инструментов редактора","Editor dialog":"Диалоговое окно редактора","Editor editing area: %0":"Область редактирования редактора: %0","Editor menu bar":"Панель меню редактора","Editor toolbar":"Панель инструментов редактора","Enter image caption":"Подпись к изображению","Enter table caption":"Подпись таблицы","Entering a to-do list":"Ввод списка текущих дел","Error during image upload":"Ошибка при загрузке изображения","Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.":"Активировать кнопку, находящуюся в фокусе. Активирование кнопок, которые взаимодействуют с содержимым редактора, перемещает фокус обратно на содержимое.","Failed to determine category of edited image.":"Не удалось определить категорию отредактированного изображения.","Full size image":"Оригинальный размер изображения",Green:"Зелёный",Grey:"Серый",Groove:"Желобчатая","Header column":"Столбец заголовков","Header row":"Строка заголовков",Heading:"Стиль","Heading 1":"Заголовок 1","Heading 2":"Заголовок 2","Heading 3":"Заголовок 3","Heading 4":"Заголовок 4","Heading 5":"Заголовок 5","Heading 6":"Заголовок 6",Height:"Высота","Help Contents. To close this dialog press ESC.":"Содержание справки. Чтобы закрыть это диалоговое окно, нажмите ESC.",HEX:"HEX","Horizontal text alignment toolbar":"Панель инструментов горизонтального выравнивания текста","Image from computer":"Изображение с компьютера","Image resize list":"Список размеров","Image toolbar":"Панель инструментов изображения","Image upload complete":"Загрузка изображения завершена","image widget":"Виджет изображений","In line":"В тексте","Increase indent":"Увеличить отступ","Increase list item indent":"Увеличить отступ элемента списка",Insert:"Вставить","Insert a hard break (a new paragraph)":"Вставить жесткий разрыв (новый абзац)","Insert a new paragraph directly after a widget":"Вставить новый абзац непосредственно после виджета.","Insert a new paragraph directly before a widget":"Вставить новый абзац непосредственно перед виджетом.","Insert a new table row (when in the last cell of a table)":"Вставить новую строку таблицы (в последней ячейке таблицы)","Insert a soft break (a <code>&lt;br&gt;</code> element)":"Вставить мягкий разрыв (элемент <code>&lt;br&gt;</code>)","Insert column left":"Вставить столбец слева","Insert column right":"Вставить столбец справа","Insert image":"Вставить изображение","Insert image via URL":"Вставить изображение по URL","Insert image with file manager":"Вставить изображение с помощью файлового менеджера","Insert media":"Вставить медиа","Insert paragraph after block":"Вставить параграф после блока","Insert paragraph before block":"Вставить параграф перед блоком","Insert row above":"Вставить строку выше","Insert row below":"Вставить строку ниже","Insert table":"Вставить таблицу","Insert with file manager":"Вставка с помощью файлового менеджера","Inserting image failed":"Вставка изображения не удалась",Inset:"Вдавленная","Invalid start index value.":"Недопустимое значение начального индекса.",Italic:"Курсив","Italic text":"Текст курсивом","Justify cell text":"Выровнять текст по ширине","Keystrokes that can be used in a list":"Нажатия клавиш, которые можно использовать в списке","Keystrokes that can be used in a table cell":"Нажатия клавиш, которые можно использовать в ячейке таблицы","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)":"Нажатия клавиш, которые можно использовать при выборе виджета (например: изображение, таблица и т. д.)","Leaving a to-do list":"Оставляем список текущих дел","Left aligned image":"Выравнивание по левому краю","Light blue":"Голубой","Light green":"Салатовый","Light grey":"Светло-серый",Link:"Ссылка","Link image":"Ссылка на изображение","Link URL":"Ссылка URL","Link URL must not be empty.":"URL-адрес ссылки не должен быть пустым.","List properties":"Свойства списка","Lower-latin":"Малые латинские","Lower–roman":"Малые римские","Media toolbar":"Панель инструментов медиа","Media URL":"URL медиа","media widget":"медиа-виджет",MENU_BAR_MENU_EDIT:"Редактировать",MENU_BAR_MENU_FILE:"Файл",MENU_BAR_MENU_FONT:"Шрифт",MENU_BAR_MENU_FORMAT:"Формат",MENU_BAR_MENU_HELP:"Помощь",MENU_BAR_MENU_INSERT:"Вставить",MENU_BAR_MENU_TEXT:"Текст",MENU_BAR_MENU_TOOLS:"Инструменты",MENU_BAR_MENU_VIEW:"Посмотреть","Merge cell down":"Объединить с ячейкой снизу","Merge cell left":"Объединить с ячейкой слева","Merge cell right":"Объединить с ячейкой справа","Merge cell up":"Объединить с ячейкой сверху","Merge cells":"Объединить ячейки","Move focus between form fields (inputs, buttons, etc.)":"Переместить фокус между полями формы (вводы, кнопки и т. д.)","Move focus in and out of an active dialog window":"Переместить фокус в активное диалоговое окно и обратно.","Move focus to the menu bar, navigate between menu bars":"Переместить фокус на панель меню, перемещаться между панелями меню","Move focus to the toolbar, navigate between toolbars":"Переместить фокус на панель инструментов, перемещаться между панелями инструментов","Move out of a link":"Выйти из ссылки","Move out of an inline code style":"Выйти из встроенного стиля кода","Move the caret to allow typing directly after a widget":"Переместить курсор, чтобы можно было вводить текст сразу после виджета.","Move the caret to allow typing directly before a widget":"Переместите курсор, чтобы можно было вводить текст непосредственно перед виджетом.","Move the selection to the next cell":"Переместить выделение в следующую ячейку","Move the selection to the previous cell":"Переместить выделение на предыдущую ячейку","Navigate through the table":"Навигация по таблице","Navigate through the toolbar or menu bar":"Перемещение по панели инструментов или панели меню",Next:"Следующий","No results found":"Результаты не найдены","No searchable items":"Нет элементов для поиска",None:"Нет","Numbered List":"Нумерованный список","Numbered list styles toolbar":"Стили нумерованного списка","Open file manager":"Открыть менеджер файлов","Open in a new tab":"Открыть в новой вкладке","Open link in new tab":"Открыть ссылку в новой вкладке","Open media in new tab":"Откройте медиа в новой вкладке","Open the accessibility help dialog":"Открыть диалоговое окно справки по специальным возможностям",Orange:"Оранжевый",Original:"Оригинальный",Outset:"Выпуклая",Padding:"Отступ",Paragraph:"Параграф","Paste content":"Вставить содержание","Paste content as plain text":"Вставить содержанрие в виде обычного текста","Paste the media URL in the input.":"Вставьте URL медиа в поле ввода.",'Please enter a valid color (e.g. "ff0000").':'Введите действительный цвет (например, "ff0000").',"Press %0 for help.":"Нажмите %0 для получения помощи.","Press Enter to type after or press Shift + Enter to type before the widget":"Нажмите Enter для ввода текста после виджета или нажмите Shift + Enter для ввода текста перед виджетом",Previous:"Предыдущий","Processing the edited image.":"Обработка отредактированного изображения.",Purple:"Фиолетовый",Red:"Красный",Redo:"Повторить","Remove color":"Убрать цвет","Replace from computer":"Заменить с компьютера","Replace image":"Заменить изображение","Replace image from computer":"Заменить изображение с компьютера","Replace image with file manager":"Заменить изображение с помощью файлового менеджера","Replace with file manager":"Заменить с помощью файлового менеджера","Resize image":"Изменить размер изображения","Resize image (in %0)":"Изменить размер изображения (в %0)","Resize image to %0":"Изменить размер изображения до %0","Resize image to the original size":"Вернуть размер изображения к оригинальному","Restore default":"По умолчанию","Reversed order":"Обратный порядок","Revert autoformatting action":"Отменить действие автоформатирования","Rich Text Editor":"Редактор",Ridge:"Ребристая","Right aligned image":"Выравнивание по правому краю",Row:"Строка",Save:"Сохранить","Select all":"Выбрать все","Select column":"Выбрать столбец","Select row":"Выбрать строку","Selecting resized image failed":"Выбор изображения с измененным размером не удался","Server failed to process the image.":"Серверу не удалось обработать изображение.","Show more items":"Другие инструменты","Side image":"Боковое изображение",Solid:"Сплошная","Split cell horizontally":"Разделить ячейку горизонтально","Split cell vertically":"Разделить ячейку вертикально",Square:"Квадрат","Start at":"Начать с","Start index must be greater than 0.":"Начальный индекс должен быть больше 0.",Strikethrough:"Зачеркнутый","Strikethrough text":"Зачеркнутый текст",Style:"Стиль",Subscript:"Подстрочный",Superscript:"Надстрочный",Table:"Таблица","Table alignment toolbar":"Панель инструментов выравнивания таблицы","Table cell text alignment":"Выравнивание текста в ячейке таблицы","Table properties":"Свойства таблицы","Table toolbar":"Панель инструментов таблицы","Text alternative":"Альтернативный текст",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'Неверный цвет. Попробуйте "#FF0000" или "rgb(255,0,0)" или "red".',"The URL must not be empty.":"URL не должен быть пустым.",'The value is invalid. Try "10px" or "2em" or simply "2".':'Неверное значение. Попробуйте "10px" или "2em" или просто "2".',"The value must not be empty.":"Значение не должно быть пустым.","The value should be a plain number.":"Значение должно быть простым числом.","These keyboard shortcuts allow for quick access to content editing features.":"Эти сочетания клавиш обеспечивают быстрый доступ к функциям редактирования контента.","This link has no URL":"Для этой ссылки не установлен адрес URL","This media URL is not supported.":"Этот URL медиа не поддерживается.","Tip: Paste the URL into the content to embed faster.":"Подсказка: Вставьте URL в контент для быстрого включения.","To-do List":"Список задач","Toggle caption off":"Выключить описание","Toggle caption on":"Включить описание","Toggle the circle list style":"Переключить на стиль списка с маркерами в виде незакрашенного кружка","Toggle the decimal list style":"Переключить на стиль списка с цифровыми маркерами","Toggle the decimal with leading zero list style":"Переключить на стиль списка с маркерами в виде цифр с нулем в начале","Toggle the disc list style":"Переключить на стиль списка с маркерами в виде закрашенного кружка","Toggle the lower–latin list style":"Переключить на стиль списка с маркерами в виде строчных латинских букв","Toggle the lower–roman list style":"Переключить на стиль списка с маркерами в виде строчных римских цифр","Toggle the square list style":"Переключить на стиль списка с квадратными маркерами","Toggle the upper–latin list style":"Переключить на стиль списка с маркерами в виде заглавных латинских букв","Toggle the upper–roman list style":"Переключить на стиль списка с маркерами в виде заглавных римских цифр",Turquoise:"Бирюзовый","Type or paste your content here.":"Введите или вставьте сюда ваш текст","Type your title":"Введите заголовок",Underline:"Подчеркнутый","Underline text":"Подчеркнутый текст",Undo:"Отменить",Unlink:"Убрать ссылку",Update:"Изменить","Update image URL":"Изменить URL изображения","Upload failed":"Загрузка не выполнена","Upload from computer":"Загрузить с компьютера","Upload image from computer":"Загрузить изображение с компьютера","Upload in progress":"Идёт загрузка","Uploading image":"Загрузка изображения","Upper-latin":"Большие латинские","Upper-roman":"Большие римские","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.":"Использовать следующие сочетания клавиш для более эффективной навигации в пользовательском интерфейсе CKEditor 5.","User interface and content navigation keystrokes":"Пользовательский интерфейс и клавиши навигации по контенту","Vertical text alignment toolbar":"Панель инструментов вертикального выравнивания текста",White:"Белый","Widget toolbar":"Панель инструментов виджета",Width:"Ширина","Wrap text":"Обтекать текст",Yellow:"Жёлтый"}),At.getPluralForm=function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<12||e%100>14)?1:e%10==0||e%10>=5&&e%10<=9||e%100>=11&&e%100<=14?2:3}),f();var Pt={"image/png":".png","image/jpeg":".jpg","image/jpg":".jpg","image/gif":".gif","image/webp":".webp","image/bmp":".bmp","image/svg+xml":".svg","image/heic":".heic","image/heif":".heif"};function Ft(e){var t,n="string"==typeof e.name?e.name.trim():"",r=n.toLowerCase();if(/\.[0-9a-z_-]{1,16}$/.test(r))return n;var a="string"==typeof e.type?e.type.toLowerCase():"",i=null!==(t=Pt[a])&&void 0!==t?t:".png",o=n.replace(/\.[^./\\]+$/,"").replace(/[^0-9a-z_-]+/gi,"-").replace(/-+/g,"-").replace(/^-|-$/g,"");return"".concat(o||"image").concat(i)}var Vt=function(){return c(function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),d(this,"loader",void 0),d(this,"controller",new AbortController),d(this,"onError",void 0),this.loader=t,this.onError=n},[{key:"upload",value:(e=l(i().m(function e(){var t,n,r,a,o,s,l,u,c;return i().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,this.loader.file;case 1:if(t=e.v){e.n=2;break}throw new Error("Файл не выбран");case 2:return(n=new FormData).append("upload",t,Ft(t)),e.n=3,I("/api/v1/tasks/upload-inline",{method:"POST",body:n,signal:this.controller.signal});case 3:if((r=e.v).ok){e.n=11;break}return a="Не удалось загрузить файл",e.p=4,e.n=5,r.clone().json();case 5:null!=(o=e.v)&&o.error&&(a=o.error),e.n=10;break;case 6:return e.p=6,e.v,e.p=7,e.n=8,r.text();case 8:(s=e.v).trim()&&(a=s.trim()),e.n=10;break;case 9:e.p=9,e.v;case 10:throw new Error(a);case 11:return e.n=12,r.json();case 12:if(null!=(l=e.v)&&l.url){e.n=13;break}throw new Error("Сервер не вернул ссылку на файл");case 13:return e.a(2,{default:l.url});case 14:throw e.p=14,(c=e.v)instanceof Error&&(null===(u=this.onError)||void 0===u||u.call(this,c.message)),c;case 15:return e.a(2)}},e,this,[[7,9],[4,6],[0,14]])})),function(){return e.apply(this,arguments)})},{key:"abort",value:function(){this.controller.abort()}}]);var e}(),Ut=w.lazy(l(i().m(function e(){var t,n,r,l;return i().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,Promise.all([u(function(){return o.import("./index-legacy-CR1ktOk6.js").then(function(e){return e.i})},void 0),u(function(){return o.import("./ckeditor-legacy-B9hFOZdh.js").then(function(e){return e.c})},void 0)]);case 1:return t=e.v,n=m(t,2),r=n[0].CKEditor,l=n[1].default,e.a(2,{default:function(e){return s.jsx(r,a({editor:l},e))}})}},e)})));function Ht(e){var t=e.value,n=e.onChange,r=e.readOnly,a=m(y.useState(!1),2),i=a[0],o=a[1],l=m(y.useState(t),2),u=l[0],c=l[1],d=y.useMemo(function(){return t?Lt.sanitize(t):""},[t]),f=y.useMemo(function(){return function(e){var t=e.plugins.get("FileRepository");t&&(t.createUploadAdapter=function(e){return new Vt(e,function(e){return E(e,"error")})})}},[]),p=y.useMemo(function(){return{language:{ui:"ru",content:"ru"},toolbar:["undo","redo","|","heading","|","bold","italic","link","bulletedList","numberedList","|","blockQuote","insertTable","uploadImage","mediaEmbed"],image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},placeholder:"Опишите задачу, добавьте изображения, ссылки или форматирование…",extraPlugins:[f],link:{decorators:{openInNewTab:{mode:"manual",label:"Открывать в новой вкладке",defaultValue:!0,attributes:{target:"_blank",rel:"noopener noreferrer"}}}}}},[f]);return w.useEffect(function(){i||c(t)},[i,t]),r?s.jsx("div",{className:"rounded-md border border-slate-200 bg-slate-50 px-3 py-2",children:s.jsx("div",{className:"ql-snow",dangerouslySetInnerHTML:{__html:d}})}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{role:"button",tabIndex:0,onClick:function(){c(t),o(!0)},onKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),c(t),o(!0))},className:"group rounded-2xl border border-slate-200 bg-white shadow-sm transition hover:-translate-y-0.5 hover:shadow-md focus:outline-none focus:ring focus:ring-indigo-200",children:[s.jsxs("div",{className:"flex items-center justify-between border-b border-slate-200 bg-gradient-to-r from-indigo-50 via-white to-white px-3 py-2 text-[11px] font-semibold uppercase tracking-wide text-slate-500",children:[s.jsxs("span",{className:"flex items-center gap-1 text-indigo-600",children:[s.jsx(ye,{className:"h-4 w-4"})," Расширенный редактор"]}),s.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-indigo-100 px-2 py-1 text-[10px] font-medium text-indigo-700",children:[s.jsx(Q,{className:"h-3 w-3"})," Drag & Drop"]})]}),s.jsx("div",{className:"px-4 py-3 text-sm leading-relaxed text-slate-700",children:d?s.jsx("div",{className:"prose prose-sm max-w-none",dangerouslySetInnerHTML:{__html:d}}):s.jsxs("p",{className:"flex items-center gap-2 text-slate-400",children:[s.jsx(Q,{className:"h-5 w-5"})," Добавьте описание, изображения или форматированный текст"]})}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 border-t border-slate-200 bg-slate-50 px-3 py-2",children:[s.jsx("span",{className:"hidden text-xs text-slate-500 sm:block",children:"Поддерживает списки, таблицы, изображения и ссылки."}),s.jsxs("div",{className:"flex flex-wrap gap-2 sm:flex-nowrap",children:[t&&s.jsx(j,{type:"button",variant:"outline",size:"xs",className:"gap-1",onClick:function(e){e.stopPropagation(),null==n||n("")},children:"Очистить"}),s.jsx(j,{type:"button",variant:"default",size:"xs",onClick:function(){c(t),o(!0)},children:"Открыть редактор"})]})]})]}),i&&s.jsx(T,{open:!0,onClose:function(){return o(!1)},children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between gap-3",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"Редактирование текста"}),s.jsx("p",{className:"text-xs text-slate-500",children:"Добавляйте изображения, таблицы, списки и ссылки — всё сохраняется автоматически."})]})}),s.jsx(w.Suspense,{fallback:s.jsx("div",{className:"flex h-64 items-center justify-center text-slate-500",children:"Загрузка редактора…"}),children:s.jsx(Ut,{data:u,config:p,onReady:function(e){var t=e.editing.view.document.getRoot();e.editing.view.change(function(e){t&&e.setStyle("min-height","320px",t)})},onChange:function(e,t){return c(t.getData())}})}),s.jsxs("div",{className:"flex flex-wrap justify-end gap-2",children:[s.jsx(j,{type:"button",variant:"outline",onClick:function(){return o(!1)},children:"Отмена"}),s.jsx(j,{type:"button",variant:"default",onClick:function(){null==n||n(u),o(!1)},children:"Сохранить"})]})]})})]})}function zt(e){return zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zt(e)}function Bt(e){var t=function(e,t){if("object"!=zt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=zt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zt(t)?t:t+""}function Wt(e,t,n){return(t=Bt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(Object(n),!0).forEach(function(t){Wt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Gt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Yt(e,t){if(e){if("string"==typeof e)return Gt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gt(e,t):void 0}}function Kt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,i,o,s=[],l=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}(e,t)||Yt(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xt(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Zt=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function Jt(){return r("_",Jt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),Jt.apply(null,arguments)}function Qt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bt(r.key),r)}}function en(e,t){return en=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},en(e,t)}function tn(e){return tn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tn(e)}function nn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(nn=function(){return!!e})()}function rn(e,t){if(t&&("object"==zt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function an(e){return function(e){if(Array.isArray(e))return Gt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Yt(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var on=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(Mt){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach(function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)}),this.tags=[],this.ctr=0},e}(),sn="-ms-",ln="-moz-",un="-webkit-",cn="comm",dn="rule",fn="decl",pn="@keyframes",mn=Math.abs,hn=String.fromCharCode,gn=Object.assign;function vn(e){return e.trim()}function bn(e,t,n){return e.replace(t,n)}function yn(e,t){return e.indexOf(t)}function xn(e,t){return 0|e.charCodeAt(t)}function wn(e,t,n){return e.slice(t,n)}function kn(e){return e.length}function Sn(e){return e.length}function Nn(e,t){return t.push(e),e}var On=1,Cn=1,_n=0,En=0,jn=0,Tn="";function In(e,t,n,r,a,i,o){return{value:e,root:t,parent:n,type:r,props:a,children:i,line:On,column:Cn,length:o,return:""}}function Dn(e,t){return gn(In("",null,null,"",null,null,0),e,{length:-e.length},t)}function Rn(){return jn=En>0?xn(Tn,--En):0,Cn--,10===jn&&(Cn=1,On--),jn}function Mn(){return jn=En<_n?xn(Tn,En++):0,Cn++,10===jn&&(Cn=1,On++),jn}function An(){return xn(Tn,En)}function Ln(){return En}function Pn(e,t){return wn(Tn,e,t)}function Fn(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Vn(e){return On=Cn=1,_n=kn(Tn=e),En=0,[]}function Un(e){return Tn="",e}function Hn(e){return vn(Pn(En-1,Wn(91===e?e+2:40===e?e+1:e)))}function zn(e){for(;(jn=An())&&jn<33;)Mn();return Fn(e)>2||Fn(jn)>3?"":" "}function Bn(e,t){for(;--t&&Mn()&&!(jn<48||jn>102||jn>57&&jn<65||jn>70&&jn<97););return Pn(e,Ln()+(t<6&&32==An()&&32==Mn()))}function Wn(e){for(;Mn();)switch(jn){case e:return En;case 34:case 39:34!==e&&39!==e&&Wn(jn);break;case 40:41===e&&Wn(e);break;case 92:Mn()}return En}function $n(e,t){for(;Mn()&&e+jn!==57&&(e+jn!==84||47!==An()););return"/*"+Pn(t,En-1)+"*"+hn(47===e?e:Mn())}function qn(e){for(;!Fn(An());)Mn();return Pn(e,En)}function Gn(e){return Un(Yn("",null,null,null,[""],e=Vn(e),0,[0],e))}function Yn(e,t,n,r,a,i,o,s,l){for(var u=0,c=0,d=o,f=0,p=0,m=0,h=1,g=1,v=1,b=0,y="",x=a,w=i,k=r,S=y;g;)switch(m=b,b=Mn()){case 40:if(108!=m&&58==xn(S,d-1)){-1!=yn(S+=bn(Hn(b),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:S+=Hn(b);break;case 9:case 10:case 13:case 32:S+=zn(m);break;case 92:S+=Bn(Ln()-1,7);continue;case 47:switch(An()){case 42:case 47:Nn(Xn($n(Mn(),Ln()),t,n),l);break;default:S+="/"}break;case 123*h:s[u++]=kn(S)*v;case 125*h:case 59:case 0:switch(b){case 0:case 125:g=0;case 59+c:-1==v&&(S=bn(S,/\f/g,"")),p>0&&kn(S)-d&&Nn(p>32?Zn(S+";",r,n,d-1):Zn(bn(S," ","")+";",r,n,d-2),l);break;case 59:S+=";";default:if(Nn(k=Kn(S,t,n,u,c,a,s,y,x=[],w=[],d),i),123===b)if(0===c)Yn(S,t,k,k,x,i,d,s,w);else switch(99===f&&110===xn(S,3)?100:f){case 100:case 108:case 109:case 115:Yn(e,k,k,r&&Nn(Kn(e,k,k,0,0,a,s,y,a,x=[],d),w),a,w,d,s,r?x:w);break;default:Yn(S,k,k,k,[""],w,0,s,w)}}u=c=p=0,h=v=1,y=S="",d=o;break;case 58:d=1+kn(S),p=m;default:if(h<1)if(123==b)--h;else if(125==b&&0==h++&&125==Rn())continue;switch(S+=hn(b),b*h){case 38:v=c>0?1:(S+="\f",-1);break;case 44:s[u++]=(kn(S)-1)*v,v=1;break;case 64:45===An()&&(S+=Hn(Mn())),f=An(),c=d=kn(y=S+=qn(Ln())),b++;break;case 45:45===m&&2==kn(S)&&(h=0)}}return i}function Kn(e,t,n,r,a,i,o,s,l,u,c){for(var d=a-1,f=0===a?i:[""],p=Sn(f),m=0,h=0,g=0;m<r;++m)for(var v=0,b=wn(e,d+1,d=mn(h=o[m])),y=e;v<p;++v)(y=vn(h>0?f[v]+" "+b:bn(b,/&\f/g,f[v])))&&(l[g++]=y);return In(e,t,n,0===a?dn:s,l,u,c)}function Xn(e,t,n){return In(e,t,n,cn,hn(jn),wn(e,2,-2),0)}function Zn(e,t,n,r){return In(e,t,n,fn,wn(e,0,r),wn(e,r+1,-1),r)}function Jn(e,t){for(var n="",r=Sn(e),a=0;a<r;a++)n+=t(e[a],a,e,t)||"";return n}function Qn(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case fn:return e.return=e.return||e.value;case cn:return"";case pn:return e.return=e.value+"{"+Jn(e.children,r)+"}";case dn:e.value=e.props.join(",")}return kn(n=Jn(e.children,r))?e.return=e.value+"{"+n+"}":""}function er(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var tr=function(e,t,n){for(var r=0,a=0;r=a,a=An(),38===r&&12===a&&(t[n]=1),!Fn(a);)Mn();return Pn(e,En)},nr=function(e,t){return Un(function(e,t){var n=-1,r=44;do{switch(Fn(r)){case 0:38===r&&12===An()&&(t[n]=1),e[n]+=tr(En-1,t,n);break;case 2:e[n]+=Hn(r);break;case 4:if(44===r){e[++n]=58===An()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=hn(r)}}while(r=Mn());return e}(Vn(e),t))},rr=new WeakMap,ar=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||rr.get(n))&&!r){rr.set(e,!0);for(var a=[],i=nr(t,a),o=n.props,s=0,l=0;s<i.length;s++)for(var u=0;u<o.length;u++,l++)e.props[l]=a[s]?i[s].replace(/&\f/g,o[u]):o[u]+" "+i[s]}}},ir=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function or(e,t){switch(function(e,t){return 45^xn(e,0)?(((t<<2^xn(e,0))<<2^xn(e,1))<<2^xn(e,2))<<2^xn(e,3):0}(e,t)){case 5103:return un+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return un+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return un+e+ln+e+sn+e+e;case 6828:case 4268:return un+e+sn+e+e;case 6165:return un+e+sn+"flex-"+e+e;case 5187:return un+e+bn(e,/(\w+).+(:[^]+)/,un+"box-$1$2"+sn+"flex-$1$2")+e;case 5443:return un+e+sn+"flex-item-"+bn(e,/flex-|-self/,"")+e;case 4675:return un+e+sn+"flex-line-pack"+bn(e,/align-content|flex-|-self/,"")+e;case 5548:return un+e+sn+bn(e,"shrink","negative")+e;case 5292:return un+e+sn+bn(e,"basis","preferred-size")+e;case 6060:return un+"box-"+bn(e,"-grow","")+un+e+sn+bn(e,"grow","positive")+e;case 4554:return un+bn(e,/([^-])(transform)/g,"$1"+un+"$2")+e;case 6187:return bn(bn(bn(e,/(zoom-|grab)/,un+"$1"),/(image-set)/,un+"$1"),e,"")+e;case 5495:case 3959:return bn(e,/(image-set\([^]*)/,un+"$1$`$1");case 4968:return bn(bn(e,/(.+:)(flex-)?(.*)/,un+"box-pack:$3"+sn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+un+e+e;case 4095:case 3583:case 4068:case 2532:return bn(e,/(.+)-inline(.+)/,un+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(kn(e)-1-t>6)switch(xn(e,t+1)){case 109:if(45!==xn(e,t+4))break;case 102:return bn(e,/(.+:)(.+)-([^]+)/,"$1"+un+"$2-$3$1"+ln+(108==xn(e,t+3)?"$3":"$2-$3"))+e;case 115:return~yn(e,"stretch")?or(bn(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==xn(e,t+1))break;case 6444:switch(xn(e,kn(e)-3-(~yn(e,"!important")&&10))){case 107:return bn(e,":",":"+un)+e;case 101:return bn(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+un+(45===xn(e,14)?"inline-":"")+"box$3$1"+un+"$2$3$1"+sn+"$2box$3")+e}break;case 5936:switch(xn(e,t+11)){case 114:return un+e+sn+bn(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return un+e+sn+bn(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return un+e+sn+bn(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return un+e+sn+e+e}return e}var sr,lr,ur,cr,dr=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case fn:e.return=or(e.value,e.length);break;case pn:return Jn([Dn(e,{value:bn(e.value,"@","@"+un)})],r);case dn:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Jn([Dn(e,{props:[bn(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Jn([Dn(e,{props:[bn(t,/:(plac\w+)/,":"+un+"input-$1")]}),Dn(e,{props:[bn(t,/:(plac\w+)/,":-moz-$1")]}),Dn(e,{props:[bn(t,/:(plac\w+)/,sn+"input-$1")]})],r)}return""})}}],fr=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))})}var r,a,i=e.stylisPlugins||dr,o={},s=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;s.push(e)});var l,u,c=[Qn,(u=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&u(e)})],d=function(e){var t=Sn(e);return function(n,r,a,i){for(var o="",s=0;s<t;s++)o+=e[s](n,r,a,i)||"";return o}}([ar,ir].concat(i,c));a=function(e,t,n,r){l=n,Jn(Gn(e?e+"{"+t.styles+"}":t.styles),d),r&&(f.inserted[t.name]=!0)};var f={key:t,sheet:new on({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return f.sheet.hydrate(s),f},pr={exports:{}},mr={};function hr(){return lr||(lr=1,pr.exports=function(){if(sr)return mr;sr=1;var e,t=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen");function g(e){if("object"===p(e)&&null!==e){var h=e.$$typeof;switch(h){case t:switch(e=e.type){case r:case i:case a:case c:case d:return e;default:switch(e=e&&e.$$typeof){case l:case s:case u:case m:case f:case o:return e;default:return h}}case n:return h}}}return e=Symbol.for("react.module.reference"),mr.ContextConsumer=s,mr.ContextProvider=o,mr.Element=t,mr.ForwardRef=u,mr.Fragment=r,mr.Lazy=m,mr.Memo=f,mr.Portal=n,mr.Profiler=i,mr.StrictMode=a,mr.Suspense=c,mr.SuspenseList=d,mr.isAsyncMode=function(){return!1},mr.isConcurrentMode=function(){return!1},mr.isContextConsumer=function(e){return g(e)===s},mr.isContextProvider=function(e){return g(e)===o},mr.isElement=function(e){return"object"===p(e)&&null!==e&&e.$$typeof===t},mr.isForwardRef=function(e){return g(e)===u},mr.isFragment=function(e){return g(e)===r},mr.isLazy=function(e){return g(e)===m},mr.isMemo=function(e){return g(e)===f},mr.isPortal=function(e){return g(e)===n},mr.isProfiler=function(e){return g(e)===i},mr.isStrictMode=function(e){return g(e)===a},mr.isSuspense=function(e){return g(e)===c},mr.isSuspenseList=function(e){return g(e)===d},mr.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===r||t===i||t===a||t===c||t===d||t===h||"object"===p(t)&&null!==t&&(t.$$typeof===m||t.$$typeof===f||t.$$typeof===o||t.$$typeof===s||t.$$typeof===u||t.$$typeof===e||void 0!==t.getModuleId)},mr.typeOf=g,mr}()),pr.exports}!function(){if(cr)return ur;cr=1;var e=hr(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function i(n){return e.isMemo(n)?r:a[n.$$typeof]||t}a[e.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[e.Memo]=r;var o=Object.defineProperty,s=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,d=Object.prototype;ur=function e(t,r,a){if("string"!=typeof r){if(d){var f=c(r);f&&f!==d&&e(t,f,a)}var p=s(r);l&&(p=p.concat(l(r)));for(var m=i(t),h=i(r),g=0;g<p.length;++g){var v=p[g];if(!(n[v]||a&&a[v]||h&&h[v]||m&&m[v])){var b=u(r,v);try{o(t,v,b)}catch(Mt){}}}}return t}}();var gr=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)};var vr={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},br=/[A-Z]|^ms/g,yr=/_EMO_([^_]+?)_([^]*?)_EMO_/g,xr=function(e){return 45===e.charCodeAt(1)},wr=function(e){return null!=e&&"boolean"!=typeof e},kr=er(function(e){return xr(e)?e:e.replace(br,"-$&").toLowerCase()}),Sr=function(e,t){switch(e){case"animation":case"animationName":if("string"==typeof t)return t.replace(yr,function(e,t,n){return Or={name:t,styles:n,next:Or},t})}return 1===vr[e]||xr(e)||"number"!=typeof t||0===t?t:t+"px"};function Nr(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(p(n)){case"boolean":return"";case"object":var a=n;if(1===a.anim)return Or={name:a.name,styles:a.styles,next:Or},a.name;var i=n;if(void 0!==i.styles){var o=i.next;if(void 0!==o)for(;void 0!==o;)Or={name:o.name,styles:o.styles,next:Or},o=o.next;return i.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var a=0;a<n.length;a++)r+=Nr(e,t,n[a])+";";else for(var i in n){var o=n[i];if("object"!==p(o)){var s=o;wr(s)&&(r+=kr(i)+":"+Sr(i,s)+";")}else if(Array.isArray(o)&&"string"==typeof o[0]&&null==t)for(var l=0;l<o.length;l++)wr(o[l])&&(r+=kr(i)+":"+Sr(i,o[l])+";");else{var u=Nr(e,t,o);switch(i){case"animation":case"animationName":r+=kr(i)+":"+u+";";break;default:r+=i+"{"+u+"}"}}}return r}(e,t,n);case"function":if(void 0!==e){var s=Or,l=n(e);return Or=s,Nr(e,t,l)}}return n}var Or,Cr=/label:\s*([^\s;{]+)\s*(;|$)/g;function _r(e,t,n){if(1===e.length&&"object"===p(e[0])&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,a="";Or=void 0;var i=e[0];null==i||void 0===i.raw?(r=!1,a+=Nr(n,t,i)):a+=i[0];for(var o=1;o<e.length;o++){if(a+=Nr(n,t,e[o]),r)a+=i[o]}Cr.lastIndex=0;for(var s,l="";null!==(s=Cr.exec(a));)l+="-"+s[1];var u=function(e){for(var t,n=0,r=0,a=e.length;a>=4;++r,a-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(a){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(a)+l;return{name:u,styles:a,next:Or}}var Er=!!k.useInsertionEffect&&k.useInsertionEffect||function(e){return e()},jr=y.createContext("undefined"!=typeof HTMLElement?fr({key:"css"}):null);jr.Provider;var Tr,Ir,Dr=function(e){return y.forwardRef(function(t,n){var r=y.useContext(jr);return e(t,r,n)})},Rr=y.createContext({}),Mr={}.hasOwnProperty,Ar="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Lr=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return gr(t,n,r),Er(function(){return function(e,t,n){gr(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+r:"",a,e.sheet,!0),a=a.next}while(void 0!==a)}}(t,n,r)}),null},Pr=Dr(function(e,t,n){var r=e.css;"string"==typeof r&&void 0!==t.registered[r]&&(r=t.registered[r]);var a=e[Ar],i=[r],o="";"string"==typeof e.className?o=function(e,t,n){var r="";return n.split(" ").forEach(function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")}),r}(t.registered,i,e.className):null!=e.className&&(o=e.className+" ");var s=_r(i,void 0,y.useContext(Rr));o+=t.key+"-"+s.name;var l={};for(var u in e)Mr.call(e,u)&&"css"!==u&&u!==Ar&&(l[u]=e[u]);return l.className=o,n&&(l.ref=n),y.createElement(y.Fragment,null,y.createElement(Lr,{cache:t,serialized:s,isStringTag:"string"==typeof a}),y.createElement(a,l))}),Fr=Pr,Vr=function(e,t){var n=arguments;if(null==t||!Mr.call(t,"css"))return y.createElement.apply(void 0,n);var r=n.length,a=new Array(r);a[0]=Fr,a[1]=function(e,t){var n={};for(var r in t)Mr.call(t,r)&&(n[r]=t[r]);return n[Ar]=e,n}(e,t);for(var i=2;i<r;i++)a[i]=n[i];return y.createElement.apply(null,a)};function Ur(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return _r(t)}Tr=Vr||(Vr={}),Ir||(Ir=Tr.JSX||(Tr.JSX={}));var Hr=y.useLayoutEffect,zr=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Br=function(){};function Wr(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function $r(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];var i=[].concat(r);if(t&&e)for(var o in t)t.hasOwnProperty(o)&&t[o]&&i.push("".concat(Wr(e,o)));return i.filter(function(e){return e}).map(function(e){return String(e).trim()}).join(" ")}var qr=function(e){return t=e,Array.isArray(t)?e.filter(Boolean):"object"===zt(e)&&null!==e?[e]:[];var t},Gr=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,qt({},Xt(e,zr))},Yr=function(e,t,n){var r=e.cx,a=e.getStyles,i=e.getClassNames,o=e.className;return{css:a(t,e),className:r(null!=n?n:{},i(t,e),o)}};function Kr(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function Xr(e){return Kr(e)?window.pageYOffset:e.scrollTop}function Zr(e,t){Kr(e)?window.scrollTo(0,t):e.scrollTop=t}function Jr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Br,a=Xr(e),i=t-a,o=0;!function t(){var s=function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}(o+=10,a,i,n);Zr(e,s),o<n?window.requestAnimationFrame(t):r(e)}()}function Qr(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),a=t.offsetHeight/3;r.bottom+a>n.bottom?Zr(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+a,e.scrollHeight)):r.top-a<n.top&&Zr(e,Math.max(t.offsetTop-a,0))}function ea(){try{return document.createEvent("TouchEvent"),!0}catch(Mt){return!1}}var ta=!1,na={get passive(){return ta=!0}},ra="undefined"!=typeof window?window:{};ra.addEventListener&&ra.removeEventListener&&(ra.addEventListener("p",Br,na),ra.removeEventListener("p",Br,!1));var aa=ta;function ia(e){return null!=e}function oa(e,t,n){return e?t:n}var sa=["children","innerProps"],la=["children","innerProps"];function ua(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,a=e.placement,i=e.shouldScroll,o=e.isFixedPosition,s=e.controlHeight,l=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var a=e;a=a.parentElement;)if(t=getComputedStyle(a),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return a;return document.documentElement}(n),u={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return u;var c,d=l.getBoundingClientRect().height,f=n.getBoundingClientRect(),p=f.bottom,m=f.height,h=f.top,g=n.offsetParent.getBoundingClientRect().top,v=o?window.innerHeight:Kr(c=l)?window.innerHeight:c.clientHeight,b=Xr(l),y=parseInt(getComputedStyle(n).marginBottom,10),x=parseInt(getComputedStyle(n).marginTop,10),w=g-x,k=v-h,S=w+b,N=d-b-h,O=p-v+b+y,C=b+h-x,_=160;switch(a){case"auto":case"bottom":if(k>=m)return{placement:"bottom",maxHeight:t};if(N>=m&&!o)return i&&Jr(l,O,_),{placement:"bottom",maxHeight:t};if(!o&&N>=r||o&&k>=r)return i&&Jr(l,O,_),{placement:"bottom",maxHeight:o?k-y:N-y};if("auto"===a||o){var E=t,j=o?w:S;return j>=r&&(E=Math.min(j-y-s,t)),{placement:"top",maxHeight:E}}if("bottom"===a)return i&&Zr(l,O),{placement:"bottom",maxHeight:t};break;case"top":if(w>=m)return{placement:"top",maxHeight:t};if(S>=m&&!o)return i&&Jr(l,C,_),{placement:"top",maxHeight:t};if(!o&&S>=r||o&&w>=r){var T=t;return(!o&&S>=r||o&&w>=r)&&(T=o?w-x:S-x),i&&Jr(l,C,_),{placement:"top",maxHeight:T}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return u}var ca,da=function(e){return"auto"===e?"bottom":e},fa=y.createContext(null),pa=function(e){var t=e.children,n=e.minMenuHeight,r=e.maxMenuHeight,a=e.menuPlacement,i=e.menuPosition,o=e.menuShouldScrollIntoView,s=e.theme,l=(y.useContext(fa)||{}).setPortalPlacement,u=y.useRef(null),c=Kt(y.useState(r),2),d=c[0],f=c[1],p=Kt(y.useState(null),2),m=p[0],h=p[1],g=s.spacing.controlHeight;return Hr(function(){var e=u.current;if(e){var t="fixed"===i,s=ua({maxHeight:r,menuEl:e,minHeight:n,placement:a,shouldScroll:o&&!t,isFixedPosition:t,controlHeight:g});f(s.maxHeight),h(s.placement),null==l||l(s.placement)}},[r,a,i,o,n,l,g]),t({ref:u,placerProps:qt(qt({},e),{},{placement:m||da(a),maxHeight:d})})},ma=function(e){var t=e.children,n=e.innerRef,r=e.innerProps;return Vr("div",Jt({},Yr(e,"menu",{menu:!0}),{ref:n},r),t)},ha=function(e,t){var n=e.theme,r=n.spacing.baseUnit,a=n.colors;return qt({textAlign:"center"},t?{}:{color:a.neutral40,padding:"".concat(2*r,"px ").concat(3*r,"px")})},ga=ha,va=ha,ba=["size"],ya=["innerProps","isRtl","size"],xa={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},wa=function(e){var t=e.size,n=Xt(e,ba);return Vr("svg",Jt({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:xa},n))},ka=function(e){return Vr(wa,Jt({size:20},e),Vr("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Sa=function(e){return Vr(wa,Jt({size:20},e),Vr("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Na=function(e,t){var n=e.isFocused,r=e.theme,a=r.spacing.baseUnit,i=r.colors;return qt({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?i.neutral60:i.neutral20,padding:2*a,":hover":{color:n?i.neutral80:i.neutral40}})},Oa=Na,Ca=Na,_a=function(){var e=Ur.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(ca||(ca=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"]))),Ea=function(e){var t=e.delay,n=e.offset;return Vr("span",{css:Ur({animation:"".concat(_a," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},ja=function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,a=e.innerRef,i=e.innerProps,o=e.menuIsOpen;return Vr("div",Jt({ref:a},Yr(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":r,"control--menu-is-open":o}),i,{"aria-disabled":n||void 0}),t)},Ta=["data"],Ia=function(e){var t=e.children,n=e.cx,r=e.getStyles,a=e.getClassNames,i=e.Heading,o=e.headingProps,s=e.innerProps,l=e.label,u=e.theme,c=e.selectProps;return Vr("div",Jt({},Yr(e,"group",{group:!0}),s),Vr(i,Jt({},o,{selectProps:c,theme:u,getStyles:r,getClassNames:a,cx:n}),l),Vr("div",null,t))},Da=["innerRef","isDisabled","isHidden","inputClassName"],Ra={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Ma={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":qt({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Ra)},Aa=function(e){return qt({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},Ra)},La=function(e){var t=e.children,n=e.innerProps;return Vr("div",n,t)};var Pa={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return Vr("div",Jt({},Yr(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||Vr(ka,null))},Control:ja,DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return Vr("div",Jt({},Yr(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||Vr(Sa,null))},DownChevron:Sa,CrossIcon:ka,Group:Ia,GroupHeading:function(e){var t=Gr(e);t.data;var n=Xt(t,Ta);return Vr("div",Jt({},Yr(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return Vr("div",Jt({},Yr(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return Vr("span",Jt({},t,Yr(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,n=e.value,r=Gr(e),a=r.innerRef,i=r.isDisabled,o=r.isHidden,s=r.inputClassName,l=Xt(r,Da);return Vr("div",Jt({},Yr(e,"input",{"input-container":!0}),{"data-value":n||""}),Vr("input",Jt({className:t({input:!0},s),ref:a,style:Aa(o),disabled:i},l)))},LoadingIndicator:function(e){var t=e.innerProps,n=e.isRtl,r=e.size,a=void 0===r?4:r,i=Xt(e,ya);return Vr("div",Jt({},Yr(qt(qt({},i),{},{innerProps:t,isRtl:n,size:a}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),Vr(Ea,{delay:0,offset:n}),Vr(Ea,{delay:160,offset:!0}),Vr(Ea,{delay:320,offset:!n}))},Menu:ma,MenuList:function(e){var t=e.children,n=e.innerProps,r=e.innerRef,a=e.isMulti;return Vr("div",Jt({},Yr(e,"menuList",{"menu-list":!0,"menu-list--is-multi":a}),{ref:r},n),t)},MenuPortal:function(e){var t=e.appendTo,n=e.children,r=e.controlElement,a=e.innerProps,i=e.menuPlacement,o=e.menuPosition,s=y.useRef(null),l=y.useRef(null),u=Kt(y.useState(da(i)),2),c=u[0],d=u[1],f=y.useMemo(function(){return{setPortalPlacement:d}},[]),p=Kt(y.useState(null),2),m=p[0],h=p[1],g=y.useCallback(function(){if(r){var e=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(r),t="fixed"===o?0:window.pageYOffset,n=e[c]+t;n===(null==m?void 0:m.offset)&&e.left===(null==m?void 0:m.rect.left)&&e.width===(null==m?void 0:m.rect.width)||h({offset:n,rect:e})}},[r,o,c,null==m?void 0:m.offset,null==m?void 0:m.rect.left,null==m?void 0:m.rect.width]);Hr(function(){g()},[g]);var v=y.useCallback(function(){"function"==typeof l.current&&(l.current(),l.current=null),r&&s.current&&(l.current=ee(r,s.current,g,{elementResize:"ResizeObserver"in window}))},[r,g]);Hr(function(){v()},[v]);var b=y.useCallback(function(e){s.current=e,v()},[v]);if(!t&&"fixed"!==o||!m)return null;var x=Vr("div",Jt({ref:b},Yr(qt(qt({},e),{},{offset:m.offset,position:o,rect:m.rect}),"menuPortal",{"menu-portal":!0}),a),n);return Vr(fa.Provider,{value:f},t?S.createPortal(x,t):x)},LoadingMessage:function(e){var t=e.children,n=void 0===t?"Loading...":t,r=e.innerProps,a=Xt(e,la);return Vr("div",Jt({},Yr(qt(qt({},a),{},{children:n,innerProps:r}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),r),n)},NoOptionsMessage:function(e){var t=e.children,n=void 0===t?"No options":t,r=e.innerProps,a=Xt(e,sa);return Vr("div",Jt({},Yr(qt(qt({},a),{},{children:n,innerProps:r}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),r),n)},MultiValue:function(e){var t=e.children,n=e.components,r=e.data,a=e.innerProps,i=e.isDisabled,o=e.removeProps,s=e.selectProps,l=n.Container,u=n.Label,c=n.Remove;return Vr(l,{data:r,innerProps:qt(qt({},Yr(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":i})),a),selectProps:s},Vr(u,{data:r,innerProps:qt({},Yr(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:s},t),Vr(c,{data:r,innerProps:qt(qt({},Yr(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},o),selectProps:s}))},MultiValueContainer:La,MultiValueLabel:La,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return Vr("div",Jt({role:"button"},n),t||Vr(ka,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,a=e.isSelected,i=e.innerRef,o=e.innerProps;return Vr("div",Jt({},Yr(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":r,"option--is-selected":a}),{ref:i,"aria-disabled":n},o),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return Vr("div",Jt({},Yr(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,r=e.isDisabled,a=e.isRtl;return Vr("div",Jt({},Yr(e,"container",{"--is-disabled":r,"--is-rtl":a}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,r=e.innerProps;return Vr("div",Jt({},Yr(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),r),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,r=e.isMulti,a=e.hasValue;return Vr("div",Jt({},Yr(e,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":a}),n),t)}},Fa=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function Va(e,t){return e===t||!(!Fa(e)||!Fa(t))}function Ua(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Va(e[n],t[n]))return!1;return!0}for(var Ha={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},za=function(e){return Vr("span",Jt({css:Ha},e))},Ba={guidance:function(e){var t=e.isSearchable,n=e.isMulti,r=e.tabSelectsValue,a=e.context,i=e.isInitialFocus;switch(a){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(r?", press Tab to select the option and exit the menu":"",".");case"input":return i?"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,r=void 0===n?"":n,a=e.labels,i=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(a.length>1?"s":""," ").concat(a.join(","),", selected.");case"select-option":return"option ".concat(r,i?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,r=e.options,a=e.label,i=void 0===a?"":a,o=e.selectValue,s=e.isDisabled,l=e.isSelected,u=e.isAppleDevice,c=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&o)return"value ".concat(i," focused, ").concat(c(o,n),".");if("menu"===t&&u){var d=s?" disabled":"",f="".concat(l?" selected":"").concat(d);return"".concat(i).concat(f,", ").concat(c(r,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},Wa=function(e){var t=e.ariaSelection,n=e.focusedOption,r=e.focusedValue,a=e.focusableOptions,i=e.isFocused,o=e.selectValue,s=e.selectProps,l=e.id,u=e.isAppleDevice,c=s.ariaLiveMessages,d=s.getOptionLabel,f=s.inputValue,p=s.isMulti,m=s.isOptionDisabled,h=s.isSearchable,g=s.menuIsOpen,v=s.options,b=s.screenReaderStatus,x=s.tabSelectsValue,w=s.isLoading,k=s["aria-label"],S=s["aria-live"],N=y.useMemo(function(){return qt(qt({},Ba),c||{})},[c]),O=y.useMemo(function(){var e,n="";if(t&&N.onChange){var r=t.option,a=t.options,i=t.removedValue,s=t.removedValues,l=t.value,u=i||r||(e=l,Array.isArray(e)?null:e),c=u?d(u):"",f=a||s||void 0,p=f?f.map(d):[],h=qt({isDisabled:u&&m(u,o),label:c,labels:p},t);n=N.onChange(h)}return n},[t,N,m,o,d]),C=y.useMemo(function(){var e="",t=n||r,i=!!(n&&o&&o.includes(n));if(t&&N.onFocus){var s={focused:t,label:d(t),isDisabled:m(t,o),isSelected:i,options:a,context:t===n?"menu":"value",selectValue:o,isAppleDevice:u};e=N.onFocus(s)}return e},[n,r,d,m,N,a,o,u]),_=y.useMemo(function(){var e="";if(g&&v.length&&!w&&N.onFilter){var t=b({count:a.length});e=N.onFilter({inputValue:f,resultsMessage:t})}return e},[a,f,g,N,v,b,w]),E="initial-input-focus"===(null==t?void 0:t.action),j=y.useMemo(function(){var e="";if(N.guidance){var t=r?"value":g?"menu":"input";e=N.guidance({"aria-label":k,context:t,isDisabled:n&&m(n,o),isMulti:p,isSearchable:h,tabSelectsValue:x,isInitialFocus:E})}return e},[k,n,r,p,m,h,g,N,o,x,E]),T=Vr(y.Fragment,null,Vr("span",{id:"aria-selection"},O),Vr("span",{id:"aria-focused"},C),Vr("span",{id:"aria-results"},_),Vr("span",{id:"aria-guidance"},j));return Vr(y.Fragment,null,Vr(za,{id:l},E&&T),Vr(za,{"aria-live":S,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},i&&!E&&T))},$a=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],qa=new RegExp("["+$a.map(function(e){return e.letters}).join("")+"]","g"),Ga={},Ya=0;Ya<$a.length;Ya++)for(var Ka=$a[Ya],Xa=0;Xa<Ka.letters.length;Xa++)Ga[Ka.letters[Xa]]=Ka.base;var Za=function(e){return e.replace(qa,function(e){return Ga[e]})},Ja=function(e,t){void 0===t&&(t=Ua);var n=null;function r(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var i=e.apply(this,r);return n={lastResult:i,lastArgs:r,lastThis:this},i}return r.clear=function(){n=null},r}(Za),Qa=function(e){return e.replace(/^\s+|\s+$/g,"")},ei=function(e){return"".concat(e.label," ").concat(e.value)},ti=["innerRef"];function ni(e){var t=e.innerRef,n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=Object.entries(e).filter(function(e){var t=Kt(e,1)[0];return!n.includes(t)});return a.reduce(function(e,t){var n=Kt(t,2),r=n[0],a=n[1];return e[r]=a,e},{})}(Xt(e,ti),"onExited","in","enter","exit","appear");return Vr("input",Jt({ref:t},n,{css:Ur({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var ri=["boxSizing","height","overflow","paddingRight","position"],ai={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function ii(e){e.cancelable&&e.preventDefault()}function oi(e){e.stopPropagation()}function si(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function li(){return"ontouchstart"in window||navigator.maxTouchPoints}var ui=!("undefined"==typeof window||!window.document||!window.document.createElement),ci=0,di={capture:!1,passive:!1};var fi=function(e){var t=e.target;return t.ownerDocument.activeElement&&t.ownerDocument.activeElement.blur()},pi={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function mi(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,a=function(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,a=e.onTopArrive,i=e.onTopLeave,o=y.useRef(!1),s=y.useRef(!1),l=y.useRef(0),u=y.useRef(null),c=y.useCallback(function(e,t){if(null!==u.current){var l=u.current,c=l.scrollTop,d=l.scrollHeight,f=l.clientHeight,p=u.current,m=t>0,h=d-f-c,g=!1;h>t&&o.current&&(r&&r(e),o.current=!1),m&&s.current&&(i&&i(e),s.current=!1),m&&t>h?(n&&!o.current&&n(e),p.scrollTop=d,g=!0,o.current=!0):!m&&-t>c&&(a&&!s.current&&a(e),p.scrollTop=0,g=!0,s.current=!0),g&&function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()}(e)}},[n,r,a,i]),d=y.useCallback(function(e){c(e,e.deltaY)},[c]),f=y.useCallback(function(e){l.current=e.changedTouches[0].clientY},[]),p=y.useCallback(function(e){var t=l.current-e.changedTouches[0].clientY;c(e,t)},[c]),m=y.useCallback(function(e){if(e){var t=!!aa&&{passive:!1};e.addEventListener("wheel",d,t),e.addEventListener("touchstart",f,t),e.addEventListener("touchmove",p,t)}},[p,f,d]),h=y.useCallback(function(e){e&&(e.removeEventListener("wheel",d,!1),e.removeEventListener("touchstart",f,!1),e.removeEventListener("touchmove",p,!1))},[p,f,d]);return y.useEffect(function(){if(t){var e=u.current;return m(e),function(){h(e)}}},[t,m,h]),function(e){u.current=e}}({isEnabled:void 0===r||r,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),i=function(e){var t=e.isEnabled,n=e.accountForScrollbars,r=void 0===n||n,a=y.useRef({}),i=y.useRef(null),o=y.useCallback(function(e){if(ui){var t=document.body,n=t&&t.style;if(r&&ri.forEach(function(e){var t=n&&n[e];a.current[e]=t}),r&&ci<1){var i=parseInt(a.current.paddingRight,10)||0,o=document.body?document.body.clientWidth:0,s=window.innerWidth-o+i||0;Object.keys(ai).forEach(function(e){var t=ai[e];n&&(n[e]=t)}),n&&(n.paddingRight="".concat(s,"px"))}t&&li()&&(t.addEventListener("touchmove",ii,di),e&&(e.addEventListener("touchstart",si,di),e.addEventListener("touchmove",oi,di))),ci+=1}},[r]),s=y.useCallback(function(e){if(ui){var t=document.body,n=t&&t.style;ci=Math.max(ci-1,0),r&&ci<1&&ri.forEach(function(e){var t=a.current[e];n&&(n[e]=t)}),t&&li()&&(t.removeEventListener("touchmove",ii,di),e&&(e.removeEventListener("touchstart",si,di),e.removeEventListener("touchmove",oi,di)))}},[r]);return y.useEffect(function(){if(t){var e=i.current;return o(e),function(){s(e)}}},[t,o,s]),function(e){i.current=e}}({isEnabled:n});return Vr(y.Fragment,null,n&&Vr("div",{onClick:fi,css:pi}),t(function(e){a(e),i(e)}))}var hi={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},gi=function(e){var t=e.name,n=e.onFocus;return Vr("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:hi,value:"",onChange:function(){}})};function vi(e){var t;return"undefined"!=typeof window&&null!=window.navigator&&e.test((null===(t=window.navigator.userAgentData)||void 0===t?void 0:t.platform)||window.navigator.platform)}function bi(){return vi(/^Mac/i)}function yi(){return vi(/^iPhone/i)||vi(/^iPad/i)||bi()&&navigator.maxTouchPoints>1}var xi,wi={clearIndicator:Ca,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,r=e.isFocused,a=e.theme,i=a.colors,o=a.borderRadius;return qt({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?i.neutral5:i.neutral0,borderColor:n?i.neutral10:r?i.primary:i.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(i.primary):void 0,"&:hover":{borderColor:r?i.primary:i.neutral30}})},dropdownIndicator:Oa,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,r=n.colors,a=n.spacing;return qt({label:"group",cursor:"default",display:"block"},t?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*a.baseUnit,paddingRight:3*a.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,r=e.theme,a=r.spacing.baseUnit,i=r.colors;return qt({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?i.neutral10:i.neutral20,marginBottom:2*a,marginTop:2*a})},input:function(e,t){var n=e.isDisabled,r=e.value,a=e.theme,i=a.spacing,o=a.colors;return qt(qt({visibility:n?"hidden":"visible",transform:r?"translateZ(0)":""},Ma),t?{}:{margin:i.baseUnit/2,paddingBottom:i.baseUnit/2,paddingTop:i.baseUnit/2,color:o.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,r=e.size,a=e.theme,i=a.colors,o=a.spacing.baseUnit;return qt({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?i.neutral60:i.neutral20,padding:2*o})},loadingMessage:va,menu:function(e,t){var n,r=e.placement,a=e.theme,i=a.borderRadius,o=a.spacing,s=a.colors;return qt((Wt(n={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(r),"100%"),Wt(n,"position","absolute"),Wt(n,"width","100%"),Wt(n,"zIndex",1),n),t?{}:{backgroundColor:s.neutral0,borderRadius:i,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:o.menuGutter,marginTop:o.menuGutter})},menuList:function(e,t){var n=e.maxHeight,r=e.theme.spacing.baseUnit;return qt({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:r,paddingTop:r})},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,r=n.spacing,a=n.borderRadius,i=n.colors;return qt({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:i.neutral10,borderRadius:a/2,margin:r.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,r=n.borderRadius,a=n.colors,i=e.cropWithEllipsis;return qt({overflow:"hidden",textOverflow:i||void 0===i?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:r/2,color:a.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,r=n.spacing,a=n.borderRadius,i=n.colors,o=e.isFocused;return qt({alignItems:"center",display:"flex"},t?{}:{borderRadius:a/2,backgroundColor:o?i.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}})},noOptionsMessage:ga,option:function(e,t){var n=e.isDisabled,r=e.isFocused,a=e.isSelected,i=e.theme,o=i.spacing,s=i.colors;return qt({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:a?s.primary:r?s.primary25:"transparent",color:n?s.neutral20:a?s.neutral0:"inherit",padding:"".concat(2*o.baseUnit,"px ").concat(3*o.baseUnit,"px"),":active":{backgroundColor:n?void 0:a?s.primary:s.primary50}})},placeholder:function(e,t){var n=e.theme,r=n.spacing,a=n.colors;return qt({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:a.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,r=e.theme,a=r.spacing,i=r.colors;return qt({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?i.neutral40:i.neutral80,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,r=e.isMulti,a=e.hasValue,i=e.selectProps.controlShouldRenderValue;return qt({alignItems:"center",display:r&&a&&i?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}},ki={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},Si={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:ea(),captureMenuScroll:!ea(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var n=qt({ignoreCase:!0,ignoreAccents:!0,stringify:ei,trim:!0,matchFrom:"any"},xi),r=n.ignoreCase,a=n.ignoreAccents,i=n.stringify,o=n.trim,s=n.matchFrom,l=o?Qa(t):t,u=o?Qa(i(e)):i(e);return r&&(l=l.toLowerCase(),u=u.toLowerCase()),a&&(l=Ja(l),u=Za(u)),"start"===s?u.substr(0,l.length)===l:u.indexOf(l)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(Mt){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function Ni(e,t,n,r){return{type:"option",data:t,isDisabled:Di(e,t,n),isSelected:Ri(e,t,n),label:Ti(e,t),value:Ii(e,t),index:r}}function Oi(e,t){return e.options.map(function(n,r){if("options"in n){var a=n.options.map(function(n,r){return Ni(e,n,t,r)}).filter(function(t){return Ei(e,t)});return a.length>0?{type:"group",data:n,options:a,index:r}:void 0}var i=Ni(e,n,t,r);return Ei(e,i)?i:void 0}).filter(ia)}function Ci(e){return e.reduce(function(e,t){return"group"===t.type?e.push.apply(e,an(t.options.map(function(e){return e.data}))):e.push(t.data),e},[])}function _i(e,t){return e.reduce(function(e,n){return"group"===n.type?e.push.apply(e,an(n.options.map(function(e){return{data:e.data,id:"".concat(t,"-").concat(n.index,"-").concat(e.index)}}))):e.push({data:n.data,id:"".concat(t,"-").concat(n.index)}),e},[])}function Ei(e,t){var n=e.inputValue,r=void 0===n?"":n,a=t.data,i=t.isSelected,o=t.label,s=t.value;return(!Ai(e)||!i)&&Mi(e,{label:o,value:s,data:a},r)}var ji=function(e,t){var n;return(null===(n=e.find(function(e){return e.data===t}))||void 0===n?void 0:n.id)||null},Ti=function(e,t){return e.getOptionLabel(t)},Ii=function(e,t){return e.getOptionValue(t)};function Di(e,t,n){return"function"==typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function Ri(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"==typeof e.isOptionSelected)return e.isOptionSelected(t,n);var r=Ii(e,t);return n.some(function(t){return Ii(e,t)===r})}function Mi(e,t,n){return!e.filterOption||e.filterOption(t,n)}var Ai=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},Li=1,Pi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&en(e,t)}(n,e);var t=function(e){var t=nn();return function(){var n,r=tn(e);if(t){var a=tn(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return rn(this,n)}}(n);function n(e){var r;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},r.blockOptionHover=!1,r.isComposing=!1,r.commonProps=void 0,r.initialTouchX=0,r.initialTouchY=0,r.openAfterFocus=!1,r.scrollToFocusedOptionOnUpdate=!1,r.userIsDragging=void 0,r.controlRef=null,r.getControlRef=function(e){r.controlRef=e},r.focusedOptionRef=null,r.getFocusedOptionRef=function(e){r.focusedOptionRef=e},r.menuListRef=null,r.getMenuListRef=function(e){r.menuListRef=e},r.inputRef=null,r.getInputRef=function(e){r.inputRef=e},r.focus=r.focusInput,r.blur=r.blurInput,r.onChange=function(e,t){var n=r.props,a=n.onChange,i=n.name;t.name=i,r.ariaOnChange(e,t),a(e,t)},r.setValue=function(e,t,n){var a=r.props,i=a.closeMenuOnSelect,o=a.isMulti,s=a.inputValue;r.onInputChange("",{action:"set-value",prevInputValue:s}),i&&(r.setState({inputIsHiddenAfterUpdate:!o}),r.onMenuClose()),r.setState({clearFocusValueOnUpdate:!0}),r.onChange(e,{action:t,option:n})},r.selectOption=function(e){var t=r.props,n=t.blurInputOnSelect,a=t.isMulti,i=t.name,o=r.state.selectValue,s=a&&r.isOptionSelected(e,o),l=r.isOptionDisabled(e,o);if(s){var u=r.getOptionValue(e);r.setValue(o.filter(function(e){return r.getOptionValue(e)!==u}),"deselect-option",e)}else{if(l)return void r.ariaOnChange(e,{action:"select-option",option:e,name:i});a?r.setValue([].concat(an(o),[e]),"select-option",e):r.setValue(e,"select-option")}n&&r.blurInput()},r.removeValue=function(e){var t=r.props.isMulti,n=r.state.selectValue,a=r.getOptionValue(e),i=n.filter(function(e){return r.getOptionValue(e)!==a}),o=oa(t,i,i[0]||null);r.onChange(o,{action:"remove-value",removedValue:e}),r.focusInput()},r.clearValue=function(){var e=r.state.selectValue;r.onChange(oa(r.props.isMulti,[],null),{action:"clear",removedValues:e})},r.popValue=function(){var e=r.props.isMulti,t=r.state.selectValue,n=t[t.length-1],a=t.slice(0,t.length-1),i=oa(e,a,a[0]||null);n&&r.onChange(i,{action:"pop-value",removedValue:n})},r.getFocusedOptionId=function(e){return ji(r.state.focusableOptionsWithIds,e)},r.getFocusableOptionsWithIds=function(){return _i(Oi(r.props,r.state.selectValue),r.getElementId("option"))},r.getValue=function(){return r.state.selectValue},r.cx=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return $r.apply(void 0,[r.props.classNamePrefix].concat(t))},r.getOptionLabel=function(e){return Ti(r.props,e)},r.getOptionValue=function(e){return Ii(r.props,e)},r.getStyles=function(e,t){var n=r.props.unstyled,a=wi[e](t,n);a.boxSizing="border-box";var i=r.props.styles[e];return i?i(a,t):a},r.getClassNames=function(e,t){var n,a;return null===(n=(a=r.props.classNames)[e])||void 0===n?void 0:n.call(a,t)},r.getElementId=function(e){return"".concat(r.state.instancePrefix,"-").concat(e)},r.getComponents=function(){return e=r.props,qt(qt({},Pa),e.components);var e},r.buildCategorizedOptions=function(){return Oi(r.props,r.state.selectValue)},r.getCategorizedOptions=function(){return r.props.menuIsOpen?r.buildCategorizedOptions():[]},r.buildFocusableOptions=function(){return Ci(r.buildCategorizedOptions())},r.getFocusableOptions=function(){return r.props.menuIsOpen?r.buildFocusableOptions():[]},r.ariaOnChange=function(e,t){r.setState({ariaSelection:qt({value:e},t)})},r.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),r.focusInput())},r.onMenuMouseMove=function(e){r.blockOptionHover=!1},r.onControlMouseDown=function(e){if(!e.defaultPrevented){var t=r.props.openMenuOnClick;r.state.isFocused?r.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&r.onMenuClose():t&&r.openMenu("first"):(t&&(r.openAfterFocus=!0),r.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},r.onDropdownIndicatorMouseDown=function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||r.props.isDisabled)){var t=r.props,n=t.isMulti,a=t.menuIsOpen;r.focusInput(),a?(r.setState({inputIsHiddenAfterUpdate:!n}),r.onMenuClose()):r.openMenu("first"),e.preventDefault()}},r.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(r.clearValue(),e.preventDefault(),r.openAfterFocus=!1,"touchend"===e.type?r.focusInput():setTimeout(function(){return r.focusInput()}))},r.onScroll=function(e){"boolean"==typeof r.props.closeMenuOnScroll?e.target instanceof HTMLElement&&Kr(e.target)&&r.props.onMenuClose():"function"==typeof r.props.closeMenuOnScroll&&r.props.closeMenuOnScroll(e)&&r.props.onMenuClose()},r.onCompositionStart=function(){r.isComposing=!0},r.onCompositionEnd=function(){r.isComposing=!1},r.onTouchStart=function(e){var t=e.touches,n=t&&t.item(0);n&&(r.initialTouchX=n.clientX,r.initialTouchY=n.clientY,r.userIsDragging=!1)},r.onTouchMove=function(e){var t=e.touches,n=t&&t.item(0);if(n){var a=Math.abs(n.clientX-r.initialTouchX),i=Math.abs(n.clientY-r.initialTouchY);r.userIsDragging=a>5||i>5}},r.onTouchEnd=function(e){r.userIsDragging||(r.controlRef&&!r.controlRef.contains(e.target)&&r.menuListRef&&!r.menuListRef.contains(e.target)&&r.blurInput(),r.initialTouchX=0,r.initialTouchY=0)},r.onControlTouchEnd=function(e){r.userIsDragging||r.onControlMouseDown(e)},r.onClearIndicatorTouchEnd=function(e){r.userIsDragging||r.onClearIndicatorMouseDown(e)},r.onDropdownIndicatorTouchEnd=function(e){r.userIsDragging||r.onDropdownIndicatorMouseDown(e)},r.handleInputChange=function(e){var t=r.props.inputValue,n=e.currentTarget.value;r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange(n,{action:"input-change",prevInputValue:t}),r.props.menuIsOpen||r.onMenuOpen()},r.onInputFocus=function(e){r.props.onFocus&&r.props.onFocus(e),r.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(r.openAfterFocus||r.props.openMenuOnFocus)&&r.openMenu("first"),r.openAfterFocus=!1},r.onInputBlur=function(e){var t=r.props.inputValue;r.menuListRef&&r.menuListRef.contains(document.activeElement)?r.inputRef.focus():(r.props.onBlur&&r.props.onBlur(e),r.onInputChange("",{action:"input-blur",prevInputValue:t}),r.onMenuClose(),r.setState({focusedValue:null,isFocused:!1}))},r.onOptionHover=function(e){if(!r.blockOptionHover&&r.state.focusedOption!==e){var t=r.getFocusableOptions().indexOf(e);r.setState({focusedOption:e,focusedOptionId:t>-1?r.getFocusedOptionId(e):null})}},r.shouldHideSelectedOptions=function(){return Ai(r.props)},r.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),r.focus()},r.onKeyDown=function(e){var t=r.props,n=t.isMulti,a=t.backspaceRemovesValue,i=t.escapeClearsValue,o=t.inputValue,s=t.isClearable,l=t.isDisabled,u=t.menuIsOpen,c=t.onKeyDown,d=t.tabSelectsValue,f=t.openMenuOnFocus,p=r.state,m=p.focusedOption,h=p.focusedValue,g=p.selectValue;if(!(l||"function"==typeof c&&(c(e),e.defaultPrevented))){switch(r.blockOptionHover=!0,e.key){case"ArrowLeft":if(!n||o)return;r.focusValue("previous");break;case"ArrowRight":if(!n||o)return;r.focusValue("next");break;case"Delete":case"Backspace":if(o)return;if(h)r.removeValue(h);else{if(!a)return;n?r.popValue():s&&r.clearValue()}break;case"Tab":if(r.isComposing)return;if(e.shiftKey||!u||!d||!m||f&&r.isOptionSelected(m,g))return;r.selectOption(m);break;case"Enter":if(229===e.keyCode)break;if(u){if(!m)return;if(r.isComposing)return;r.selectOption(m);break}return;case"Escape":u?(r.setState({inputIsHiddenAfterUpdate:!1}),r.onInputChange("",{action:"menu-close",prevInputValue:o}),r.onMenuClose()):s&&i&&r.clearValue();break;case" ":if(o)return;if(!u){r.openMenu("first");break}if(!m)return;r.selectOption(m);break;case"ArrowUp":u?r.focusOption("up"):r.openMenu("last");break;case"ArrowDown":u?r.focusOption("down"):r.openMenu("first");break;case"PageUp":if(!u)return;r.focusOption("pageup");break;case"PageDown":if(!u)return;r.focusOption("pagedown");break;case"Home":if(!u)return;r.focusOption("first");break;case"End":if(!u)return;r.focusOption("last");break;default:return}e.preventDefault()}},r.state.instancePrefix="react-select-"+(r.props.instanceId||++Li),r.state.selectValue=qr(e.value),e.menuIsOpen&&r.state.selectValue.length){var a=r.getFocusableOptionsWithIds(),i=r.buildFocusableOptions(),o=i.indexOf(r.state.selectValue[0]);r.state.focusableOptionsWithIds=a,r.state.focusedOption=i[o],r.state.focusedOptionId=ji(a,i[o])}return r}return function(e,t,n){t&&Qt(e.prototype,t),n&&Qt(e,n),Object.defineProperty(e,"prototype",{writable:!1})}(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&Qr(this.menuListRef,this.focusedOptionRef),(bi()||yi())&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,a=this.state.isFocused;(a&&!n&&e.isDisabled||a&&r&&!e.menuIsOpen)&&this.focusInput(),a&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):a||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Qr(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,r=n.selectValue,a=n.isFocused,i=this.buildFocusableOptions(),o="first"===e?0:i.length-1;if(!this.props.isMulti){var s=i.indexOf(r[0]);s>-1&&(o=s)}this.scrollToFocusedOptionOnUpdate=!(a&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:i[o],focusedOptionId:this.getFocusedOptionId(i[o])},function(){return t.onMenuOpen()})}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,r=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var a=n.indexOf(r);r||(a=-1);var i=n.length-1,o=-1;if(n.length){switch(e){case"previous":o=0===a?0:-1===a?i:a-1;break;case"next":a>-1&&a<i&&(o=a+1)}this.setState({inputIsHidden:-1!==o,focusedValue:n[o]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var a=0,i=r.indexOf(n);n||(i=-1),"up"===e?a=i>0?i-1:r.length-1:"down"===e?a=(i+1)%r.length:"pageup"===e?(a=i-t)<0&&(a=0):"pagedown"===e?(a=i+t)>r.length-1&&(a=r.length-1):"last"===e&&(a=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[a],focusedValue:null,focusedOptionId:this.getFocusedOptionId(r[a])})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(ki):qt(qt({},ki),this.props.theme):ki}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,r=this.getClassNames,a=this.getValue,i=this.selectOption,o=this.setValue,s=this.props,l=s.isMulti,u=s.isRtl,c=s.options;return{clearValue:e,cx:t,getStyles:n,getClassNames:r,getValue:a,hasValue:this.hasValue(),isMulti:l,isRtl:u,options:c,selectOption:i,selectProps:s,setValue:o,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return Di(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return Ri(this.props,e,t)}},{key:"filterOption",value:function(e,t){return Mi(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,r=e.inputId,a=e.inputValue,i=e.tabIndex,o=e.form,s=e.menuIsOpen,l=e.required,u=this.getComponents().Input,c=this.state,d=c.inputIsHidden,f=c.ariaSelection,p=this.commonProps,m=r||this.getElementId("input"),h=qt(qt(qt({"aria-autocomplete":"list","aria-expanded":s,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":l,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},s&&{"aria-controls":this.getElementId("listbox")}),!n&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null==f?void 0:f.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return n?y.createElement(u,Jt({},p,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:m,innerRef:this.getInputRef,isDisabled:t,isHidden:d,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:i,form:o,type:"text",value:a},h)):y.createElement(ni,Jt({id:m,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Br,onFocus:this.onInputFocus,disabled:t,tabIndex:i,inputMode:"none",form:o,value:""},h))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,r=t.MultiValueContainer,a=t.MultiValueLabel,i=t.MultiValueRemove,o=t.SingleValue,s=t.Placeholder,l=this.commonProps,u=this.props,c=u.controlShouldRenderValue,d=u.isDisabled,f=u.isMulti,p=u.inputValue,m=u.placeholder,h=this.state,g=h.selectValue,v=h.focusedValue,b=h.isFocused;if(!this.hasValue()||!c)return p?null:y.createElement(s,Jt({},l,{key:"placeholder",isDisabled:d,isFocused:b,innerProps:{id:this.getElementId("placeholder")}}),m);if(f)return g.map(function(t,o){var s=t===v,u="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return y.createElement(n,Jt({},l,{components:{Container:r,Label:a,Remove:i},isFocused:s,isDisabled:d,key:u,index:o,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault()}},data:t}),e.formatOptionLabel(t,"value"))});if(p)return null;var x=g[0];return y.createElement(o,Jt({},l,{data:x,isDisabled:d}),this.formatOptionLabel(x,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,a=n.isLoading,i=this.state.isFocused;if(!this.isClearable()||!e||r||!this.hasValue()||a)return null;var o={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return y.createElement(e,Jt({},t,{innerProps:o,isFocused:i}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,a=n.isLoading,i=this.state.isFocused;if(!e||!a)return null;return y.createElement(e,Jt({},t,{innerProps:{"aria-hidden":"true"},isDisabled:r,isFocused:i}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var r=this.commonProps,a=this.props.isDisabled,i=this.state.isFocused;return y.createElement(n,Jt({},r,{isDisabled:a,isFocused:i}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,r=this.state.isFocused,a={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return y.createElement(e,Jt({},t,{innerProps:a,isDisabled:n,isFocused:r}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,r=t.GroupHeading,a=t.Menu,i=t.MenuList,o=t.MenuPortal,s=t.LoadingMessage,l=t.NoOptionsMessage,u=t.Option,c=this.commonProps,d=this.state.focusedOption,f=this.props,p=f.captureMenuScroll,m=f.inputValue,h=f.isLoading,g=f.loadingMessage,v=f.minMenuHeight,b=f.maxMenuHeight,x=f.menuIsOpen,w=f.menuPlacement,k=f.menuPosition,S=f.menuPortalTarget,N=f.menuShouldBlockScroll,O=f.menuShouldScrollIntoView,C=f.noOptionsMessage,_=f.onMenuScrollToTop,E=f.onMenuScrollToBottom;if(!x)return null;var j,T=function(t,n){var r=t.type,a=t.data,i=t.isDisabled,o=t.isSelected,s=t.label,l=t.value,f=d===a,p=i?void 0:function(){return e.onOptionHover(a)},m=i?void 0:function(){return e.selectOption(a)},h="".concat(e.getElementId("option"),"-").concat(n),g={id:h,onClick:m,onMouseMove:p,onMouseOver:p,tabIndex:-1,role:"option","aria-selected":e.state.isAppleDevice?void 0:o};return y.createElement(u,Jt({},c,{innerProps:g,data:a,isDisabled:i,isSelected:o,key:h,label:s,type:r,value:l,isFocused:f,innerRef:f?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())j=this.getCategorizedOptions().map(function(t){if("group"===t.type){var a=t.data,i=t.options,o=t.index,s="".concat(e.getElementId("group"),"-").concat(o),l="".concat(s,"-heading");return y.createElement(n,Jt({},c,{key:s,data:a,options:i,Heading:r,headingProps:{id:l,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map(function(e){return T(e,"".concat(o,"-").concat(e.index))}))}if("option"===t.type)return T(t,"".concat(t.index))});else if(h){var I=g({inputValue:m});if(null===I)return null;j=y.createElement(s,c,I)}else{var D=C({inputValue:m});if(null===D)return null;j=y.createElement(l,c,D)}var R={minMenuHeight:v,maxMenuHeight:b,menuPlacement:w,menuPosition:k,menuShouldScrollIntoView:O},M=y.createElement(pa,Jt({},c,R),function(t){var n=t.ref,r=t.placerProps,o=r.placement,s=r.maxHeight;return y.createElement(a,Jt({},c,R,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:h,placement:o}),y.createElement(mi,{captureEnabled:p,onTopArrive:_,onBottomArrive:E,lockEnabled:N},function(t){return y.createElement(i,Jt({},c,{innerRef:function(n){e.getMenuListRef(n),t(n)},innerProps:{role:"listbox","aria-multiselectable":c.isMulti,id:e.getElementId("listbox")},isLoading:h,maxHeight:s,focusedOption:d}),j)}))});return S||"fixed"===k?y.createElement(o,Jt({},c,{appendTo:S,controlElement:this.controlRef,menuPlacement:w,menuPosition:k}),M):M}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,r=t.isDisabled,a=t.isMulti,i=t.name,o=t.required,s=this.state.selectValue;if(o&&!this.hasValue()&&!r)return y.createElement(gi,{name:i,onFocus:this.onValueInputFocus});if(i&&!r){if(a){if(n){var l=s.map(function(t){return e.getOptionValue(t)}).join(n);return y.createElement("input",{name:i,type:"hidden",value:l})}var u=s.length>0?s.map(function(t,n){return y.createElement("input",{key:"i-".concat(n),name:i,type:"hidden",value:e.getOptionValue(t)})}):y.createElement("input",{name:i,type:"hidden",value:""});return y.createElement("div",null,u)}var c=s[0]?this.getOptionValue(s[0]):"";return y.createElement("input",{name:i,type:"hidden",value:c})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,r=t.focusedOption,a=t.focusedValue,i=t.isFocused,o=t.selectValue,s=this.getFocusableOptions();return y.createElement(Wa,Jt({},e,{id:this.getElementId("live-region"),ariaSelection:n,focusedOption:r,focusedValue:a,isFocused:i,selectValue:o,focusableOptions:s,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,r=e.SelectContainer,a=e.ValueContainer,i=this.props,o=i.className,s=i.id,l=i.isDisabled,u=i.menuIsOpen,c=this.state.isFocused,d=this.commonProps=this.getCommonProps();return y.createElement(r,Jt({},d,{className:o,innerProps:{id:s,onKeyDown:this.onKeyDown},isDisabled:l,isFocused:c}),this.renderLiveRegion(),y.createElement(t,Jt({},d,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:l,isFocused:c,menuIsOpen:u}),y.createElement(a,Jt({},d,{isDisabled:l}),this.renderPlaceholderOrValue(),this.renderInput()),y.createElement(n,Jt({},d,{isDisabled:l}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.clearFocusValueOnUpdate,a=t.inputIsHiddenAfterUpdate,i=t.ariaSelection,o=t.isFocused,s=t.prevWasFocused,l=t.instancePrefix,u=e.options,c=e.value,d=e.menuIsOpen,f=e.inputValue,p=e.isMulti,m=qr(c),h={};if(n&&(c!==n.value||u!==n.options||d!==n.menuIsOpen||f!==n.inputValue)){var g=d?function(e,t){return Ci(Oi(e,t))}(e,m):[],v=d?_i(Oi(e,m),"".concat(l,"-option")):[],b=r?function(e,t){var n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null}(t,m):null,y=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,g);h={selectValue:m,focusedOption:y,focusedOptionId:ji(v,y),focusableOptionsWithIds:v,focusedValue:b,clearFocusValueOnUpdate:!1}}var x=null!=a&&e!==n?{inputIsHidden:a,inputIsHiddenAfterUpdate:void 0}:{},w=i,k=o&&s;return o&&!k&&(w={value:oa(p,m,m[0]||null),options:m,action:"initial-input-focus"},k=!s),"initial-input-focus"===(null==i?void 0:i.action)&&(w=null),qt(qt(qt({},h),x),{},{prevProps:e,ariaSelection:w,prevWasFocused:k})}}]),n}(y.Component);Pi.defaultProps=Si;var Fi=y.forwardRef(function(e,t){var n=function(e){var t=e.defaultInputValue,n=void 0===t?"":t,r=e.defaultMenuIsOpen,a=void 0!==r&&r,i=e.defaultValue,o=void 0===i?null:i,s=e.inputValue,l=e.menuIsOpen,u=e.onChange,c=e.onInputChange,d=e.onMenuClose,f=e.onMenuOpen,p=e.value,m=Xt(e,Zt),h=Kt(y.useState(void 0!==s?s:n),2),g=h[0],v=h[1],b=Kt(y.useState(void 0!==l?l:a),2),x=b[0],w=b[1],k=Kt(y.useState(void 0!==p?p:o),2),S=k[0],N=k[1],O=y.useCallback(function(e,t){"function"==typeof u&&u(e,t),N(e)},[u]),C=y.useCallback(function(e,t){var n;"function"==typeof c&&(n=c(e,t)),v(void 0!==n?n:e)},[c]),_=y.useCallback(function(){"function"==typeof f&&f(),w(!0)},[f]),E=y.useCallback(function(){"function"==typeof d&&d(),w(!1)},[d]),j=void 0!==s?s:g,T=void 0!==l?l:x,I=void 0!==p?p:S;return qt(qt({},m),{},{inputValue:j,menuIsOpen:T,onChange:O,onInputChange:C,onMenuClose:E,onMenuOpen:_,value:I})}(e);return y.createElement(Pi,Jt({ref:t},n))}),Vi=Fi;function Ui(e){var t,n=e.label,r=e.users,a=e.value,i=e.onChange,o=e.onBlur,l=e.disabled,u=e.required,c=e.hint,d=e.error,f=e.placeholder,p=y.useMemo(function(){return r.map(function(e){return{value:String(e.telegram_id),label:e.name||e.telegram_username||e.username}})},[r]),m=y.useId(),h=null!==(t=p.find(function(e){return e.value===a}))&&void 0!==t?t:null,g=d?"".concat(m,"-error"):c?"".concat(m,"-hint"):void 0;return s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium",htmlFor:m,children:[n,u?s.jsx("span",{className:"text-red-600",children:" *"}):null]}),s.jsx(Vi,{isDisabled:l,options:p,value:h,inputId:m,placeholder:null!=f?f:"Выберите",onChange:function(e){var t;if(e){var n=e;i(null!==(t=null==n?void 0:n.value)&&void 0!==t?t:null)}else i(null)},onBlur:o,className:"mt-1",classNamePrefix:"select","aria-invalid":Boolean(d),"aria-describedby":g,"aria-required":u,noOptionsMessage:function(){return"Нет совпадений"}}),c&&!d?s.jsx("p",{id:g,className:"mt-1 text-xs text-slate-500",children:c}):null,d?s.jsx("p",{id:g,className:"mt-1 text-xs text-red-600",children:d}):null]})}function Hi(e){var t,n=e.label,r=e.options,i=e.value,o=e.onChange,l=e.onBlur,u=e.disabled,c=e.placeholder,d=e.hint,f=e.error,p=e.required,m=y.useId(),h=y.useMemo(function(){return r.map(function(e){return a({},e)})},[r]),g=null!==i&&null!==(t=h.find(function(e){return e.value===i}))&&void 0!==t?t:null,v=f?"".concat(m,"-error"):d?"".concat(m,"-hint"):void 0;return s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium",htmlFor:m,children:[n,p?s.jsx("span",{className:"text-red-600",children:" *"}):null]}),s.jsx(Vi,{options:h,value:g,inputId:m,isDisabled:u,placeholder:null!=c?c:"Выберите",onChange:function(e){return o(e||null)},onBlur:l,className:"mt-1",classNamePrefix:"select","aria-invalid":Boolean(f),"aria-describedby":v,"aria-required":p,noOptionsMessage:function(){return"Нет совпадений"}}),d&&!f?s.jsx("p",{id:v,className:"mt-1 text-xs text-slate-500",children:d}):null,f?s.jsx("p",{id:v,className:"mt-1 text-xs text-red-600",children:f}):null]})}function zi(e){return function(e){return e?_e(e):null}(e)}var Bi="Точка на карте",Wi=function(e){if(!e)return null;var t=Number.isFinite(e.lat)?e.lat.toFixed(6):String(e.lat),n=Number.isFinite(e.lng)?e.lng.toFixed(6):String(e.lng);return"".concat(t,", ").concat(n)},$i=function(e){if(!e)return!1;var t=e.toLowerCase();return t.includes("google")||t.endsWith("goo.gl")||t.endsWith("maps.app")||t.endsWith("maps.app.goo.gl")};function qi(e){if(!e)return e;var t=Wi(zi(e));try{var n=e.match(/\/place\/([^/]+)/);if(n)return decodeURIComponent(n[1].replace(/\+/g," ")).split(",")[0];var r=e.match(/[?&]q=([^&]+)/);if(r)return decodeURIComponent(r[1].replace(/\+/g," ")).split(",")[0];var a=new URL(e);if($i(a.hostname)){var i=a.searchParams.get("q");return i?decodeURIComponent(i.replace(/\+/g," ")).split(",")[0]:t||Bi}return null!=t?t:e}catch(o){return null!=t?t:e}}var Gi=N(O());var Yi=function(e){return I("/api/v1/maps/expand",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e})}).then(function(e){return e.ok?e.json():null})},Ki=function(e){var t=new URLSearchParams;Object.entries(e).forEach(function(e){var n=m(e,2),r=n[0],a=n[1];t.set(r,String(a))});var n=t.toString();return n?"?".concat(n):""},Xi=function(){var e=l(i().m(function e(t){var n,r,o,s,l,u,c,d=arguments;return i().w(function(e){for(;;)switch(e.n){case 0:if(r=d.length>1&&void 0!==d[1]?d[1]:{},o=t.trim()){e.n=1;break}return e.a(2,[]);case 1:return s=Math.min(Math.max(null!==(n=r.limit)&&void 0!==n?n:5,1),10),l={},r.language&&r.language.trim()&&(l["Accept-Language"]=r.language),e.n=2,I("/api/v1/maps/search".concat(Ki({q:o,limit:s})),a({signal:r.signal},Object.keys(l).length?{headers:l}:{}));case 2:if((u=e.v).ok){e.n=3;break}throw new Error("MAPS_SEARCH_FAILED");case 3:return e.n=4,u.json().catch(function(){return null});case 4:if((c=e.v)&&Array.isArray(c.items)){e.n=5;break}return e.a(2,[]);case 5:return e.a(2,c.items)}},e)}));return function(t){return e.apply(this,arguments)}}(),Zi=function(){var e=l(i().m(function e(t){var n,r,o,s,l,u=arguments;return i().w(function(e){for(;;)switch(e.n){case 0:if(r=u.length>1&&void 0!==u[1]?u[1]:{},Number.isFinite(t.lat)&&Number.isFinite(t.lng)){e.n=1;break}return e.a(2,null);case 1:return o={},r.language&&r.language.trim()&&(o["Accept-Language"]=r.language),e.n=2,I("/api/v1/maps/reverse".concat(Ki({lat:t.lat,lng:t.lng})),a({signal:r.signal},Object.keys(o).length?{headers:o}:{}));case 2:if((s=e.v).ok){e.n=3;break}throw new Error("MAPS_REVERSE_FAILED");case 3:return e.n=4,s.json().catch(function(){return null});case 4:if(l=e.v){e.n=5;break}return e.a(2,null);case 5:return e.a(2,null!==(n=l.place)&&void 0!==n?n:null)}},e)}));return function(t){return e.apply(this,arguments)}}(),Ji=function(){var e=l(i().m(function e(t,n){var r;return i().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,I("/api/v1/route",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({start:t,end:n})});case 1:return r=e.v,e.a(2,r.ok?r.json():null)}},e)}));return function(t,n){return e.apply(this,arguments)}}();var Qi=new Set([".png",".jpg",".jpeg",".gif",".webp",".bmp",".svg",".heic",".heif",".pdf",".doc",".docx",".docm",".dotx",".dotm",".xls",".xlsx",".xlsm",".xlsb",".xltm",".xltx",".xlam",".ppt",".pptx",".pptm",".potx",".potm",".ppsx",".ppsm",".txt",".csv",".odt",".ods",".odp",".zip",".rar",".7z",".mp4",".mov",".mkv"]),eo=["image/*","video/*"].concat(v(Array.from(Qi))),to=function(e){e.startsWith("blob:")&&URL.revokeObjectURL(e)},no=function(e){if(e){if(e.startsWith("blob:")||e.startsWith("data:"))return e;if(e.includes("mode=inline"))return e;var t=e.includes("?")?"&":"?";return"".concat(e).concat(t,"mode=inline")}};function ro(e){var t=e.disabled,n=e.onUploaded,r=e.onRemove,o=e.taskId,u=m(w.useState([]),2),c=u[0],d=u[1],f=D().t,p=w.useId(),h=w.useRef(null),g=function(e){Array.from(e).forEach(function(e){var t=e.name.lastIndexOf("."),r=-1===t?"":e.name.slice(t).toLowerCase();if(Qi.has(r)){var i={file:e,url:URL.createObjectURL(e),name:e.name,isImage:e.type.startsWith("image/"),size:e.size,progress:0};d(function(e){return[].concat(v(e),[i])}),y(e,function(e){d(function(t){return t.map(function(t){return t===i?a(a({},t),{},{progress:e}):t})})}).then(function(e){var t=null;d(function(n){return n.map(function(n){if(n!==i)return n;t=n.url;var r=no(e.thumbnailUrl)||no(e.url)||n.url;return a(a({},n),{},{attachment:e,progress:100,url:r,isImage:e.type.startsWith("image/")})})}),t&&to(t),n(e)}).catch(function(e){d(function(e){return e.filter(function(e){return e!==i})});var t=e instanceof Error&&e.message?e.message:f("uploadFailed");E(t,"error"),to(i.url)})}else E(f("invalidFileType"),"error")})},b=function(){if(!t){var e=h.current;if(e){var n=e.showPicker;"function"!=typeof n?e.click():n.call(e)}}},y=function(){var e=l(i().m(function e(t,n){var r,a,s,l,u,c,d,p,m,h,g,v;return i().w(function(e){for(;;)switch(e.p=e.n){case 0:r=1048576,a=Math.ceil(t.size/r),s="".concat(Date.now(),"_").concat(Math.random().toString(36).slice(2)),u=0;case 1:if(!(u<a)){e.n=14;break}return c=t.slice(u*r,(u+1)*r),(d=new FormData).append("fileId",s),d.append("chunkIndex",String(u)),d.append("totalChunks",String(a)),d.append("file",c,t.name),o&&"string"==typeof o&&o.trim()&&d.append("taskId",o),e.n=2,I("/api/v1/tasks/upload-chunk",{method:"POST",body:d});case 2:if((p=e.v).ok){e.n=10;break}return m=p.clone(),h=f("uploadFailed"),e.p=3,e.n=4,m.json();case 4:"string"==typeof(null==(g=e.v)?void 0:g.error)&&g.error.trim()&&(h=g.error),e.n=9;break;case 5:return e.p=5,e.v,e.p=6,e.n=7,p.text();case 7:(v=e.v).trim()&&(h=v.trim()),e.n=9;break;case 8:e.p=8,e.v;case 9:throw new Error(h);case 10:if(u!==a-1){e.n=12;break}return e.n=11,p.json();case 11:l=e.v;case 12:n(Math.round((u+1)/a*100));case 13:u++,e.n=1;break;case 14:return e.a(2,l)}},e,null,[[6,8],[3,5]])}));return function(t,n){return e.apply(this,arguments)}}();return s.jsxs("div",{children:[s.jsxs("div",{onDragOver:function(e){e.preventDefault(),t||(e.dataTransfer.dropEffect="copy")},onDrop:function(e){e.preventDefault(),t||g(e.dataTransfer.files)},onClick:function(e){if(t)e.preventDefault();else{var n=e.target;null!=n&&n.closest("label")||(e.preventDefault(),b())}},onKeyDown:function(e){t||"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),b())},role:"button",tabIndex:t?-1:0,"aria-disabled":t,"aria-label":f("dragFilesOrSelect"),className:"mt-2 flex w-full flex-col items-center justify-center rounded-lg border-2 border-dashed p-4 text-center text-sm transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accentPrimary focus-visible:ring-offset-2 focus-visible:ring-offset-white ".concat(t?"cursor-not-allowed border-slate-300 bg-slate-100 text-slate-400 opacity-70":"cursor-pointer border-accentPrimary/60 bg-accentPrimary/5 text-slate-700 hover:border-accentPrimary hover:bg-accentPrimary/10"),children:[s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("p",{className:"text-base font-medium",children:f("dragFilesOrSelect")}),s.jsx("label",{htmlFor:p,className:"rounded-full border border-accentPrimary px-4 py-1.5 text-sm font-semibold text-accentPrimary transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-white ".concat(t?"cursor-not-allowed opacity-60":"cursor-pointer hover:bg-accentPrimary/10 focus-visible:ring-accentPrimary"),children:f("chooseFiles")}),s.jsx("p",{className:"text-xs text-slate-500",children:f("uploadTapHint")})]}),s.jsx("input",{ref:h,id:p,name:"attachments",type:"file",multiple:!0,onChange:function(e){e.target.files&&g(e.target.files)},disabled:t,accept:eo.join(","),className:"sr-only"})]}),c.length>0&&s.jsx("ul",{className:"mt-2 space-y-2",children:c.map(function(e,t){var n,a,i,o,l,u;return s.jsxs("li",{className:"flex items-center gap-2",children:[e.isImage&&s.jsx("img",{srcSet:"".concat(no(null===(n=e.attachment)||void 0===n?void 0:n.thumbnailUrl)||no(null===(a=e.attachment)||void 0===a?void 0:a.url)||e.url," 1x, ").concat(no(null===(i=e.attachment)||void 0===i?void 0:i.url)||no(null===(o=e.attachment)||void 0===o?void 0:o.thumbnailUrl)||e.url," 2x"),sizes:"48px",src:no(null===(l=e.attachment)||void 0===l?void 0:l.thumbnailUrl)||no(null===(u=e.attachment)||void 0===u?void 0:u.url)||e.url,alt:e.name,className:"h-12 w-12 rounded object-cover"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("p",{className:"text-sm",children:[e.name," (",(e.size/1024/1024).toFixed(1)," ",f("mb"),")"]}),s.jsx("div",{className:"h-2 rounded bg-gray-200",children:s.jsx("div",{className:"bg-accentPrimary h-2 rounded",style:{width:"".concat(e.progress,"%")}})})]}),s.jsx("button",{type:"button",className:"text-red-500",onClick:function(){return function(e){d(function(t){return t.filter(function(t){return t!==e})}),to(e.url),e.attachment&&r(e.attachment)}(e)},children:f("delete")})]},t)})})]})}var ao=function(e){var t=e.startDateValue,n=e.setValue,r=e.formatInputDate,a=e.defaultOffsetMs,i=e.autoSync,o=void 0===i||i,s=m(w.useState(a),2),l=s[0],u=s[1];w.useEffect(function(){if(o&&t&&Number.isFinite(l)){var e=new Date(t).getTime();if(!Number.isNaN(e)){var a=new Date(e+l);Number.isNaN(a.getTime())||n("dueDate",r(a))}}},[t,l,n,r,o]);var c=w.useCallback(function(e){var r=e.target.value;if(n("dueDate",r),t){var a=new Date(t).getTime(),i=new Date(r).getTime();Number.isNaN(a)||Number.isNaN(i)||u(i-a)}},[n,t]);return{dueOffset:l,setDueOffset:u,handleDueDateChange:c}},io=function(e){if(e){if(e.startsWith("blob:")||e.startsWith("data:"))return e;if(e.includes("mode=inline"))return e;var t=e.includes("?")?"&":"?";return"".concat(e).concat(t,"mode=inline")}},oo=new Intl.DateTimeFormat("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1,timeZone:J}),so=function(e){return"".concat(oo.format(e).replace(", "," ")," ").concat(P)},lo=function(e){return e&&"object"===p(e)&&!Array.isArray(e)?e:{}},uo=function(e){if("number"==typeof e&&Number.isFinite(e))return e;if("string"==typeof e){var t=e.trim();if(!t)return null;var n=Number(t);return Number.isFinite(n)?n:null}return null},co=function(e){if("string"==typeof e){var t=e.trim();if(t)return/^бессроч/i.test(t)?"До выполнения":t}},fo=function(e){var t=e.trim().replace(/\s+/g,"").replace(/,/g,".");if(!t)return null;var n=Number(t);return Number.isFinite(n)&&n>=0?n:null},po=function(e){return null==e?"":"number"==typeof e?Number.isFinite(e)?String(e):"":"string"==typeof e?e:""},mo=function(e,t){if(null==e)return null;var n="number"==typeof t?t:"string"==typeof t?Number(t.trim()):NaN;if(!Number.isFinite(n)||n<=0)return null;var r="number"==typeof e?e.toString():"string"==typeof e?e.trim():"";return r?r.startsWith("@")?"https://t.me/".concat(r.slice(1),"/").concat(n):/^-100\d+$/.test(r)?"https://t.me/c/".concat(r.slice(4),"/").concat(n):/^\d+$/.test(r)?"https://t.me/c/".concat(r,"/").concat(n):null:null},ho="Заявка",go=function(e){return e&&("request"===("string"==typeof e.kind?e.kind.trim().toLowerCase():"")||("string"==typeof e.task_type?e.task_type.trim():"")===ho)?"request":"task"},vo=new Intl.NumberFormat("uk-UA",{minimumFractionDigits:2,maximumFractionDigits:2}),bo=function(e){if(!e.trim())return 0;var t=e.replace(/\s*грн\.?/gi,"").trim(),n=fo(t);return null===n?null:Number.isFinite(n)?Number(n.toFixed(2)):null},yo=function(e){if(null==e)return vo.format(0);if("number"==typeof e)return vo.format(e);if("string"==typeof e){var t=e.trim();if(!t)return vo.format(0);var n=bo(t);return null===n?t.replace(/\s*грн\.?/gi,"").trim()||vo.format(0):vo.format(n)}return vo.format(0)},xo=function(e){if(!e)return"";var t=wo(e);return t?so(t):e},wo=function(e){if(!e)return null;var t=new Date(e);return Number.isNaN(t.getTime())?null:t},ko=function(e){if(!e||"object"!==p(e))return null;var t=e,n=Number(t.lat),r=Number(t.lng);return Number.isFinite(n)&&Number.isFinite(r)?{lat:n,lng:r}:null},So=function(e){if(!e)return"";var t=Number.isFinite(e.lat)?e.lat.toFixed(6):String(e.lat),n=Number.isFinite(e.lng)?e.lng.toFixed(6):String(e.lng);return"".concat(t,", ").concat(n)},No=function(e){return"https://www.google.com/maps/search/?api=1&query=".concat(e.lat,",").concat(e.lng)},Oo=3,Co=function(e){var t=e.open,n=e.title,r=e.confirmLabel,a=e.cancelLabel,i=e.hint,o=e.initialValue,l=e.onConfirm,u=e.onCancel,c=w.useRef(null),d=w.useRef(null),f=w.useRef(null),p=w.useId(),h=m(w.useState(o),2),g=h[0],v=h[1];return w.useEffect(function(){t&&v(null!=o?o:null)},[o,t]),w.useEffect(function(){if(t){var e=c.current;if(e){var n=o?[o.lng,o.lat]:[ae[1],ae[0]],r=new ie.Map({container:e,style:le,center:n,zoom:o?Math.max(se,12):se,maxBounds:oe,minZoom:3});d.current=r;var a=new ie.NavigationControl({showCompass:!1});r.addControl(a,"top-right");var i=new ie.AttributionControl({compact:!0,customAttribution:ue});r.addControl(i,"bottom-right");var s=function(e,t){var n=f.current;if(n)n.setLngLat([e,t]);else{var a=new ie.Marker({draggable:!0}).setLngLat([e,t]).addTo(r);a.on("dragend",function(){var e=a.getLngLat();v({lat:e.lat,lng:e.lng})}),f.current=a}v({lat:t,lng:e});var i=Math.max(r.getZoom?r.getZoom():se,12);"function"==typeof r.easeTo&&r.easeTo({center:[e,t],zoom:i,duration:400})};o&&s(o.lng,o.lat);var l=function(e){var t=e.lngLat,n=t.lng,r=t.lat;s(n,r)};return r.on("click",l),function(){r.off("click",l),f.current&&(f.current.remove(),f.current=null),r.remove(),d.current=null}}}},[o,t]),t?S.createPortal(s.jsxs("div",{className:"map-picker-dialog",role:"presentation",children:[s.jsx("button",{type:"button",className:"map-picker-dialog__backdrop",tabIndex:-1,"aria-hidden":"true",onClick:u}),s.jsxs("div",{className:"map-picker-dialog__panel",role:"dialog","aria-modal":"true","aria-labelledby":p,children:[s.jsxs("header",{className:"flex items-center justify-between gap-3",children:[s.jsx("h4",{id:p,className:"text-lg font-semibold",children:n}),s.jsx("button",{type:"button",className:"text-sm text-muted-foreground hover:text-foreground",onClick:u,children:"×"})]}),s.jsx("div",{ref:c,className:"map-picker-dialog__map"}),s.jsx("p",{className:"map-picker-dialog__hint",children:i}),g?s.jsx("div",{className:"text-sm font-mono text-slate-600",children:So(g)}):null,s.jsxs("div",{className:"map-picker-dialog__actions",children:[s.jsx(j,{type:"button",variant:"outline",onClick:u,children:a}),s.jsx(j,{type:"button",onClick:function(){g&&l(g)},disabled:!g,children:r})]})]})]}),document.body):null},_o=function(e){if("string"!=typeof e)return"";var t=function(e){try{return Gi(e,{require_protocol:!0})?e.trim():""}catch(t){return""}}(e);if(!t)return"";try{var n=new URL(t);if("http:"===n.protocol||"https:"===n.protocol)return n.toString()}catch(r){return""}return""},Eo=function(e){if(!e)return!1;try{var t=new URL(e),n=function(){if("undefined"==typeof window)return null;try{return window.location.origin}catch(e){return null}}();if(n&&t.origin!==n)return!1;var r=t.pathname.split("/").filter(Boolean),a=r.indexOf("l");return-1!==a&&a===r.length-2&&Boolean(r[a+1])}catch(i){return!1}},jo=function(e){if(e instanceof Date)return e.toISOString();if("number"==typeof e){var t=new Date(e);return Number.isNaN(t.getTime())?"":t.toISOString()}if(e&&"object"===p(e)&&"$date"in e){var n=e.$date;return"string"==typeof n?n:""}return"string"==typeof e?e:""},To=function(e){return e?(Array.isArray(e)?e:"object"===p(e)?Object.values(e):[]).filter(function(e){return null!==e&&"object"===p(e)}).map(function(e){var t=e,n=lo(t.changes),r=lo(n.from),a=lo(n.to),i=t.changed_by,o="number"==typeof i?i:Number(i)||0;return{changed_at:jo(t.changed_at),changed_by:o,changes:{from:r,to:a}}}).sort(function(e,t){var n=Date.parse(e.changed_at),r=Date.parse(t.changed_at);return Number.isNaN(n)&&Number.isNaN(r)?0:Number.isNaN(n)?1:Number.isNaN(r)?-1:r-n}):[]},Io=function(e){var t=Date.parse(e);return Number.isNaN(t)?e||"":so(new Date(t))},Do=function(e){if(null==e)return"—";if(e instanceof Date)return so(e);if("string"==typeof e){var t=wo(e);return t?so(t):e}if("number"==typeof e||"boolean"==typeof e)return String(e);try{return JSON.stringify(e)}catch(n){return String(e)}},Ro=function(e){var t=e.trim();return t&&/^бессроч/i.test(t)?"До выполнения":t},Mo=function(e,t,n){var r=("string"==typeof t?t:String(null!=t?t:"")).trim();if(!r||"—"===r)return"prev"===n?s.jsx("span",{className:"text-gray-400 line-through decoration-gray-300",children:"—"}):s.jsx("span",{className:"text-gray-500",children:"—"});var a=function(e,t){var n,r=function(e){var t=e.trim().toLowerCase();return"status"===t?"status":"priority"===t||"priority_label"===t||"prioritylabel"===t?"priority":"task_type"===t||"tasktype"===t||"type"===t?"taskType":null}(e);if(!r)return null;var a=t.trim();if(!a||"—"===a)return null;if("status"===r){var i,o=null!==(i=fe(a))&&void 0!==i?i:pe;return s.jsx("span",{className:o,children:a})}if("priority"===r){var l,u=null!==(l=me(a))&&void 0!==l?l:"".concat(pe," normal-case");return s.jsx("span",{className:u,children:Ro(a)})}var c=null!==(n=he(a))&&void 0!==n?n:"".concat(pe," normal-case");return s.jsx("span",{className:c,children:a})}(e,r);if(!a){var i="prev"===n?"text-gray-500 line-through decoration-gray-400":"font-semibold text-gray-900";return s.jsx("span",{className:i,children:r})}return"prev"===n?s.jsx("span",{className:"inline-flex items-center gap-1 text-gray-500 line-through decoration-gray-400",children:a}):"next"===n?s.jsx("span",{className:"inline-flex items-center gap-1 font-semibold text-gray-900",children:a}):a},Ao=function(e,t,n,r,a){return[e,t,n,r,a].some(function(e){return"string"==typeof e&&e.trim().length>0})},Lo=36e5,Po=8;function Fo(e){var t,r,o,u,c,d,f,p,h,g,b,y,k=e.onClose,N=e.onSave,O=e.id,E=e.kind,T=m(w.useState(function(){return null!=O?O:null}),2),P=T[0],J=T[1],Q=w.useCallback(function(e){J(function(t){var n=R(e);return n||(t||(null!=e?e:null))})},[]),ee=w.useMemo(function(){var e,t,n,r;return null!==(e=null!==(t=null!==(n=R(null!==(r=null!=P?P:O)&&void 0!==r?r:null))&&void 0!==n?n:P)&&void 0!==t?t:O)&&void 0!==e?e:null},[P,O]),ae=Boolean(ee),ie=M().user,oe="admin"===(null==ie?void 0:ie.role),se="number"==typeof(null==ie?void 0:ie.access)?ie.access:"string"==typeof(null==ie?void 0:ie.access)?Number.parseInt(ie.access,10):Number.NaN,le=Number.isFinite(se)&&(se&Po)===Po,ue=oe||"manager"===(null==ie?void 0:ie.role),fe=D(),pe=fe.t,me=fe.i18n,he=w.useMemo(function(){return null!=E?E:"task"},[E]),ge=m(w.useState(he),2),be=ge[0],ye=ge[1],xe=w.useCallback(function(e){if("request"!==be)return e;return[[/\bЗадачи\b/g,"Заявки"],[/\bзадачи\b/g,"заявки"],[/\bЗадачу\b/g,"Заявку"],[/\bзадачу\b/g,"заявку"],[/\bЗадаче\b/g,"Заявке"],[/\bзадаче\b/g,"заявке"],[/\bЗадачей\b/g,"Заявкой"],[/\bзадачей\b/g,"заявкой"],[/\bЗадача\b/g,"Заявка"],[/\bзадача\b/g,"заявка"]].reduce(function(e,t){var n=m(t,2),r=n[0],a=n[1];return e.replace(r,a)},e)},[be]),we=w.useCallback(function(){return xe(String(pe.apply(void 0,arguments)))},[pe,xe]),ke=me.language;w.useEffect(function(){E&&E!==be&&ye(E)},[E,be]);var Se=m(w.useState(!0),2),Ne=Se[0],Oe=Se[1],Ce=w.useRef(null),_e=w.useRef(!1),Ee=m(w.useState({start:"",due:""}),2),je=Ee[0],Te=Ee[1],Ie=m(w.useState(""),2),De=Ie[0],Re=Ie[1],Me=m(w.useState(""),2),Ae=Me[0],Le=Me[1],Pe=m(w.useState(""),2),Fe=Pe[0],Ve=Pe[1],Ue=m(w.useState([]),2),He=Ue[0],ze=Ue[1],Be=m(w.useState(!1),2),We=Be[0],$e=Be[1],qe=w.useId(),Ge=w.useCallback(function(){var e=l(i().m(function e(t){var n,r,a,o,s,l,u,c,d;return i().w(function(e){for(;;)if(0===e.n)return n="string"==typeof t.title?t.title.trim():"",r="string"==typeof t.description?t.description:"",a="string"==typeof t.assigneeId?t.assigneeId.trim():"",o="string"==typeof t.startDate?t.startDate.trim():"",s="string"==typeof t.dueDate?t.dueDate.trim():"",l={title:n,description:r,assigneeId:a,startDate:o||void 0,dueDate:s||void 0},u={},n||(u.title={type:"required",message:we("titleRequired")}),a||(u.assigneeId={type:"required",message:we("assigneeRequiredError")}),l.startDate&&l.dueDate&&(c=new Date(l.startDate).getTime(),d=new Date(l.dueDate).getTime(),Number.isFinite(c)&&Number.isFinite(d)&&d<c&&(u.dueDate={type:"validate",message:we("dueBeforeStart")})),e.a(2,{values:Object.keys(u).length?{}:l,errors:u})},e)}));return function(t){return e.apply(this,arguments)}}(),[we]),Ye=C({resolver:Ge,defaultValues:{title:"",description:"",assigneeId:"",startDate:"",dueDate:""}}),Ke=Ye.register,Xe=Ye.control,Ze=Ye.handleSubmit,Je=Ye.getValues,Qe=Ye.reset,et=Ye.watch,tt=Ye.setValue,nt=Ye.setError,rt=Ye.formState.errors,at=w.useRef(Qe);w.useEffect(function(){at.current=Qe},[Qe]);var it=w.useCallback(function(){return at.current.apply(at,arguments)},[]),ot=(null===(t=A.find(function(e){return"task_type"===e.name}))||void 0===t?void 0:t.default)||"",st=(null===(r=A.find(function(e){return"priority"===e.name}))||void 0===r?void 0:r.default)||"",lt=(null===(o=A.find(function(e){return"transport_type"===e.name}))||void 0===o?void 0:o.default)||"",ut=(null===(u=A.find(function(e){return"payment_method"===e.name}))||void 0===u?void 0:u.default)||"",ct=(null===(c=A.find(function(e){return"payment_amount"===e.name}))||void 0===c?void 0:c.default)||"0",dt=(null===(d=A.find(function(e){return"status"===e.name}))||void 0===d?void 0:d.default)||"",ft=w.useMemo(function(){var e,t=(null===(e=A.find(function(e){return"task_type"===e.name}))||void 0===e?void 0:e.options)||[];return{requestTypeOptions:t.filter(function(e){return e===ho}),taskTypeOptions:t.filter(function(e){return e!==ho})}},[]),pt=ft.requestTypeOptions,mt=ft.taskTypeOptions,ht=null!==(f=pt[0])&&void 0!==f?f:ho,gt=ot&&ot!==ho?ot:null!==(p=mt[0])&&void 0!==p?p:"",vt=w.useCallback(function(e){var t=e.getFullYear(),n="".concat(e.getMonth()+1).padStart(2,"0"),r="".concat(e.getDate()).padStart(2,"0"),a="".concat(e.getHours()).padStart(2,"0"),i="".concat(e.getMinutes()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r,"T").concat(a,":").concat(i)},[]),bt=w.useCallback(function(e){if(!e)return"";var t=new Date(e);return Number.isNaN(t.getTime())?"":vt(t)},[vt]),yt=w.useCallback(wo,[]),xt=18e6,wt=w.useCallback(function(e){var t=e?new Date(e):new Date,n=new Date(t.getTime()+Lo),r=new Date(n.getTime()+xt);return{start:vt(n),due:vt(r)}},[vt,xt]),kt=et(),St=et("startDate"),Nt=et("dueDate"),Ot=w.useMemo(function(){if(!St)return!1;if(!ae)return!0;var e="string"==typeof Nt?Nt:"",t=je.due;return t?e===t:0===e.trim().length},[St,ae,Nt,je.due]),Ct=ao({startDateValue:St,setValue:tt,defaultOffsetMs:xt,formatInputDate:vt,autoSync:Ot}),_t=Ct.setDueOffset,Et=Ct.handleDueDateChange,jt=w.useState("request"===he?ht:gt),Tt=m(jt,2),It=Tt[0],Dt=Tt[1],Rt=w.useState(""),Mt=m(Rt,2),At=Mt[0],Lt=Mt[1],Pt=w.useState(st),Ft=m(Pt,2),Vt=Ft[0],Ut=Ft[1],zt=w.useState(lt),Bt=m(zt,2),Wt=Bt[0],$t=Bt[1],qt=w.useState(""),Gt=m(qt,2),Yt=Gt[0],Kt=Gt[1],Xt=w.useState(""),Zt=m(Xt,2),Jt=Zt[0],Qt=Zt[1],en=w.useState(""),tn=m(en,2),nn=tn[0],rn=tn[1],an=w.useState(""),on=m(an,2),sn=on[0],ln=on[1],un=w.useState(""),cn=m(un,2),dn=cn[0],fn=cn[1],pn=m(w.useState([]),2),mn=pn[0],hn=pn[1],gn=m(w.useState([]),2),vn=gn[0],bn=gn[1],yn=m(w.useState(!1),2),xn=yn[0],wn=yn[1],kn=m(w.useState(null),2),Sn=kn[0],Nn=kn[1],On=m(w.useState(!1),2),Cn=On[0],_n=On[1],En=m(w.useState(ut),2),jn=En[0],Tn=En[1],In=m(w.useState(function(){return yo(ct)}),2),Dn=In[0],Rn=In[1],Mn=m(w.useState(dt),2),An=Mn[0],Ln=Mn[1],Pn=m(w.useState(dt),2),Fn=Pn[0],Vn=Pn[1],Un=m(w.useState([]),2),Hn=Un[0],zn=Un[1],Bn=m(w.useState(""),2),Wn=Bn[0],$n=Bn[1],qn=m(w.useState(""),2),Gn=qn[0],Yn=qn[1],Kn=m(w.useState(""),2),Xn=Kn[0],Zn=Kn[1],Jn=m(w.useState(""),2),Qn=Jn[0],er=Jn[1],tr=m(w.useState(""),2),nr=tr[0],rr=tr[1],ar=m(w.useState(!1),2),ir=ar[0],or=ar[1],sr=m(w.useState(null),2),lr=sr[0],ur=sr[1],cr=m(w.useState(""),2),dr=cr[0],fr=cr[1],pr="number"==typeof(null==ie?void 0:ie.telegram_id)?ie.telegram_id:null,mr=w.useMemo(function(){var e=Number(dr);return Number.isFinite(e)?e:null},[dr]),hr=null!==pr&&mr===pr,gr=w.useMemo(function(){return null!==pr&&Hn.includes(pr)},[Hn,pr]),vr=hr&&gr,br="Новая"===Fn,yr=ue||gr||hr&&br,xr=ue||gr&&!vr||(hr||vr)&&br,wr=m(w.useState(""),2),kr=wr[0],Sr=wr[1],Nr=m(w.useState(""),2),Or=Nr[0],Cr=Nr[1],_r=m(w.useState(null),2),Er=_r[0],jr=_r[1],Tr=m(w.useState([]),2),Ir=Tr[0],Dr=Tr[1],Rr=m(w.useState(!1),2),Mr=Rr[0],Ar=Rr[1],Lr=m(w.useState(!1),2),Pr=Lr[0],Fr=Lr[1],Vr=m(w.useState(null),2),Ur=Vr[0],Hr=Vr[1],zr=w.useRef(null),Br=w.useRef(null),Wr=w.useRef(0),$r=w.useRef(null),qr=m(w.useState(""),2),Gr=qr[0],Yr=qr[1],Kr=m(w.useState(""),2),Xr=Kr[0],Zr=Kr[1],Jr=m(w.useState(null),2),Qr=Jr[0],ea=Jr[1],ta=m(w.useState([]),2),na=ta[0],ra=ta[1],aa=m(w.useState(!1),2),ia=aa[0],oa=aa[1],sa=m(w.useState(!1),2),la=sa[0],ua=sa[1],ca=m(w.useState(null),2),da=ca[0],fa=ca[1],pa=w.useRef(null),ma=w.useRef(null),ha=w.useRef(0),ga=w.useRef(null),va=w.useCallback(function(){var e;null===(e=zr.current)||void 0===e||e.abort(),zr.current=null,Br.current&&(window.clearTimeout(Br.current),Br.current=null)},[]),ba=w.useCallback(function(){var e;null===(e=pa.current)||void 0===e||e.abort(),pa.current=null,ma.current&&(window.clearTimeout(ma.current),ma.current=null)},[]),ya=w.useCallback(function(){Dr([]),Hr(null),Fr(!1)},[]),xa=w.useCallback(function(){ra([]),fa(null),ua(!1)},[]),wa=w.useMemo(function(){return _o(Or)},[Or]),ka=w.useMemo(function(){return _o(Xr)},[Xr]),Sa=(null===(h=A.find(function(e){return"priority"===e.name}))||void 0===h?void 0:h.options)||[],Na=(null===(g=A.find(function(e){return"transport_type"===e.name}))||void 0===g?void 0:g.options)||[],Oa=(null===(b=A.find(function(e){return"payment_method"===e.name}))||void 0===b?void 0:b.options)||[],Ca=(null===(y=A.find(function(e){return"status"===e.name}))||void 0===y?void 0:y.options)||[],_a=m(w.useState([]),2),Ea=_a[0],ja=_a[1],Ta=m(w.useState([]),2),Ia=Ta[0],Da=Ta[1],Ra=m(w.useState(null),2),Ma=Ra[0],Aa=Ra[1],La=m(w.useState(null),2),Pa=La[0],Fa=La[1],Va=m(w.useState(!1),2),Ua=Va[0],Ha=Va[1],za=m(w.useState(!1),2),Ba=za[0],Wa=za[1],$a=m(w.useState(!1),2),qa=$a[0],Ga=$a[1],Ya=w.useRef(null),Ka=w.useRef(0),Xa=w.useRef(!0),Za=m(w.useState(null),2),Ja=Za[0],Qa=Za[1],ei=m(w.useState(null),2),ti=ei[0],ni=ei[1],ri=m(w.useState(""),2),ai=ri[0],ii=ri[1],oi=w.useRef(!0),si=w.useMemo(function(){return"Легковой"===Wt||"Грузовой"===Wt},[Wt]),li=w.useCallback(l(i().m(function e(){var t,n,r,a,o=arguments;return i().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=o.length>0&&void 0!==o[0]&&o[0],!(xn||Cn&&!t)){e.n=1;break}return e.a(2);case 1:return wn(!0),Nn(null),e.p=2,e.n=3,L();case 3:n=e.v,hn(n.drivers),bn(n.vehicles),_n(!0),e.n=5;break;case 4:e.p=4,a=e.v,r=a instanceof Error&&a.message?a.message:"Не удалось загрузить транспорт",Nn(r),t&&_n(!1);case 5:return e.p=5,wn(!1),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])})),[Cn,xn]);w.useEffect(function(){si&&li()},[si,li]),w.useEffect(function(){return function(){va(),ba()}},[va,ba]),w.useEffect(function(){Yt||Jt&&Qt("")},[Yt,Jt]),w.useEffect(function(){if(!nn)return sn&&ln(""),void(dn&&fn(""));var e=vn.find(function(e){return e.id===nn});e&&(e.name!==sn&&ln(e.name),e.registrationNumber!==dn&&fn(e.registrationNumber))},[nn,vn,sn,dn]);var ui=w.useRef(si);w.useEffect(function(){ui.current&&!si&&(Kt(""),Qt(""),rn(""),ln(""),fn("")),ui.current=si},[si]);var ci=w.useMemo(function(){var e=v(mn);if(Yt){var t=Number.parseInt(Yt,10);Number.isFinite(t)&&!e.some(function(e){return e.id===t})&&e.push({id:t,name:Jt||String(t),username:null})}return e.map(function(e){var t=e.name.trim(),n=t.length>0?t:String(e.id);return a(a({},e),{},{name:n})}).sort(function(e,t){return e.name.localeCompare(t.name,"ru")})},[mn,Yt,Jt]),di=w.useMemo(function(){return ci.map(function(e){return{value:String(e.id),label:e.name}})},[ci]),fi=w.useMemo(function(){var e;return null!==(e=ci.find(function(e){return String(e.id)===Yt}))&&void 0!==e?e:null},[ci,Yt]);w.useEffect(function(){fi&&fi.name!==Jt&&Qt(fi.name)},[fi,Jt]);var pi=w.useMemo(function(){var e="Грузовой"===Wt?"Грузовой":"Легковой",t=vn.filter(function(t){return t.transportType===e}).slice();return nn&&!t.some(function(e){return e.id===nn})&&t.push({id:nn,name:sn||nn,registrationNumber:dn||"",transportType:e}),t.sort(function(e,t){return e.name.localeCompare(t.name,"ru")})},[vn,nn,sn,dn,Wt]),mi=w.useMemo(function(){return pi.map(function(e){return{value:e.id,label:e.registrationNumber?"".concat(e.name," (").concat(e.registrationNumber,")"):e.name}})},[pi]);w.useEffect(function(){si&&nn&&(pi.some(function(e){return e.id===nn})||(rn(""),ln(""),fn("")))},[si,nn,pi]);var hi=si||Boolean(Yt||nn||Jt||sn),gi=Ne&&(ue||hr||gr),vi=[{value:"full",label:we("doneFull")},{value:"partial",label:we("donePartial")},{value:"changed",label:we("doneChanged")}],bi=m(w.useState(!1),2),yi=bi[0],xi=bi[1],wi=m(w.useState(""),2),ki=wi[0],Si=wi[1],Ni=m(w.useState(!1),2),Oi=Ni[0],Ci=Ni[1],_i=m(w.useState(null),2),Ei=_i[0],ji=_i[1],Ti=w.useRef(null),Ii=w.useRef(null);w.useEffect(function(){if("undefined"!=typeof document){var e=document,t=e.body,n=e.documentElement,r=t.style.overflow,a=t.style.paddingRight,i="undefined"!=typeof window?window.innerWidth-n.clientWidth:0;return t.style.overflow="hidden",i>0&&(t.style.paddingRight="".concat(i,"px")),function(){t.style.overflow=r,t.style.paddingRight=a}}},[]),w.useEffect(function(){if("undefined"!=typeof document){var e=function(e){"Escape"===e.key&&(e.preventDefault(),k())};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}},[k]),w.useEffect(function(){O&&Q(O)},[O,Q]);var Di=Ke("title"),Ri=Di.ref,Mi=x(Di,n),Ai=et("title",""),Li=w.useMemo(function(){return"string"==typeof Ai&&Ai.trim().length>0},[Ai]),Pi=Ne&&Li,Fi=w.useRef(null),Vi=w.useCallback(function(e){Fi.current=e,Ri(e)},[Ri]);w.useEffect(function(){var e=Fi.current;e&&(e.style.height="",e.style.height="".concat(e.scrollHeight,"px"))},[Ai]),w.useEffect(function(){ae||"request"!==be||Dt(ht)},[ht,be,ae]);var Bi=w.useCallback(function(e){var t=Ea.find(function(t){return t.telegram_id===e});return(null==t?void 0:t.name)||(null==t?void 0:t.telegram_username)||(null==t?void 0:t.username)||String(e)},[Ea]),Wi=function(e){Da(function(t){return t.filter(function(t){return t.url!==e.url})}),Aa(function(t){return t&&t.url===e.url?null:t})},$i=w.useCallback(function(e,t){var n,r,a,i,o,s,l=go(e);ye(l);var u="string"==typeof e.task_type?e.task_type:"",c="request"===l?u===ho?u:ht:u&&mt.includes(u)?u:gt,d=co(e.priority)||st,f=e.transport_type||lt,p=e.payment_method||ut,m=yo(null!==(n=e.payment_amount)&&void 0!==n?n:ct),h=e.status||dt,g=null!==(r=e.completed_at)&&void 0!==r?r:e.completedAt,b=jo(g),y=function(){var t=[];Array.isArray(e.assignees)&&e.assignees.forEach(function(e){var n=uo(e);null!==n&&t.push(n)});var n=uo(e.assigned_user_id);return null!==n&&t.push(n),Array.from(new Set(t))}(),x=Array.isArray(e.assignees)?e.assignees[0]:e.assigned_user_id,w=function(){if(null==x)return"";if("string"==typeof x){var e=x.trim();return e.length>0?e:""}return String(x)}(),k=uo(e.transport_driver_id),S=null!==k?String(k):"",N=e.transport_driver_name,O="string"==typeof N?N.trim():"",C=null!==k&&t?t[String(k)]:void 0,_=O||(C?C.name||C.telegram_username||C.username||String(k):null!==k?String(k):""),E="string"==typeof e.transport_vehicle_id?e.transport_vehicle_id:"",j="string"==typeof e.transport_vehicle_name?e.transport_vehicle_name:"",T="string"==typeof e.transport_vehicle_registration?e.transport_vehicle_registration:"",I=e.createdAt||Ae||"",D=yt(I);D&&Le(D.toISOString());var R=yt(null!==(a=e.start_date)&&void 0!==a?a:null),M=D?R&&R.getTime()>=D.getTime()?R:D:R,A=M?vt(M):D?vt(D):"",L=yt(null!==(i=e.due_date)&&void 0!==i?i:null),P=M&&L?L.getTime()>=M.getTime()?L:M:L,F=P?vt(P):M?vt(new Date(M.getTime()+xt)):"",V=A&&F?new Date(F).getTime()-new Date(A).getTime():xt;_t(V),Te({start:A,due:F}),it({title:e.title||"",description:e.task_description||"",assigneeId:w,startDate:A,dueDate:F}),_e.current=!0,Dt(c),Lt(e.comment||""),Ut(d),$t(f),Kt(S),Qt(O||_),rn(E),ln(j),fn(T),Tn(p),Rn(m),Vn(h),Ln(h),Ve(b),zn(y);var U=po(e.cargo_length_m),H=po(e.cargo_width_m),z=po(e.cargo_height_m),B=po(e.cargo_weight_kg),W="number"==typeof e.cargo_volume_m3?String(e.cargo_volume_m3):po(e.cargo_volume_m3);$n(U),Yn(H),Zn(z),rr(B),er(W);var $=Ao(U,H,z,W,B),q=e.start_location||"",G=e.end_location||"",Y=e.start_location_link||"",K=e.end_location_link||"",X=_o(Y),Z=_o(K),J=ko(e.startCoordinates),ee=ko(e.finishCoordinates),te=_o(e.google_route_url||""),ne="number"==typeof e.route_distance_km?e.route_distance_km:null,re=e.logistics_enabled,ae=Boolean(q||G||X||Z||null!==ne||f!==lt||$),ie="boolean"==typeof re?re:ae;or(ie),fr(String(e.created_by||"")),Sr(q),Cr(X),jr(null!=J?J:X?zi(X):null),ya(),Ar(!1),Yr(G),Zr(Z),ea(null!=ee?ee:Z?zi(Z):null),xa(),oa(!1),te?(oi.current=!1,ii(te)):(oi.current=!0,ii("")),Da(e.attachments||[]);var oe=e.telegram_photos_chat_id,se=e.telegram_photos_message_id;Qa(mo(oe,se)),t&&ja(function(e){var n=v(e);return Object.values(t).forEach(function(e){n.some(function(t){return t.telegram_id===e.telegram_id})||n.push(e)}),n}),ni(ne),Ce.current={title:e.title||"",taskType:c,description:e.task_description||"",comment:e.comment||"",priority:d,transportType:f,paymentMethod:p,paymentAmount:m,status:h,completedAt:b,creator:String(e.created_by||""),assigneeId:w,assigneeIds:y,start:e.start_location||"",startLink:X,end:e.end_location||"",endLink:Z,startDate:A,dueDate:F,attachments:e.attachments||[],distanceKm:"number"==typeof ne?ne:null,cargoLength:U,cargoWidth:H,cargoHeight:z,cargoVolume:W,cargoWeight:B,transportDriverId:S,transportDriverName:O||_,transportVehicleId:E,transportVehicleName:j,transportVehicleRegistration:T,showLogistics:ie,photosLink:mo(oe,se),photosChatId:oe,photosMessageId:se},ji(null),Q(null!==(o=null!==(s=e._id)&&void 0!==s?s:e.id)&&void 0!==o?o:null)},[gt,st,lt,ut,ct,dt,xt,ht,mt,Ae,vt,yt,it,_t,Te,Q]);w.useEffect(function(){Oe(!ae||yr)},[ae,yr]),w.useEffect(function(){var e=fo(Wn),t=fo(Gn),n=fo(Xn);if(null===e||null===t||null===n)(Wn.trim()||Gn.trim()||Xn.trim())&&""!==Qn&&er("");else{var r=e*t*n;if(Number.isFinite(r)){var a=r.toFixed(3);a!==Qn&&er(a)}else""!==Qn&&er("")}},[Wn,Gn,Xn,Qn]);var Gi=function(e){if("number"==typeof e&&Number.isFinite(e))return e;if("string"==typeof e){var t=e.trim();if(!t)return null;var n=Number(t);return Number.isFinite(n)?n:null}return null},Ki=w.useCallback(function(){var e=Je(),t="string"==typeof e.title?e.title.trim():"",n="string"==typeof e.description?e.description:"",r="string"==typeof e.assigneeId?e.assigneeId.trim():"",a=Gi(r),i=null!==a?a:r||void 0,o={title:t,task_type:"request"===be?ht:It,task_description:n,comment:At,priority:Vt,transport_type:Wt,payment_method:jn,status:An,logistics_enabled:ir,attachments:Ia};void 0!==i&&(o.assigned_user_id=i),Hn.length>0?o.assignees=Hn:void 0!==i&&(o.assignees=[i]);var s=Gi(dr);null!==s?o.created_by=s:dr.trim()&&(o.created_by=dr.trim()),e.startDate&&(o.start_date=e.startDate),e.dueDate&&(o.due_date=e.dueDate),kr&&(o.start_location=kr),Or&&(o.start_location_link=Or),Gr&&(o.end_location=Gr),Xr&&(o.end_location_link=Xr),Er&&(o.startCoordinates=Er),Qr&&(o.finishCoordinates=Qr),ai&&(o.google_route_url=ai),null!==ti&&(o.route_distance_km=ti);var l=Yt.trim();if(l){var u=Gi(Yt);o.transport_driver_id=null!==u?u:l}else o.transport_driver_id=null;var c=Jt.trim();c?o.transport_driver_name=c:l||(o.transport_driver_name=null);var d=nn.trim();o.transport_vehicle_id=d||null;var f=sn.trim();f?o.transport_vehicle_name=f:d||(o.transport_vehicle_name=null);var p=dn.trim();p?o.transport_vehicle_registration=p:d||(o.transport_vehicle_registration=null),De&&("request"===be?o.request_id=De:o.task_number=De);var m=bo(Dn);null!==m?o.payment_amount=m:Dn.trim()&&(o.payment_amount=Dn.trim());var h=fo(Wn);null!==h?o.cargo_length_m=h:Wn.trim()&&(o.cargo_length_m=Wn.trim());var g=fo(Gn);null!==g?o.cargo_width_m=g:Gn.trim()&&(o.cargo_width_m=Gn.trim());var v=fo(Xn);null!==v?o.cargo_height_m=v:Xn.trim()&&(o.cargo_height_m=Xn.trim());var b=fo(Qn);null!==b?o.cargo_volume_m3=b:Qn.trim()&&(o.cargo_volume_m3=Qn.trim());var y=fo(nr);null!==y?o.cargo_weight_kg=y:nr.trim()&&(o.cargo_weight_kg=nr.trim()),Fe&&(o.completed_at=Fe);var x={};return Jt.trim()&&(x.transportDriverName=Jt.trim()),sn.trim()&&(x.transportVehicleName=sn.trim()),dn.trim()&&(x.transportVehicleRegistration=dn.trim()),Ja&&(x.photosLink=Ja),Object.keys(x).length>0&&(o.draftMeta=x),o.kind=be,o},[Ia,Xn,Wn,Qn,nr,Gn,At,Fe,dr,ti,Gr,Xr,be,Je,Dn,jn,Ja,Vt,ai,ir,kr,Er,Or,Hn,It,Yt,Jt,Wt,nn,sn,dn,An,Qr,De]);w.useEffect(function(){var e,t=ee;if(ae&&t){var n;Ii.current=null;var r=null!==(n=R(t))&&void 0!==n?n:t;if(Ti.current===r)return;return Ti.current=r,void I("/api/v1/tasks/".concat(t)).then(function(e){return e.ok?e.json():null}).then(function(e){var t,n,r,a,i;if(e){var o=e.task||e;ja(function(t){var n=v(t),r=e.users||{};return Object.values(r).forEach(function(e){n.some(function(t){return t.telegram_id===e.telegram_id})||n.push(e)}),n}),Re(o.task_number||o.request_id);var s=null!==(t=null!==(n=o.createdAt)&&void 0!==n?n:o.created_at)&&void 0!==t?t:null,l=jo(s),u=yt(l);Le(u?u.toISOString():l||function(e){return e||(new Date).toISOString()}),ze(To(o.history)),$i(o,e.users);var c=null!==(r=R(null!==(a=null!==(i=o._id)&&void 0!==i?i:o.id)&&void 0!==a?a:null))&&void 0!==r?r:null;c&&(Ti.current=c)}else Ti.current=null})}Ti.current=null,ye(he);var a=new Date,i=wt(a),o=i.start,s=i.due;Le(function(e){return e||a.toISOString()}),Ve(""),ze([]),J(null);var l="request"===he?"/api/v1/tasks/report/summary?kind=request":"/api/v1/tasks/report/summary";Ii.current=(null===(e=Ii.current)||void 0===e?void 0:e.kind)===he?Ii.current:{kind:he,completed:!1};var u=Ii.current;u&&!u.completed&&(u.completed=!0,I(l).then(function(e){return e.ok?e.json():{count:0}}).then(function(e){var t=String((e.count||0)+1).padStart(6,"0");Re("".concat("request"===he?"REQ":"ERM","_").concat(t))}).catch(function(){Ii.current&&Ii.current.kind===he&&(Ii.current.completed=!1)})),Rn(yo(ct)),Qa(null);var c=wo(o);ji(c?so(c):null);var d=[];zn(d),Vn(dt),Ce.current={title:"",taskType:"request"===he?ht:gt,description:"",comment:"",priority:st,transportType:lt,paymentMethod:ut,paymentAmount:yo(ct),status:dt,completedAt:"",creator:ie?String(ie.telegram_id):"",assigneeId:"",assigneeIds:d,start:"",startLink:"",end:"",endLink:"",startDate:o,dueDate:s,attachments:[],distanceKm:null,cargoLength:"",cargoWidth:"",cargoHeight:"",cargoVolume:"",cargoWeight:"",transportDriverId:"",transportDriverName:"",transportVehicleId:"",transportVehicleName:"",transportVehicleRegistration:"",showLogistics:!1,photosLink:null,photosChatId:void 0,photosMessageId:void 0},Te({start:o,due:s}),it({title:"",description:"",assigneeId:"",startDate:o,dueDate:s}),_e.current=!1,$n(""),Yn(""),Zn(""),er(""),rr(""),or(!1),Kt(""),Qt(""),rn(""),ln(""),fn(""),_t(xt)},[ae,ee,ie,gt,ht,st,lt,ut,ct,dt,xt,wt,yt,it,_t,Te,$i,he]),w.useEffect(function(){var e;if(ae)Ei&&ji(null);else{var t=null===(e=Ce.current)||void 0===e?void 0:e.startDate;t&&Ei&&St&&St!==t&&ji(null)}},[ae,Ei,St]),w.useEffect(function(){if("request"===be)return ie&&fr(String(ie.telegram_id)),void F().then(function(e){ja(e)}).catch(function(){ja([])});ue?I("/api/v1/users").then(function(e){return e.ok?e.json():[]}).then(function(e){ja(e),ie&&fr(String(ie.telegram_id))}):ie&&(fr(String(ie.telegram_id)),ja([ie]))},[ie,ue,be]),w.useEffect(function(){if(!ae){var e=!1;return Ha(!0),V(be).then(function(t){if(!e)if(t){var n;Fa(t);var r=t.payload||{};$i(r);var a=null!==(n=r.draftMeta)&&void 0!==n?n:{};"string"==typeof a.transportDriverName&&Qt(a.transportDriverName),"string"==typeof a.transportVehicleName&&ln(a.transportVehicleName),"string"==typeof a.transportVehicleRegistration&&fn(a.transportVehicleRegistration),"string"==typeof a.photosLink&&Qa(a.photosLink),qo(function(e){return null!=e?e:we("taskDraftLoaded")}),Ga(!0),Xa.current=!0,window.setTimeout(function(){if(!e)try{Ya.current=JSON.stringify(Ki())}catch(t){console.warn("Не удалось зафиксировать состояние черновика",t)}},0)}else Fa(null),Xa.current=!0,Ya.current=null,Ga(!1)}).catch(function(t){e||console.warn("Не удалось загрузить черновик задачи",t)}).finally(function(){e||Ha(!1)}),function(){e=!0}}Fa(null)},[$i,be,ae,Qa,Qt,ln,fn,we]);var Qi=w.useCallback(function(e){var t=e.trim();if(t.length<Oo)ya();else{va();var n=Wr.current+1;Wr.current=n;var r=new AbortController;zr.current=r,Fr(!0),Hr(null),Xi(t,{signal:r.signal,limit:7,language:ke}).then(function(e){Wr.current===n&&Dr(e)}).catch(function(e){e instanceof DOMException&&"AbortError"===e.name||Wr.current===n&&(Dr([]),Hr(we("addressSearchFailed")))}).finally(function(){Wr.current===n&&Fr(!1)})}},[va,ya,ke,we]),eo=w.useCallback(function(e){var t=e.trim();if(t.length<Oo)xa();else{ba();var n=ha.current+1;ha.current=n;var r=new AbortController;pa.current=r,ua(!0),fa(null),Xi(t,{signal:r.signal,limit:7,language:ke}).then(function(e){ha.current===n&&ra(e)}).catch(function(e){e instanceof DOMException&&"AbortError"===e.name||ha.current===n&&(ra([]),fa(we("addressSearchFailed")))}).finally(function(){ha.current===n&&ua(!1)})}},[ba,xa,ke,we]),to=w.useCallback(function(e){va(),e.trim()?e.trim().length<Oo?ya():Br.current=window.setTimeout(function(){Br.current=null,Qi(e)},350):ya()},[va,ya,Qi]),no=w.useCallback(function(e){ba(),e.trim()?e.trim().length<Oo?xa():ma.current=window.setTimeout(function(){ma.current=null,eo(e)},350):xa()},[ba,xa,eo]),oo=w.useCallback(function(e){var t;oi.current=!0,va(),Ar(!1),Hr(null),ya(),null===(t=$r.current)||void 0===t||t.focus(),Sr(e.label);var n={lat:e.lat,lng:e.lng};jr(n),Cr(No(n))},[va,ya]),lo=w.useCallback(function(e){var t;oi.current=!0,ba(),oa(!1),fa(null),xa(),null===(t=ga.current)||void 0===t||t.focus(),Yr(e.label);var n={lat:e.lat,lng:e.lng};ea(n),Zr(No(n))},[ba,xa]),vo=w.useCallback(function(e){oi.current=!0,Sr(e),Cr(""),jr(null),Hr(null),Ar(!0),to(e)},[to]),Ro=w.useCallback(function(e){oi.current=!0,Yr(e),Zr(""),ea(null),fa(null),oa(!0),no(e)},[no]),Fo=function(){var e=l(i().m(function e(t){var n,r,a,o,s,l,u,c;return i().w(function(e){for(;;)switch(e.n){case 0:if(oi.current=!0,n=_o(t)){e.n=1;break}return Sr(""),jr(null),Cr(""),Ar(!1),va(),ya(),e.a(2);case 1:if(r=n,o=zi(a=n),!/^https?:\/\/maps\.app\.goo\.gl\//i.test(n)&&!Eo(n)){e.n=3;break}return e.n=2,Yi(n);case 2:null!=(s=e.v)&&s.url&&(l=_o(s.url)||n,a=l,(u=ko(s.coords))&&(o=u),"string"==typeof s.short?(c=_o(s.short),r=c||n):r=l),o||(o=zi(a));case 3:Sr(qi(a)),jr(null!=o?o:zi(a)),Cr(r),Ar(!1),va(),ya();case 4:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),Vo=function(){var e=l(i().m(function e(t){var n,r,a,o,s,l,u,c;return i().w(function(e){for(;;)switch(e.n){case 0:if(oi.current=!0,n=_o(t)){e.n=1;break}return Yr(""),ea(null),Zr(""),oa(!1),ba(),xa(),e.a(2);case 1:if(r=n,o=zi(a=n),!/^https?:\/\/maps\.app\.goo\.gl\//i.test(n)&&!Eo(n)){e.n=3;break}return e.n=2,Yi(n);case 2:null!=(s=e.v)&&s.url&&(l=_o(s.url)||n,a=l,(u=ko(s.coords))&&(o=u),"string"==typeof s.short?(c=_o(s.short),r=c||n):r=l),o||(o=zi(a));case 3:Yr(qi(a)),ea(null!=o?o:zi(a)),Zr(r),oa(!1),ba(),xa();case 4:return e.a(2)}},e)}));return function(t){return e.apply(this,arguments)}}(),Uo=w.useCallback(function(){var e=l(i().m(function e(t,n){var r,a,o,s;return i().w(function(e){for(;;)switch(e.p=e.n){case 0:return oi.current=!0,ur(null),r=No(n),a=So(n),e.p=1,e.n=2,Zi(n,{language:ke});case 2:(o=e.v)?a=o.description?"".concat(o.label,", ").concat(o.description):o.label:qo(function(e){return null!=e?e:we("addressReverseNotFound")}),e.n=4;break;case 3:e.p=3,s=e.v,console.warn("Не удалось получить адрес по координатам",s),qo(function(e){return null!=e?e:we("addressReverseFailed")});case 4:"start"===t?(va(),ya(),Ar(!1),Hr(null),Sr(a),jr(n),Cr(r)):(ba(),xa(),oa(!1),fa(null),Yr(a),ea(n),Zr(r));case 5:return e.a(2)}},e,null,[[1,3]])}));return function(t,n){return e.apply(this,arguments)}}(),[ba,va,xa,ya,ke,we]),Ho=w.useCallback(function(e){ur({target:e,initialCoords:"start"===e?null!=Er?Er:null:null!=Qr?Qr:null})},[Qr,Er]);w.useEffect(function(){if(Er&&Qr){oi.current&&ii(function(e,t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"driving";return e&&t?"https://www.google.com/maps/dir/?api=1&origin=".concat(e.lat,",").concat(e.lng,"&destination=").concat(t.lat,",").concat(t.lng,"&travelmode=").concat(n):""}(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"driving")}(Er,Qr));var e=!1,t=function(){var t=re(Er,Qr);e||ni(Number(t.toFixed(1)))};return Ji(Er,Qr).then(function(n){e||(n&&"number"==typeof n.distance&&Number.isFinite(n.distance)?ni(Number((n.distance/1e3).toFixed(1))):t())}).catch(function(){t()}),function(){e=!0}}ni(null),oi.current&&ii("")},[Er,Qr]);var zo=w.useCallback(l(i().m(function e(){var t;return i().w(function(e){for(;;)switch(e.p=e.n){case 0:return Ha(!0),e.p=1,e.n=2,U(be);case 2:Fa(null),qo(we("taskDraftCleared")),Ga(!1),Xa.current=!0;try{Ya.current=JSON.stringify(Ki())}catch(n){console.warn("Не удалось сбросить состояние черновика",n)}e.n=4;break;case 3:e.p=3,t=e.v,console.error("Не удалось удалить черновик",t),t instanceof H||t instanceof Error&&t.message?qo(we("taskDraftClearFailedWithReason",{reason:t.message})):qo(we("taskDraftClearFailed"));case 4:return e.p=4,Ha(!1),e.f(4);case 5:return e.a(2)}},e,null,[[1,3,4,5]])})),[Ki,be,we]),Bo=Ze(function(){var e=l(i().m(function e(t){var n,r,o,s,l,u,c,d,f,p,m,h,g,v,b,y,x,w,k,S,O,C,_,E,j,T,D,M,A,L,P,F,V,$,q,G,Y,K,X,Z,J,te,ne,re,ie,oe,se,le,ue,ce,de,fe,pe,me,he,ge,ve,ye,xe,ke,Se,Ne,Oe,_e,Ee,je,Te,Ie,De,Me,Pe,Fe,Ve,Ue,He;return i().w(function(e){for(;;)switch(e.p=e.n){case 0:if(e.p=0,r=wo(Ae),!t.startDate||!r){e.n=1;break}if(!(o=wo(t.startDate))){e.n=1;break}if(s=Math.floor(o.getTime()/6e4),l=Math.floor(r.getTime()/6e4),!(s<l)){e.n=1;break}return nt("startDate",{type:"validate",message:we("startBeforeCreated")}),qo(we("startBeforeCreated")),e.a(2);case 1:if(u=Ce.current,c=(null==u?void 0:u.startDate)||"",d=(null==u?void 0:u.dueDate)||"",f=t.startDate||"",p=t.dueDate||"",h=f,g=p,v=!1,b=!1,y=!1,x=!1,(m=!ae)?(w=wt(null!=r?r:void 0),k=Boolean(f)&&Boolean(c)&&f===c,S=!f&&Boolean(c),h=f||w.start,(k||!f&&!c||S)&&(h=vt(new Date)),O=Boolean(p)&&Boolean(d)&&p===d,g=p||w.due,(!p&&!d||O)&&(C=new Date(h).getTime(),_=c&&d?new Date(d).getTime()-new Date(c).getTime():xt,Number.isFinite(C)&&(g=vt(new Date(C+_)))),v=!0,b=!0,y=!0,x=!0):((E=f!==c)||(h=c),(j=p!==d)||(g=d),E&&(v=!0,y=!0),j&&(b=!0,x=!0)),T=Number.NaN,D=Number.NaN,h&&(T=new Date(h).getTime()),g&&(D=new Date(g).getTime()),!Number.isNaN(T)&&!Number.isNaN(D)&&D<T&&(g=vt(new Date(T+xt)),b=!0,x=!0,D=new Date(g).getTime()),Number.isNaN(T)||Number.isNaN(D)||_t(D-T),v&&tt("startDate",h),b&&tt("dueDate",g),M="string"==typeof t.assigneeId?t.assigneeId.trim():""){e.n=2;break}return nt("assigneeId",{type:"required",message:we("assigneeRequiredError")}),qo(we("assigneeRequiredError")),e.a(2);case 2:if(A=Gi(M),L=null!==A?A:M,P="request"===be?ht:It,F={title:t.title,task_type:P,task_description:t.description,comment:At,priority:Vt,transport_type:Wt,payment_method:jn,status:An,created_by:Gi(dr),assigned_user_id:L,start_location:kr,start_location_link:Or,end_location:Gr,end_location_link:Xr,logistics_enabled:ir},(V=Yt.trim())?($=Number.parseInt(V,10),F.transport_driver_id=Number.isFinite($)?$:V):F.transport_driver_id=null,(q=Jt.trim())?F.transport_driver_name=q:V||(F.transport_driver_name=null),G=nn.trim(),F.transport_vehicle_id=G||null,(Y=sn.trim())?F.transport_vehicle_name=Y:G||(F.transport_vehicle_name=null),(K=dn.trim())?F.transport_vehicle_registration=K:G||(F.transport_vehicle_registration=null),m||null!==F.created_by||delete F.created_by,y&&(F.start_date=h||""),x&&(F.due_date=g||""),null!==(X=bo(Dn))){e.n=3;break}return qo(we("paymentAmountInvalid")),e.a(2);case 3:if(F.payment_amount=X,Z=fo(Wn),J=fo(Gn),te=fo(Xn),ne=fo(nr),re=null!==Z&&null!==J&&null!==te?Z*J*te:fo(Qn),null!==Z?F.cargo_length_m=Z:ae&&(F.cargo_length_m=""),null!==J?F.cargo_width_m=J:ae&&(F.cargo_width_m=""),null!==te?F.cargo_height_m=te:ae&&(F.cargo_height_m=""),null!==re?F.cargo_volume_m3=re:ae&&(F.cargo_volume_m3=""),null!==ne?F.cargo_weight_kg=ne:ae&&(F.cargo_weight_kg=""),Er&&(F.startCoordinates=Er),Qr&&(F.finishCoordinates=Qr),null!==ti&&(F.route_distance_km=ti),ai&&(F.google_route_url=ai),ie=a(a({},F),{},{attachments:Ia}),oe=null,le=se=null!=ee?ee:"",!ae||!se){e.n=7;break}return e.n=4,z(se,ie);case 4:if((pe=e.v).ok){e.n=5;break}throw new Error("SAVE_FAILED");case 5:return e.n=6,pe.json();case 6:me=e.v,oe=me,he=null!==(ue=null!==(ce=me._id)&&void 0!==ce?ce:me.id)&&void 0!==ue?ue:se,le=null!==(de=null!==(fe=R(he))&&void 0!==fe?fe:he)&&void 0!==de?de:"",e.n=10;break;case 7:return e.n=8,"request"===be?B(ie):W(ie);case 8:if(ke=e.v){e.n=9;break}throw new Error("SAVE_FAILED");case 9:oe=ke,Se=null!==(ge=null!==(ve=ke._id)&&void 0!==ve?ve:ke.id)&&void 0!==ge?ge:le,le=null!==(ye=null!==(xe=R(Se))&&void 0!==xe?xe:Se)&&void 0!==ye?ye:"";case 10:if(Ne=null,!le){e.n=14;break}return Q(le),e.p=11,_e=null!==(Oe=R(le))&&void 0!==Oe?Oe:le,e.n=12,I("/api/v1/tasks/".concat(_e)).then(function(e){return e.ok?e.json():null});case 12:Ne=e.v,e.n=14;break;case 13:e.p=13,e.v,Ne=null;case 14:if((Ee=(null===(n=Ne)||void 0===n?void 0:n.task)||Ne||oe)&&($i(Ee,null===(je=Ne)||void 0===je?void 0:je.users),(De=Ee.createdAt||(null===(Te=Ne)||void 0===Te||null===(Te=Te.task)||void 0===Te?void 0:Te.createdAt))&&(Me=new Date(De),Number.isNaN(Me.getTime())||Le(Me.toISOString())),null!=(Pe=null===(Ie=Ne)||void 0===Ie?void 0:Ie.task)&&Pe.history&&ze(To(Pe.history)),(Fe=(null==Pe?void 0:Pe.task_number)||(null==Pe?void 0:Pe.request_id)||Ee.task_number||Ee.request_id)&&Re(Fe)),qo(we(ae?"taskUpdated":"taskCreated")),ae){e.n=18;break}return e.p=15,e.n=16,U(be);case 16:Fa(null),Ga(!1),Xa.current=!0;try{Ya.current=JSON.stringify(Ki())}catch(i){console.warn("Не удалось обновить состояние черновика",i)}e.n=18;break;case 17:e.p=17,Ue=e.v,console.warn("Не удалось удалить сохранённый черновик",Ue);case 18:Ee&&N&&N(Ee),e.n=20;break;case 19:e.p=19,He=e.v,console.error(He),He instanceof H?(Ve=He.message.trim(),qo(Ve?we("taskSaveFailedWithReason",{reason:Ve}):we("taskSaveFailed"))):He instanceof Error&&He.message?qo(we("taskSaveFailedWithReason",{reason:He.message})):qo(we("taskSaveFailed"));case 20:return e.p=20,Ci(!1),e.f(20);case 21:return e.a(2)}},e,null,[[15,17],[11,13],[0,19,20,21]])}));return function(t){return e.apply(this,arguments)}}(),function(e){e.assigneeId&&(Ci(!1),qo(we("assigneeRequiredError")))}),Wo=m(w.useState(null),2),$o=Wo[0],qo=Wo[1],Go=m(w.useState(!1),2),Yo=Go[0],Ko=Go[1],Xo=m(w.useState(!1),2),Zo=Xo[0],Jo=Xo[1],Qo=m(w.useState(!1),2),es=Qo[0],ts=Qo[1],ns=m(w.useState(!1),2),rs=ns[0],as=ns[1],is=m(w.useState(""),2),os=is[0],ss=is[1];w.useEffect(function(){if(!ae&&Ne){var e=Ki(),t=JSON.stringify(e);if(Xa.current)return Xa.current=!1,void(Ya.current=t);if(Ya.current!==t){Ga(!0);var n=window.setTimeout(function(){var n=Ka.current+1;Ka.current=n,Wa(!0),$(be,e).then(function(e){Ka.current===n&&(Ya.current=t,Fa(e))}).catch(function(e){Ka.current===n&&(console.error("Не удалось сохранить черновик",e),e instanceof H||e instanceof Error&&e.message?qo(we("taskDraftSaveFailedWithReason",{reason:e.message})):qo(we("taskDraftSaveFailed")))}).finally(function(){Ka.current===n&&Wa(!1)})},800);return function(){window.clearTimeout(n)}}}},[Ki,Ne,be,ae,we,kt]);var ls,us=function(){var e=l(i().m(function e(){var t;return i().w(function(e){for(;;)switch(e.n){case 0:if(t=ee){e.n=1;break}return e.a(2);case 1:return e.n=2,X(t);case 2:N&&N(null),k(),qo(we("taskDeleted"));case 3:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}}(),cs=function(){var e=l(i().m(function e(){var t,n,r,a,o,s,l;return i().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=ee){e.n=1;break}return e.a(2);case 1:return n=An,Ln("В работе"),e.p=2,e.n=3,Promise.all([z(t,{status:"В работе"}).then(function(e){return e.ok?e.json():null}),Z(t,"В работе")]);case 3:r=e.v,a=m(r,1),(o=a[0])?(N&&N(o),Ce.current&&(Ce.current.status="В работе"),Vn("В работе")):(Ln(n),qo(we("taskSaveFailed"))),e.n=5;break;case 4:e.p=4,l=e.v,console.error(l),Ln(n),l instanceof H?(s=l.message.trim(),qo(s?we("taskSaveFailedWithReason",{reason:s}):we("taskSaveFailed"))):l instanceof Error&&l.message?qo(we("taskSaveFailedWithReason",{reason:l.message})):qo(we("taskSaveFailed"));case 5:return e.p=5,Si("accept"),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(){return e.apply(this,arguments)}}(),ds=function(){var e=l(i().m(function e(t){var n,r,a,o,s,l,u,c,d,f;return i().w(function(e){for(;;)switch(e.p=e.n){case 0:if(n=ee){e.n=1;break}return e.a(2);case 1:return r=An,Ln("Выполнена"),e.p=2,e.n=3,Promise.all([z(n,{status:"Выполнена",completed_at:(new Date).toISOString(),completion_result:t}).then(function(e){return e.ok?e.json():null}),Z(n,"Выполнена")]);case 3:a=e.v,o=m(a,1),(s=o[0])?(u=jo(null!==(l=null==s?void 0:s.completed_at)&&void 0!==l?l:null==s?void 0:s.completedAt),c=(new Date).toISOString(),Ve(u||c),Ce.current&&(Ce.current.status="Выполнена",Ce.current.completedAt=u||c),Vn("Выполнена"),N&&N(s)):(Ln(r),qo(we("taskSaveFailed"))),e.n=5;break;case 4:e.p=4,f=e.v,console.error(f),Ln(r),f instanceof H?(d=f.message.trim(),qo(d?we("taskSaveFailedWithReason",{reason:d}):we("taskSaveFailed"))):f instanceof Error&&f.message?qo(we("taskSaveFailedWithReason",{reason:f.message})):qo(we("taskSaveFailed"));case 5:return e.p=5,xi(!1),Si("done"),e.f(5);case 6:return e.a(2)}},e,null,[[2,4,5,6]])}));return function(t){return e.apply(this,arguments)}}(),fs=Number(dr),ps=Number.isFinite(fs)&&dr.trim().length>0,ms=ps?Bi(fs):"",hs=w.useMemo(function(){var e=[we("task")];De&&e.push(De);var t=Ae?xo(Ae):"";return t&&e.push(t),e.join(" ").trim()},[Ae,De,we]),gs=w.useCallback(function(e){e.target===e.currentTarget&&k()},[k]),vs=kr.trim().length,bs=Gr.trim().length;return"undefined"==typeof document?null:S.createPortal(s.jsxs("div",{className:"fixed inset-0 z-[1000]",children:[s.jsx("div",{"aria-hidden":"true",onClick:gs,className:"absolute inset-0 h-full w-full cursor-default bg-slate-950/70 backdrop-blur-sm"}),s.jsx("div",{className:"pointer-events-none absolute inset-0",children:s.jsx("div",{className:"flex min-h-full items-start justify-center p-4 sm:p-6",children:s.jsxs("div",{className:"pointer-events-auto relative mx-auto w-full max-w-6xl space-y-6 overflow-y-auto rounded-2xl bg-white p-4 shadow-lg sm:p-6",style:{WebkitOverflowScrolling:"touch",maxHeight:"calc(100vh - 2rem)"},role:"dialog","aria-modal":"true","aria-labelledby":qe,children:[s.jsxs("div",{className:"pr-16",children:[s.jsx("h3",{id:qe,className:"text-lg leading-snug font-semibold break-words text-gray-900 sm:overflow-hidden sm:text-ellipsis sm:whitespace-nowrap",children:hs}),ps?s.jsxs("div",{className:"mt-1 flex flex-wrap items-center gap-1 text-sm text-gray-600",children:[s.jsx("span",{children:we("taskCreatedBy")}),s.jsx(ce,{employeeId:fs,className:de,children:ms})]}):s.jsx("span",{className:"mt-1 block text-sm text-gray-500",children:we("taskCreatorUnknown")})]}),s.jsxs("div",{className:"absolute top-4 right-4 flex flex-wrap justify-end gap-2",children:[ae&&!Ne&&yr&&s.jsx("button",{type:"button",onClick:function(){return Oe(!0)},className:"flex h-10 w-10 items-center justify-center rounded-full text-sm font-semibold text-gray-600 transition hover:bg-gray-100",title:we("edit"),"aria-label":we("edit"),children:"✎"}),s.jsx("button",{type:"button",onClick:function(){var e,t=Ce.current;t&&(Qe({title:t.title,description:t.description,assigneeId:t.assigneeId,startDate:t.startDate,dueDate:t.dueDate}),Dt(t.taskType),Lt(t.comment),Ut(t.priority),$t(t.transportType),Kt(t.transportDriverId),Qt(t.transportDriverName),rn(t.transportVehicleId),ln(t.transportVehicleName),fn(t.transportVehicleRegistration),Tn(t.paymentMethod),Rn(t.paymentAmount),Vn(t.status),Ln(t.status),Ve(t.completedAt),zn(t.assigneeIds),fr(t.creator),$n(t.cargoLength),Yn(t.cargoWidth),Zn(t.cargoHeight),er(t.cargoVolume),rr(t.cargoWeight),Sr(t.start),Cr(t.startLink),Yr(t.end),Zr(t.endLink),Da(t.attachments),Qa(null!==(e=mo(t.photosChatId,t.photosMessageId))&&void 0!==e?e:"string"==typeof t.photosLink?t.photosLink:null),ni(t.distanceKm),or(Boolean(t.showLogistics)),Xa.current=!0)},className:"flex h-10 w-10 items-center justify-center rounded-full text-gray-600 transition hover:bg-gray-100 disabled:cursor-not-allowed disabled:opacity-60",disabled:!Ne,title:we("reset"),"aria-label":we("reset"),children:s.jsx(ve,{className:"h-5 w-5"})}),s.jsx("button",{type:"button",onClick:k,className:"flex h-10 w-10 items-center justify-center rounded-full text-gray-600 transition hover:bg-gray-100",title:we("close"),"aria-label":we("close"),children:s.jsx(q,{className:"h-5 w-5"})})]}),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid gap-6 lg:grid-cols-[minmax(0,1.8fr)_minmax(0,1fr)] xl:grid-cols-[minmax(0,2fr)_minmax(0,1fr)]",children:[s.jsxs("div",{className:"space-y-5",children:[s.jsx("div",{children:s.jsx(_,{name:"assigneeId",control:Xe,render:function(e){var t,n,r=e.field;return s.jsx(Ui,{label:we("assignees"),users:Ea,value:"string"==typeof r.value&&r.value.trim().length>0?r.value.trim():null,onChange:function(e){return r.onChange(null!=e?e:"")},onBlur:r.onBlur,disabled:!Ne,required:!0,placeholder:we("assigneeSelectPlaceholder"),hint:rt.assigneeId?void 0:we("assigneeSelectHint"),error:null!==(t=null===(n=rt.assigneeId)||void 0===n?void 0:n.message)&&void 0!==t?t:null})}})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium",children:we("taskTitle")}),s.jsx("textarea",a(a({},Mi),{},{ref:Vi,rows:1,placeholder:we("title"),className:"focus:ring-brand-200 focus:border-accentPrimary min-h-[44px] w-full resize-none rounded-md border border-slate-200 bg-slate-50 px-2.5 py-1.5 text-[0.95rem] font-semibold focus:ring focus:outline-none sm:text-base",disabled:!Ne,onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()}})),rt.title&&s.jsx("p",{className:"text-sm text-red-600",children:rt.title.message})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium",children:we("taskSection")}),s.jsx(_,{name:"description",control:Xe,render:function(e){var t=e.field;return s.jsx(Ht,{value:t.value||"",onChange:t.onChange,readOnly:!Ne})}})]}),s.jsxs("div",{className:"space-y-4 rounded-xl border border-dashed border-gray-300 p-5",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium",children:[s.jsx("input",{type:"checkbox",id:"task-show-logistics",name:"showLogistics",className:"h-4 w-4",checked:ir,onChange:function(e){return t=e.target.checked,or(t),void(t||(Ar(!1),oa(!1),va(),ba(),ya(),xa()));var t},disabled:!Ne}),we("logisticsToggle")]}),ir&&s.jsxs("div",{className:"grid gap-5 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4",children:[s.jsxs("div",{className:"sm:col-span-2 lg:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium",htmlFor:"task-start-address",children:we("startPoint")}),s.jsxs("div",{className:"mt-1 space-y-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"task-start-address",ref:$r,value:kr,onChange:function(e){return vo(e.target.value)},onFocus:function(){Ne&&Ar(!0)},onBlur:function(){window.setTimeout(function(){Ar(!1)},120)},onKeyDown:function(e){"Enter"===e.key&&Ne&&Ir.length>0&&(e.preventDefault(),oo(Ir[0])),"Escape"===e.key&&Ar(!1)},placeholder:we("addressPlaceholder",{count:Oo}),className:"focus:ring-brand-200 focus:border-accentPrimary w-full rounded-md border border-slate-200 bg-slate-50 px-2.5 py-1.5 text-sm focus:ring focus:outline-none disabled:cursor-not-allowed",disabled:!Ne}),Ne&&Mr?s.jsx("div",{className:"absolute left-0 right-0 z-20 mt-1 rounded-md border border-slate-200 bg-white shadow-lg",children:Pr?s.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:we("addressSearchLoading")}):Ur?s.jsx("div",{className:"px-3 py-2 text-sm text-red-600",children:Ur}):0===vs||vs<Oo?s.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:we("addressSearchHint",{count:Oo})}):Ir.length?s.jsx("ul",{className:"max-h-60 overflow-y-auto py-1",role:"listbox",children:Ir.map(function(e){return s.jsxs("li",{role:"option",className:"cursor-pointer px-3 py-2 text-sm hover:bg-slate-100",onMouseDown:function(t){t.preventDefault(),oo(e)},children:[s.jsx("div",{className:"font-medium text-slate-800",children:e.label}),e.description?s.jsx("div",{className:"text-xs text-slate-500",children:e.description}):null]},"".concat(e.id,"-").concat(e.lat,"-").concat(e.lng))})}):s.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:we("addressSearchNoResults")})}):null]}),wa?s.jsxs("div",{className:"flex flex-wrap items-start gap-2",children:[s.jsxs("div",{className:"flex min-w-0 flex-col gap-1",children:[s.jsx("a",{href:wa,target:"_blank",rel:"noopener noreferrer",className:"text-accentPrimary underline break-words",children:kr||we("link")}),Er&&s.jsx("input",{id:"task-start-coordinates",name:"startCoordinatesDisplay",value:So(Er),readOnly:!0,className:"focus:ring-brand-200 focus:border-accentPrimary w-full cursor-text rounded-md border border-dashed border-slate-300 bg-slate-50 px-2 py-1 text-xs text-slate-600 focus:ring focus:outline-none",onFocus:function(e){return e.currentTarget.select()},"aria-label":we("coordinates")})]}),Ne?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:function(){return Fo("")},className:"shrink-0 text-red-600",children:"✖"}),s.jsx(j,{type:"button",variant:"outline",size:"sm",onClick:function(){return Ho("start")},children:we("selectOnMap")})]}):null]}):s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("input",{id:"task-start-link",name:"startLink",value:Or,onChange:function(e){return Fo(e.target.value)},placeholder:we("googleMapsLink"),className:"focus:ring-brand-200 focus:border-accentPrimary min-w-0 flex-1 rounded-md border border-slate-200 bg-slate-50 px-2.5 py-1.5 text-sm focus:ring focus:outline-none",disabled:!Ne}),s.jsx("a",{href:"https://maps.app.goo.gl/xsiC9fHdunCcifQF6",target:"_blank",rel:"noopener",className:G(Y({variant:"default",size:"sm"}),"rounded-2xl px-3 shrink-0 whitespace-nowrap h-10"),children:we("map")}),Ne?s.jsx(j,{type:"button",variant:"outline",size:"sm",onClick:function(){return Ho("start")},children:we("selectOnMap")}):null]})]})]}),s.jsxs("div",{className:"sm:col-span-2 lg:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium",htmlFor:"task-finish-address",children:we("endPoint")}),s.jsxs("div",{className:"mt-1 space-y-2",children:[s.jsxs("div",{className:"relative",children:[s.jsx("input",{id:"task-finish-address",ref:ga,value:Gr,onChange:function(e){return Ro(e.target.value)},onFocus:function(){Ne&&oa(!0)},onBlur:function(){window.setTimeout(function(){oa(!1)},120)},onKeyDown:function(e){"Enter"===e.key&&Ne&&na.length>0&&(e.preventDefault(),lo(na[0])),"Escape"===e.key&&oa(!1)},placeholder:we("addressPlaceholder",{count:Oo}),className:"focus:ring-brand-200 focus:border-accentPrimary w-full rounded-md border border-slate-200 bg-slate-50 px-2.5 py-1.5 text-sm focus:ring focus:outline-none disabled:cursor-not-allowed",disabled:!Ne}),Ne&&ia?s.jsx("div",{className:"absolute left-0 right-0 z-20 mt-1 rounded-md border border-slate-200 bg-white shadow-lg",children:la?s.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:we("addressSearchLoading")}):da?s.jsx("div",{className:"px-3 py-2 text-sm text-red-600",children:da}):0===bs||bs<Oo?s.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:we("addressSearchHint",{count:Oo})}):na.length?s.jsx("ul",{className:"max-h-60 overflow-y-auto py-1",role:"listbox",children:na.map(function(e){return s.jsxs("li",{role:"option",className:"cursor-pointer px-3 py-2 text-sm hover:bg-slate-100",onMouseDown:function(t){t.preventDefault(),lo(e)},children:[s.jsx("div",{className:"font-medium text-slate-800",children:e.label}),e.description?s.jsx("div",{className:"text-xs text-slate-500",children:e.description}):null]},"".concat(e.id,"-").concat(e.lat,"-").concat(e.lng))})}):s.jsx("div",{className:"px-3 py-2 text-sm text-muted-foreground",children:we("addressSearchNoResults")})}):null]}),ka?s.jsxs("div",{className:"flex flex-wrap items-start gap-2",children:[s.jsxs("div",{className:"flex min-w-0 flex-col gap-1",children:[s.jsx("a",{href:ka,target:"_blank",rel:"noopener noreferrer",className:"text-accentPrimary underline break-words",children:Gr||we("link")}),Qr&&s.jsx("input",{id:"task-finish-coordinates",name:"finishCoordinatesDisplay",value:So(Qr),readOnly:!0,className:"focus:ring-brand-200 focus:border-accentPrimary w-full cursor-text rounded-md border border-dashed border-slate-300 bg-slate-50 px-2 py-1 text-xs text-slate-600 focus:ring focus:outline-none",onFocus:function(e){return e.currentTarget.select()},"aria-label":we("coordinates")})]}),Ne?s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{type:"button",onClick:function(){return Vo("")},className:"shrink-0 text-red-600",children:"✖"}),s.jsx(j,{type:"button",variant:"outline",size:"sm",onClick:function(){return Ho("finish")},children:we("selectOnMap")})]}):null]}):s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx("input",{id:"task-end-link",name:"endLink",value:Xr,onChange:function(e){return Vo(e.target.value)},placeholder:we("googleMapsLink"),className:"focus:ring-brand-200 focus:border-accentPrimary min-w-0 flex-1 rounded-md border border-slate-200 bg-slate-50 px-2.5 py-1.5 text-sm focus:ring focus:outline-none",disabled:!Ne}),s.jsx("a",{href:"https://maps.app.goo.gl/xsiC9fHdunCcifQF6",target:"_blank",rel:"noopener",className:G(Y({variant:"default",size:"sm"}),"rounded-2xl px-3 shrink-0 whitespace-nowrap h-10"),children:we("map")}),Ne?s.jsx(j,{type:"button",variant:"outline",size:"sm",onClick:function(){return Ho("finish")},children:we("selectOnMap")}):null]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium",htmlFor:"task-distance",children:we("distance")}),s.jsx("input",{id:"task-distance",name:"distanceKm",value:null!=ti?ti:"",onChange:function(e){return ni(fo(e.target.value))},className:"focus:ring-brand-200 focus:border-accentPrimary w-full rounded-md border border-slate-200 bg-slate-50 px-2.5 py-1.5 text-sm focus:ring focus:outline-none",placeholder:"0",inputMode:"decimal",disabled:!Ne})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium",htmlFor:"task-transport-type",children:we("transportType")}),s.jsx("select",{id:"task-transport-type",value:Wt,onChange:function(e){return $t(e.target.value)},className:"focus:ring-brand-200 focus:border-accentPrimary w-full rounded-md border border-slate-200 bg-slate-50 px-2.5 py-1.5 text-sm focus:ring focus:outline-none",disabled:!Ne,children:Na.map(function(e){return s.jsx("option",{value:e,children:e},e)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium",htmlFor:"task-cargo-length",children:we("cargoLength")}),s.jsx("input",{id:"task-cargo-length",name:"cargoLength",value:Wn,onChange:function(e){return $n(e.target.value)},className:"focus:ring-brand-200 focus:border-accentPrimary w-full rounded-md border border-slate-200 bg-slate-50 px-2.5 py-1.5 text-sm focus:ring focus:outline-none",placeholder:"0",inputMode:"decimal",disabled:!Ne})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium",htmlFor:"task-cargo-width",children:we("cargoWidth")}),s.jsx("input",{id:"task-cargo-width",name:"cargoWidth",value:Gn,onChange:function(e){return Yn(e.target.value)},className:"focus:ring-brand-200 focus:border-accentPrimary w-full rounded-md border border-slate-200 bg-slate-50 px-2.5 py-1.5 text-sm focus:ring focus:outline-none",placeholder:"0",inputMode:"decimal",disabled:!Ne})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium",htmlFor:"task-cargo-height",children:we("cargoHeight")}),s.jsx("input",{id:"task-cargo-height",name:"cargoHeight",value:Xn,onChange:function(e){return Zn(e.target.value)},className:"focus:ring-brand-200 focus:border-accentPrimary w-full rounded-md border border-slate-200 bg-slate-50 px-2.5 py-1.5 text-sm focus:ring focus:outline-none",placeholder:"0",inputMode:"decimal",disabled:!Ne})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium",htmlFor:"task-cargo-volume",children:we("cargoVolume")}),s.jsx("input",{id:"task-cargo-volume",name:"cargoVolume",value:Qn,readOnly:!0,className:"focus:ring-brand-200 focus:border-accentPrimary w-full rounded-md border border-slate-200 bg-gray-100 px-2.5 py-1.5 text-sm focus:ring focus:outline-none",placeholder:"—"})]}),s.jsxs("div",{className:"sm:col-span-2 lg:col-span-2",children:[s.jsx("label",{className:"block text-sm font-medium",htmlFor:"task-cargo-weight",children:we("cargoWeight")}),s.jsx("input",{id:"task-cargo-weight",name:"cargoWeight",value:nr,onChange:function(e){return rr(e.target.value)},className:"focus:ring-brand-200 focus:border-accentPrimary w-full rounded-md border border-slate-200 bg-slate-50 px-2.5 py-1.5 text-sm focus:ring focus:outline-none",placeholder:"0",inputMode:"decimal",disabled:!Ne})]}),s.jsxs("div",{className:"sm:col-span-2 lg:col-span-1",children:[s.jsx("label",{className:"block text-sm font-medium",children:we("paymentMethod")}),s.jsx("select",{value:jn,onChange:function(e){return Tn(e.target.value)},className:"focus:ring-brand-200 focus:border-accentPrimary w-full rounded-md border border-slate-200 bg-slate-50 px-2.5 py-1.5 text-sm focus:ring focus:outline-none",disabled:!Ne,children:Oa.map(function(e){return s.jsx("option",{value:e,children:e},e)})})]}),s.jsxs("div",{className:"sm:col-span-2 lg:col-span-3",children:[s.jsx("label",{className:"block text-sm font-medium",htmlFor:"task-payment-amount",children:we("paymentAmount")}),s.jsxs("div",{className:"focus-within:border-accentPrimary focus-within:ring-brand-200 flex items-center rounded-md border border-slate-200 bg-slate-50 text-sm transition focus-within:ring ".concat(Ne?"":"opacity-80"),children:[s.jsx("input",{id:"task-payment-amount",name:"paymentAmount",value:Dn,onChange:function(e){return Rn(e.target.value)},onBlur:function(e){return Rn(yo(e.target.value))},className:"flex-1 bg-transparent px-2.5 py-1.5 text-sm focus:outline-none disabled:cursor-not-allowed",placeholder:"0",inputMode:"decimal",disabled:!Ne}),s.jsx("span",{className:"px-2 text-sm font-semibold text-slate-500",children:"грн"})]}),s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:we("paymentAmountFormat")})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium",children:we("comment")}),s.jsx(Ht,{value:At,onChange:Lt,readOnly:!Ne})]}),Ia.length>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-medium",children:we("attachments")}),s.jsx("ul",{className:"flex flex-wrap gap-3",children:Ia.map(function(e){var t,n=/\.(png|jpe?g|gif|webp|bmp|svg)$/i.test(e.url),r=io(e.thumbnailUrl),a=null!==(t=io(e.url))&&void 0!==t?t:e.url,i=null!=r?r:a;return s.jsxs("li",{className:"flex flex-col items-start gap-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[n?s.jsx("button",{type:"button",onClick:function(){return Aa({name:e.name||"Изображение",url:a})},className:"group relative flex h-20 w-20 items-center justify-center overflow-hidden rounded-lg border border-slate-200 bg-slate-100 shadow-sm transition hover:-translate-y-0.5 hover:shadow-md focus:outline-none focus:ring focus:ring-indigo-200",title:e.name||"Изображение",children:s.jsx("img",{srcSet:"".concat(i," 1x, ").concat(a," 2x"),sizes:"80px",src:i,alt:e.name||"Изображение",className:"h-full w-full object-cover transition group-hover:scale-105"})}):s.jsx("a",{href:e.url,target:"_blank",rel:"noopener",className:"inline-flex items-center gap-1 rounded-full border border-slate-200 px-3 py-1 text-sm text-accentPrimary transition hover:bg-slate-100",children:e.name||"Файл"}),Ne&&s.jsx(j,{type:"button",variant:"ghost",className:"px-0 text-red-500",onClick:function(){return Wi(e)},children:we("delete")})]}),e.name?s.jsx("span",{className:"max-w-[12rem] truncate text-xs text-slate-500",children:e.name}):null]},e.url)})})]}),Ja?s.jsx("div",{children:s.jsx("a",{href:Ja,target:"_blank",rel:"noopener noreferrer",className:G(Y({variant:"outline",size:"pill"}),"inline-flex w-fit"),children:"Фото"})}):null,s.jsx(ro,{disabled:!Pi,onUploaded:function(e){return Da(function(t){return[].concat(v(t),[e])})},onRemove:function(e){return Wi(e)},taskId:ee}),Ne&&!Li?s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:we("fillTitleToUpload")}):null,s.jsxs("div",{className:"flex flex-wrap items-center gap-2 pt-2",children:[ae&&s.jsx(j,{type:"button",variant:"outline",size:"pill",onClick:function(){return $e(!0)},children:we("history")}),s.jsxs("div",{className:"ml-auto flex flex-wrap gap-2",children:[Ne&&!ae&&(Pa||qa)&&s.jsx(j,{variant:"ghost",size:"pill",onClick:zo,disabled:Ua||Ba,children:we("clearDraft")}),ae&&le&&Ne&&s.jsx(j,{variant:"destructive",size:"pill",onClick:function(){return Jo(!0)},children:we("delete")}),Ne&&s.jsx(j,{variant:"default",size:"pill",disabled:Oi,onClick:function(){return Ko(!0)},children:Oi?s.jsx(te,{}):we(ae?"save":"create")})]})]}),Ne&&s.jsx(ne,{open:Yo,message:we(ae?"saveChangesQuestion":"createTaskQuestion"),confirmText:we(ae?"save":"create"),cancelText:we("cancel"),onConfirm:(ls=l(i().m(function e(){var t;return i().w(function(e){for(;;)switch(e.p=e.n){case 0:return Ko(!1),Ci(!0),e.p=1,e.n=2,Bo();case 2:e.n=4;break;case 3:e.p=3,t=e.v,console.warn("Не удалось сохранить задачу",t),Ci(!1);case 4:return e.a(2)}},e,null,[[1,3]])})),function(){return ls.apply(this,arguments)}),onCancel:function(){return Ko(!1)}})]}),s.jsxs("aside",{className:"space-y-5 rounded-xl border border-slate-200 bg-slate-50/80 p-5",children:[s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium",htmlFor:"task-dialog-start-date",children:we("startDate")}),s.jsx("input",a(a({id:"task-dialog-start-date",type:"datetime-local"},Ke("startDate")),{},{min:bt(Ae),className:"focus:ring-brand-200 focus:border-accentPrimary w-full rounded-md border border-slate-200 bg-white px-2.5 py-1.5 text-sm focus:ring focus:outline-none",disabled:!Ne})),!ae&&Ei?s.jsx("p",{className:"mt-1 text-xs font-medium text-amber-600",children:we("startDateAutoNotice",{date:Ei})}):null]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium",htmlFor:"task-dialog-due-date",children:we("dueDate")}),s.jsx("input",a(a({id:"task-dialog-due-date",type:"datetime-local"},Ke("dueDate",{onChange:Et})),{},{className:"focus:ring-brand-200 focus:border-accentPrimary w-full rounded-md border border-slate-200 bg-white px-2.5 py-1.5 text-sm focus:ring focus:outline-none",disabled:!Ne}))]})]}),s.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium",children:we("taskType")}),s.jsx("select",{value:It,onChange:function(e){return Dt(e.target.value)},className:"focus:ring-brand-200 focus:border-accentPrimary w-full rounded-md border border-slate-200 bg-white px-2.5 py-1.5 text-sm focus:ring focus:outline-none",disabled:!Ne||"request"===be,children:("request"===be?pt:mt).map(function(e){return s.jsx("option",{value:e,children:e},e)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium",children:we("priority")}),s.jsx("select",{value:Vt,onChange:function(e){return Ut(e.target.value)},className:"focus:ring-brand-200 focus:border-accentPrimary w-full rounded-md border border-slate-200 bg-white px-2.5 py-1.5 text-sm focus:ring focus:outline-none",disabled:!Ne,children:Sa.map(function(e){return s.jsx("option",{value:e,children:e},e)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium",children:we("status")}),s.jsx("select",{value:An,onChange:function(e){return Ln(e.target.value)},className:"focus:ring-brand-200 focus:border-accentPrimary w-full rounded-md border border-slate-200 bg-white px-2.5 py-1.5 text-sm focus:ring focus:outline-none",disabled:!Ne,children:Ca.map(function(e){return s.jsx("option",{value:e,children:e},e)})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium",htmlFor:"task-dialog-completed-at",children:we("actualTime")}),s.jsx("input",{type:"datetime-local",id:"task-dialog-completed-at",name:"completedAtDisplay",value:Fe?bt(Fe):"",readOnly:!0,placeholder:"—",className:"w-full rounded-md border border-slate-200 bg-slate-100 px-2.5 py-1.5 text-sm text-slate-700 focus:outline-none"})]})]}),hi&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(Hi,{label:we("transportDriver"),options:di,value:Yt||null,onChange:function(e){var t,n,r=null!==(t=null==e?void 0:e.value)&&void 0!==t?t:"";Kt(r),Qt(r?null!==(n=null==e?void 0:e.label)&&void 0!==n?n:r:"")},disabled:!gi||!si,placeholder:we("transportDriverPlaceholder")}),xn&&si?s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:we("transportOptionsLoading")}):null,Sn?s.jsxs("p",{className:"mt-1 text-xs text-red-600",children:[Sn,gi?s.jsx("button",{type:"button",className:"ml-2 text-accentPrimary underline decoration-dotted",onClick:function(){_n(!1),li(!0)},children:we("transportOptionsReload")}):null]}):null]}),s.jsxs("div",{className:"space-y-1.5",children:[s.jsx(Hi,{label:we("transportVehicle"),options:mi,value:nn||null,onChange:function(e){var t,n=null!==(t=null==e?void 0:e.value)&&void 0!==t?t:"";if(rn(n),!n)return ln(""),void fn("");var r,a=pi.find(function(e){return e.id===n});a?(ln(a.name),fn(a.registrationNumber)):(ln(null!==(r=null==e?void 0:e.label)&&void 0!==r?r:n),fn(""))},disabled:!gi||!si,placeholder:we("transportVehiclePlaceholder")}),!si&&sn?s.jsx("p",{className:"mt-1 text-xs text-slate-500",children:dn?"".concat(sn," (").concat(dn,")"):sn}):null]})]})]})]}),le&&s.jsx(ne,{open:Zo,message:we("deleteTaskQuestion"),confirmText:we("delete"),cancelText:we("cancel"),onConfirm:function(){Jo(!1),us()},onCancel:function(){return Jo(!1)}}),ae&&!Ne&&xr&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2",children:[s.jsx(j,{className:G("rounded-lg","accept"===ki&&"ring-accentPrimary ring-2"),variant:"В работе"===An?"success":"default",onClick:function(){return ts(!0)},children:we("accept")}),s.jsx(j,{className:G("rounded-lg","done"===ki&&"ring-accentPrimary ring-2"),variant:"Выполнена"===An?"success":"default",onClick:function(){return xi(function(e){return!e})},children:we("done")})]}),yi&&s.jsx(s.Fragment,{children:s.jsxs("select",{onChange:function(e){var t=e.target.value;t&&(ss(t),as(!0))},className:"focus:ring-brand-200 focus:border-accentPrimary mt-1 mb-2 w-full rounded-md border border-slate-200 bg-slate-50 px-2.5 py-1.5 text-sm focus:ring focus:outline-none",children:[s.jsx("option",{value:"",children:we("selectOption")}),vi.map(function(e){return s.jsx("option",{value:e.value,children:e.label},e.value)})]})}),s.jsx(ne,{open:es,message:we("acceptTaskQuestion"),confirmText:we("accept"),cancelText:we("cancel"),onConfirm:function(){ts(!1),cs()},onCancel:function(){return ts(!1)}}),s.jsx(ne,{open:rs,message:we("completeTaskQuestion"),confirmText:we("done"),cancelText:we("cancel"),onConfirm:function(){as(!1),ds(os)},onCancel:function(){return as(!1)}})]})]})]})})}),Ma&&s.jsx("div",{className:"fixed inset-0 z-[1150] flex items-center justify-center bg-slate-950/80 p-4",onClick:function(){return Aa(null)},children:s.jsxs("div",{className:"relative max-h-[85vh] w-full max-w-5xl",onClick:function(e){return e.stopPropagation()},children:[s.jsx("button",{type:"button",className:"absolute right-4 top-4 rounded-full bg-black/60 p-2 text-white transition hover:bg-black/80 focus:outline-none focus:ring focus:ring-white/40",onClick:function(){return Aa(null)},"aria-label":we("close"),children:s.jsx(q,{className:"h-6 w-6"})}),s.jsx("img",{src:Ma.url,alt:Ma.name,className:"max-h-[75vh] w-full rounded-xl object-contain shadow-2xl"}),s.jsx("p",{className:"mt-3 text-center text-sm text-white/80",children:Ma.name})]})}),lr?s.jsx(Co,{open:!0,title:"start"===lr.target?we("selectStartPoint"):we("selectFinishPoint"),confirmLabel:we("mapSelectionConfirm",{defaultValue:we("save")}),cancelLabel:we("cancel"),hint:we("mapSelectionHint"),initialValue:lr.initialCoords,onConfirm:function(e){return Uo(lr.target,e)},onCancel:function(){return ur(null)}}):null,We&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:s.jsxs("div",{className:"max-h-[80vh] w-full max-w-lg overflow-y-auto rounded border-2 border-red-500 bg-white p-4",children:[s.jsx("h4",{className:"mb-2 font-semibold",children:we("history")}),s.jsx("ul",{className:"space-y-2 text-xs sm:text-sm",children:0===He.length?s.jsx("li",{className:"text-gray-500",children:we("historyEmpty")}):He.map(function(e,t){var n=Io(e.changed_at),r=Bi(e.changed_by),a=e.changes.from||{},i=e.changes.to||{},o=a.status,l=i.status,u=Do(o),c=Do(l),d="—"!==u&&"—"!==c&&u!==c,f=Array.from(new Set([].concat(v(Object.keys(a)),v(Object.keys(i))))),p=d?f.filter(function(e){return"status"!==e}):f,m=p.some(function(e){return Do(a[e])!==Do(i[e])});return s.jsxs("li",{className:"rounded border border-gray-200 bg-white p-2 shadow-sm",children:[s.jsxs("div",{className:"flex flex-wrap items-baseline gap-1 text-xs font-medium text-gray-700 sm:text-sm",children:[s.jsx("span",{children:n||"—"}),s.jsx("span",{className:"text-gray-500",children:r})]}),d&&s.jsxs("p",{className:"mt-1 flex flex-wrap items-center gap-1 text-xs text-gray-700 sm:text-sm",children:[s.jsx("span",{children:"Изменил статус с"}),Mo("status",u,"plain"),s.jsx("span",{children:"на"}),Mo("status",c,"plain")]}),p.length>0&&s.jsx("ul",{className:"mt-1 space-y-0.5 text-xs text-gray-700 sm:text-sm",children:p.map(function(e){var t=Do(a[e]),n=Do(i[e]);return t===n?null:s.jsxs("li",{className:"flex flex-wrap items-baseline gap-1",children:[s.jsxs("span",{className:"font-medium text-gray-600",children:[e,":"]}),Mo(e,t,"prev"),s.jsx("span",{className:"text-gray-400",children:"→"}),Mo(e,n,"next")]},e)})}),!d&&!m&&s.jsx("p",{className:"mt-1 text-xs text-gray-500 sm:text-sm",children:"Детали изменений отсутствуют"})]},"".concat(e.changed_at,"-").concat(e.changed_by,"-").concat(t))})}),s.jsx(j,{className:"mt-2 rounded-lg",onClick:function(){return $e(!1)},children:we("close")})]})}),s.jsx(K,{open:null!==$o,message:$o||"",onClose:function(){return qo(null)},closeText:we("close")})]}),document.body)}var Vo=Object.freeze(Object.defineProperty({__proto__:null,default:Fo},Symbol.toStringTag,{value:"Module"}));r("a",Vo)}}})}();
//# sourceMappingURL=TaskDialog-legacy-DJJKZxnL.js.map
