{"version":3,"file":"Profile-legacy-BeMYY5j8.js","sources":["../../../web/src/pages/Profile.tsx"],"sourcesContent":["// Назначение: страница профиля пользователя\n// Основные модули: React, React Router\nimport { useEffect, useMemo, useState, type FormEvent } from 'react';\n\nimport { Button } from '@/components/ui/button';\nimport { useAuth } from '../context/useAuth';\nimport { updateProfile } from '../services/auth';\nimport {\n  fetchCollectionItems,\n  type CollectionItem,\n} from '../services/collections';\nimport { showToast } from '../utils/toast';\n\ninterface EditableProfileForm {\n  name: string;\n  phone: string;\n  email: string;\n}\n\nconst roleTitles: Record<string, string> = {\n  admin: 'Администратор',\n  manager: 'Менеджер',\n  user: 'Пользователь',\n};\n\nconst defaultForm: EditableProfileForm = {\n  name: '',\n  phone: '',\n  email: '',\n};\n\nconst parseCollection = (items: CollectionItem[]) => {\n  const map = new Map<string, string>();\n  items.forEach((item) => {\n    map.set(item._id, item.name);\n  });\n  return map;\n};\n\nexport default function Profile() {\n  const { user, setUser, loading } = useAuth();\n  const [form, setForm] = useState<EditableProfileForm>({ ...defaultForm });\n  const [initialForm, setInitialForm] = useState<EditableProfileForm>({\n    ...defaultForm,\n  });\n  const [departments, setDepartments] = useState<CollectionItem[]>([]);\n  const [divisions, setDivisions] = useState<CollectionItem[]>([]);\n  const [positions, setPositions] = useState<CollectionItem[]>([]);\n  const [saving, setSaving] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    fetchCollectionItems('departments', '', 1, 200)\n      .then((d) => setDepartments(d.items))\n      .catch(() => setDepartments([]));\n    fetchCollectionItems('divisions', '', 1, 200)\n      .then((d) => setDivisions(d.items))\n      .catch(() => setDivisions([]));\n    fetchCollectionItems('positions', '', 1, 200)\n      .then((d) => setPositions(d.items))\n      .catch(() => setPositions([]));\n  }, []);\n\n  useEffect(() => {\n    if (!user) return;\n    const next: EditableProfileForm = {\n      name: user.name || user.telegram_username || '',\n      phone: user.phone || '',\n      email: user.email || '',\n    };\n    setForm(next);\n    setInitialForm(next);\n    setError(null);\n  }, [user]);\n\n  const departmentMap = useMemo(\n    () => parseCollection(departments),\n    [departments],\n  );\n  const divisionMap = useMemo(() => parseCollection(divisions), [divisions]);\n  const positionMap = useMemo(() => parseCollection(positions), [positions]);\n\n  const departmentName = useMemo(() => {\n    const fallback =\n      typeof user?.departmentName === 'string'\n        ? user.departmentName.trim()\n        : '';\n    if (fallback) return fallback;\n    const id =\n      typeof user?.departmentId === 'string' ? user.departmentId.trim() : '';\n    if (!id) return '';\n    return departmentMap.get(id) || id;\n  }, [departmentMap, user?.departmentId, user?.departmentName]);\n\n  const divisionName = useMemo(() => {\n    const fallback =\n      typeof user?.divisionName === 'string' ? user.divisionName.trim() : '';\n    if (fallback) return fallback;\n    const id =\n      typeof user?.divisionId === 'string' ? user.divisionId.trim() : '';\n    if (!id) return '';\n    return divisionMap.get(id) || id;\n  }, [divisionMap, user?.divisionId, user?.divisionName]);\n\n  const positionName = useMemo(() => {\n    const fallback =\n      typeof user?.positionName === 'string' ? user.positionName.trim() : '';\n    if (fallback) return fallback;\n    const id =\n      typeof user?.positionId === 'string' ? user.positionId.trim() : '';\n    if (!id) return '';\n    return positionMap.get(id) || id;\n  }, [positionMap, user?.positionId, user?.positionName]);\n\n  const updateField = <K extends keyof EditableProfileForm>(\n    key: K,\n    value: EditableProfileForm[K],\n  ) => {\n    setForm((prev) => ({ ...prev, [key]: value }));\n  };\n\n  const isDirty = useMemo(() => {\n    return (\n      form.name !== initialForm.name ||\n      form.phone !== initialForm.phone ||\n      form.email !== initialForm.email\n    );\n  }, [form, initialForm]);\n\n  const handleSubmit = async (event: FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    if (!user || !isDirty || saving) return;\n    const trimmedName = form.name.trim();\n    const trimmedPhone = form.phone.trim();\n    const trimmedEmail = form.email.trim();\n    setSaving(true);\n    setError(null);\n    try {\n      const data = await updateProfile({\n        name: trimmedName,\n        phone: trimmedPhone || undefined,\n        email: trimmedEmail,\n      });\n      setUser(data);\n      const next: EditableProfileForm = {\n        name: data.name || data.telegram_username || '',\n        phone: data.phone || '',\n        email: data.email || '',\n      };\n      setForm(next);\n      setInitialForm(next);\n      showToast('Профиль обновлён', 'success');\n    } catch (e) {\n      const message =\n        e instanceof Error ? e.message : 'Не удалось обновить профиль';\n      setError(message);\n      showToast(message, 'error');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const resetForm = () => {\n    setForm(initialForm);\n    setError(null);\n  };\n\n  if (loading) return <div>Загрузка...</div>;\n  if (!user) return <div>Профиль недоступен</div>;\n\n  const roleLabel = user.role ? roleTitles[user.role] || user.role : '—';\n  const telegramId = user.telegram_id\n    ? String(user.telegram_id)\n    : user.id || '';\n  const telegramUsername = user.telegram_username || '—';\n  const additionalPhone = user.mobNumber || '—';\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"mx-auto max-w-4xl space-y-4\">\n        {error && (\n          <div className=\"rounded border border-red-200 bg-red-50 p-3 text-sm text-red-700\">\n            {error}\n          </div>\n        )}\n        <form\n          onSubmit={handleSubmit}\n          className=\"space-y-4 rounded bg-white p-8 shadow\"\n        >\n          <h2 className=\"text-2xl\">Личный кабинет</h2>\n          <div className=\"grid gap-4 md:grid-cols-2\">\n            <label className=\"space-y-1 md:col-span-2\">\n              <span className=\"block text-sm font-medium\">ФИО</span>\n              <input\n                name=\"fullName\"\n                className=\"h-10 w-full rounded border px-3\"\n                value={form.name}\n                onChange={(e) => updateField('name', e.target.value)}\n                required\n              />\n            </label>\n            <label className=\"space-y-1\">\n              <span className=\"block text-sm font-medium\">Телефон</span>\n              <input\n                name=\"phone\"\n                className=\"h-10 w-full rounded border px-3\"\n                value={form.phone}\n                onChange={(e) => updateField('phone', e.target.value)}\n                type=\"tel\"\n                placeholder=\"\"\n              />\n            </label>\n            <label className=\"space-y-1\">\n              <span className=\"block text-sm font-medium\">Email</span>\n              <input\n                name=\"email\"\n                className=\"h-10 w-full rounded border px-3\"\n                value={form.email}\n                onChange={(e) => updateField('email', e.target.value)}\n                type=\"email\"\n                required\n              />\n            </label>\n            <label className=\"space-y-1\">\n              <span className=\"block text-sm font-medium\">Доп. телефон</span>\n              <input\n                name=\"additionalPhone\"\n                className=\"h-10 w-full rounded border bg-gray-100 px-3 text-gray-600\"\n                value={additionalPhone}\n                readOnly\n                disabled\n              />\n            </label>\n            <label className=\"space-y-1\">\n              <span className=\"block text-sm font-medium\">Telegram ID</span>\n              <input\n                name=\"telegramId\"\n                className=\"h-10 w-full rounded border bg-gray-100 px-3 text-gray-600\"\n                value={telegramId}\n                readOnly\n                disabled\n              />\n            </label>\n            <label className=\"space-y-1\">\n              <span className=\"block text-sm font-medium\">Username</span>\n              <input\n                name=\"telegramUsername\"\n                className=\"h-10 w-full rounded border bg-gray-100 px-3 text-gray-600\"\n                value={telegramUsername}\n                readOnly\n                disabled\n              />\n            </label>\n            <label className=\"space-y-1\">\n              <span className=\"block text-sm font-medium\">Роль</span>\n              <input\n                name=\"role\"\n                className=\"h-10 w-full rounded border bg-gray-100 px-3 text-gray-600\"\n                value={roleLabel}\n                readOnly\n                disabled\n              />\n            </label>\n            <label className=\"space-y-1\">\n              <span className=\"block text-sm font-medium\">Департамент</span>\n              <input\n                name=\"department\"\n                className=\"h-10 w-full rounded border bg-gray-100 px-3 text-gray-600\"\n                value={departmentName || '—'}\n                readOnly\n                disabled\n              />\n            </label>\n            <label className=\"space-y-1\">\n              <span className=\"block text-sm font-medium\">Отдел</span>\n              <input\n                name=\"division\"\n                className=\"h-10 w-full rounded border bg-gray-100 px-3 text-gray-600\"\n                value={divisionName || '—'}\n                readOnly\n                disabled\n              />\n            </label>\n            <label className=\"space-y-1\">\n              <span className=\"block text-sm font-medium\">Должность</span>\n              <input\n                name=\"position\"\n                className=\"h-10 w-full rounded border bg-gray-100 px-3 text-gray-600\"\n                value={positionName || '—'}\n                readOnly\n                disabled\n              />\n            </label>\n          </div>\n          <div className=\"flex gap-3\">\n            <Button type=\"submit\" disabled={!isDirty || saving}>\n              {saving ? 'Сохранение...' : 'Сохранить'}\n            </Button>\n            <Button\n              type=\"button\"\n              variant=\"outline\"\n              onClick={resetForm}\n              disabled={!isDirty || saving}\n            >\n              Отменить\n            </Button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"names":["_useAuth","useAuth","user","setUser","loading","_reactExports$useStat2","_slicedToArray","useState","defaultForm","form","setForm","_reactExports$useStat4","_objectSpread","initialForm","setInitialForm","_reactExports$useStat6","departments","setDepartments","_reactExports$useStat8","divisions","setDivisions","_reactExports$useStat0","positions","setPositions","_reactExports$useStat10","saving","setSaving","_reactExports$useStat12","error","setError","useEffect","fetchCollectionItems","then","d","items","catch","next","name","telegram_username","phone","email","departmentMap","useMemo","parseCollection","divisionMap","positionMap","departmentName","fallback","trim","id","departmentId","get","divisionName","divisionId","positionName","positionId","updateField","key","value","prev","isDirty","handleSubmit","_ref","_regenerator","m","_callee","event","trimmedName","trimmedPhone","trimmedEmail","data","message","_t","w","_context","p","n","preventDefault","a","updateProfile","v","showToast","Error","f","_x","apply","this","arguments","jsx","children","roleLabel","role","roleTitles","telegramId","telegram_id","String","telegramUsername","additionalPhone","mobNumber","className","jsxs","onSubmit","onChange","e","target","required","type","placeholder","readOnly","disabled","Button","variant","onClick","admin","manager","map","Map","forEach","item","set","_id"],"mappings":"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"}