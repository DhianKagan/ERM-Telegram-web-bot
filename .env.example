# Назначение файла: пример переменных окружения для бота, API и клиента.
# Внимание: это только примеры. Реальные секреты не коммитим и храним в Secret Store/локально.

# --- Telegram и роли ---
BOT_TOKEN=rotated_bot_token
BOT_USERNAME=ERP_AM_BOT
CHAT_ID=-1002705661520
ADMIN_ROLE_ID=686591126cc86a6bd16c18af
USER_ROLE_ID=686633fdf6896f1ad3fa063e
BOT_API_URL=https://api.telegram.org

# --- Секреты и безопасность ---
JWT_SECRET=rotated_jwt_secret
SESSION_SECRET=
LHCI_TOKEN=
LHCI_GITHUB_APP_TOKEN=
NODE_ENV=production
LOCALE=ru
SCHEDULE_CRON=*/1 * * * *
COOKIE_SECURE=true
DISABLE_CSRF=0
CAPTCHA_TOKEN=
LOG_LEVEL=

# --- База данных ---
# По умолчанию используем локальный контейнер Docker
MONGO_DATABASE_URL=mongodb://admin:admin@localhost:27017/ermdb?authSource=admin
# Для Railway — внутренний адрес с авторизацией в admin
# MONGO_DATABASE_URL=mongodb://mongo:<пароль>@erm-mongodb.railway.internal:27017/test?authSource=admin

# --- Приложение и API ---
APP_URL=https://agromarket.up.railway.app
APP_ORIGIN=http://localhost:5173
CORS_ORIGINS=https://agromarket.up.railway.app,http://localhost:5173
COOKIE_DOMAIN=agromarket.up.railway.app
ROUTING_URL=https://router.project-osrm.org
OSRM_ALGORITHM=mld
PROTOMAPS_API_KEY=
STORAGE_DIR=/storage
RAILWAY_DOCKERFILE_PATH=Dockerfile

# --- CSP и карта ---
CSP_REPORT_ONLY=true
CSP_CONNECT_SRC_ALLOWLIST=https://tiles.openfreemap.org https://tile.openstreetmap.org https://a.tile.openstreetmap.org https://b.tile.openstreetmap.org https://c.tile.openstreetmap.org
CSP_IMG_SRC_ALLOWLIST=https://tiles.openfreemap.org https://tile.openstreetmap.org https://a.tile.openstreetmap.org https://b.tile.openstreetmap.org https://c.tile.openstreetmap.org
CSP_SCRIPT_SRC_ALLOWLIST=blob:
CSP_STYLE_SRC_ALLOWLIST=
CSP_FONT_SRC_ALLOWLIST=https://tiles.openfreemap.org
CSP_WORKER_SRC_ALLOWLIST=


# --- Порты (локальная разработка) ---
PORT=3000
HOST_PORT=3000
# На Railway удалите PORT и HOST_PORT — платформа передаст RAILWAY_TCP_PORT.

# --- Клиент (apps/web / Vite) ---
VITE_BOT_USERNAME=ERP_AM_BOT
VITE_CHAT_ID=-1002705661520
# Используйте готовый маршрутный endpoint OSRM
VITE_ROUTING_URL=https://router.project-osrm.org/route/v1/driving
VITE_MAP_STYLE_URL=/tiles/maplibre-style.json
# Для продакшн-сборки обязательно задайте путь к локальным адресным плиткам.
VITE_MAP_ADDRESSES_PMTILES_URL=pmtiles://tiles/addresses.pmtiles
VITE_MAP_STYLE_MODE=pmtiles
VITE_USE_PMTILES=1
VITE_DISABLE_SSE=0
VITE_LOGISTICS_POLL_INTERVAL_MS=
