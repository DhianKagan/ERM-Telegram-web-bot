{"version":3,"file":"ConfirmDialog-legacy-BpyCkcTT.js","sources":["../../../web/src/components/ConfirmDialog.tsx"],"sourcesContent":["// Назначение: модалка подтверждения действий\n// Основные модули: React, Modal\nimport React from 'react';\n\nimport { Button } from '@/components/ui/button';\nimport Modal from './Modal';\n\ninterface ConfirmDialogProps {\n  open: boolean;\n  message: string;\n  onConfirm: () => void | Promise<void>;\n  onCancel: () => void;\n  confirmText?: string;\n  cancelText?: string;\n}\n\nexport default function ConfirmDialog({\n  open,\n  message,\n  onConfirm,\n  onCancel,\n  confirmText = 'Подтвердить',\n  cancelText = 'Отмена',\n}: ConfirmDialogProps) {\n  const [pending, setPending] = React.useState(false);\n\n  const handleConfirm = React.useCallback(() => {\n    if (pending) return;\n    try {\n      const result = onConfirm();\n      if (result && typeof (result as Promise<unknown>).then === 'function') {\n        setPending(true);\n        (result as Promise<unknown>)\n          .catch((error) => {\n            console.error(error);\n          })\n          .finally(() => setPending(false));\n      }\n    } catch (error) {\n      setPending(false);\n      console.error(error);\n    }\n  }, [onConfirm, pending]);\n\n  return (\n    <Modal open={open} onClose={onCancel}>\n      <p>{message}</p>\n      <div className=\"mt-4 flex justify-end gap-2\">\n        <Button\n          variant=\"outline\"\n          size=\"pill\"\n          onClick={onCancel}\n          disabled={pending}\n        >\n          {cancelText}\n        </Button>\n        <Button\n          variant=\"destructive\"\n          size=\"pill\"\n          onClick={handleConfirm}\n          disabled={pending}\n        >\n          {confirmText}\n        </Button>\n      </div>\n    </Modal>\n  );\n}\n"],"names":["_ref","open","message","onConfirm","onCancel","_ref$confirmText","confirmText","_ref$cancelText","cancelText","_React$useState2","_slicedToArray","React","useState","pending","setPending","handleConfirm","useCallback","result","then","catch","error","console","finally","jsxs","Modal","onClose","children","jsx","className","Button","variant","size","onClick","disabled"],"mappings":"owCAgBA,SAAwBA,GAOD,IANrBC,EAAAD,EAAAC,KACAC,EAAAF,EAAAE,QACAC,EAAAH,EAAAG,UACAC,EAAAJ,EAAAI,SAAAC,EAAAL,EACAM,YAAAA,OAAA,IAAAD,EAAc,cAAAA,EAAAE,EAAAP,EACdQ,WAAAA,WAAAD,EAAa,SAAAA,EAEqCE,EAAAC,EAApBC,EAAMC,UAAS,GAAK,GAA3CC,EAAAJ,EAAA,GAASK,EAAUL,KAEpBM,EAAgBJ,EAAMK,YAAY,WACtC,IAAIH,EACJ,IACE,IAAMI,EAASd,IACXc,GAAuD,mBAArCA,EAA4BC,OAChDJ,GAAW,GACVG,EACEE,MAAM,SAACC,GACNC,QAAQD,MAAMA,EAChB,GACCE,QAAQ,WAAA,OAAMR,GAAW,EAAM,GAEtC,OAASM,GACPN,GAAW,GACXO,QAAQD,MAAMA,EAChB,CACF,EAAG,CAACjB,EAAWU,IAEf,OACEU,EAAAA,KAACC,EAAA,CAAMvB,KAAAA,EAAYwB,QAASrB,EAC1BsB,SAAA,CAAAC,EAAAA,IAAC,KAAGD,SAAAxB,IACJqB,EAAAA,KAAC,MAAA,CAAIK,UAAU,8BACbF,SAAA,CAAAC,EAAAA,IAACE,EAAA,CACCC,QAAQ,UACRC,KAAK,OACLC,QAAS5B,EACT6B,SAAUpB,EAETa,SAAAlB,IAEHmB,EAAAA,IAACE,EAAA,CACCC,QAAQ,cACRC,KAAK,OACLC,QAASjB,EACTkB,SAAUpB,EAETa,SAAApB,SAKX"}