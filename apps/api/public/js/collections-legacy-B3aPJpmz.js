!function(){function r(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(r);t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),n.push.apply(n,e)}return n}function t(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach(function(r){n(t,r,o[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(o,r))})}return t}function n(r,t,n){return(t=function(r){var t=function(r,t){if("object"!=l(r)||!r)return r;var n=r[Symbol.toPrimitive];if(void 0!==n){var e=n.call(r,t||"default");if("object"!=l(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(r)}(r,"string");return"symbol"==l(t)?t:t+""}(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function e(r){return function(r){if(Array.isArray(r))return o(r)}(r)||function(r){if("undefined"!=typeof Symbol&&null!=r[Symbol.iterator]||null!=r["@@iterator"])return Array.from(r)}(r)||function(r,t){if(r){if("string"==typeof r)return o(r,t);var n={}.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(r,t):void 0}}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(r,t){(null==t||t>r.length)&&(t=r.length);for(var n=0,e=Array(t);n<t;n++)e[n]=r[n];return e}function i(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var r,t,n="function"==typeof Symbol?Symbol:{},e=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function a(n,e,o,i){var a=e&&e.prototype instanceof l?e:l,f=Object.create(a.prototype);return c(f,"_invoke",function(n,e,o){var i,c,a,l=0,f=o||[],s=!1,p={p:0,n:0,v:r,a:v,f:v.bind(r,4),d:function(t,n){return i=t,c=0,a=r,p.n=n,u}};function v(n,e){for(c=n,a=e,t=0;!s&&l&&!o&&t<f.length;t++){var o,i=f[t],v=p.p,y=i[2];n>3?(o=y===e)&&(a=i[(c=i[4])?5:(c=3,3)],i[4]=i[5]=r):i[0]<=v&&((o=n<2&&v<i[1])?(c=0,p.v=e,p.n=i[1]):v<y&&(o=n<3||i[0]>e||e>y)&&(i[4]=n,i[5]=e,p.n=y,c=0))}if(o||n>1)return u;throw s=!0,e}return function(o,f,y){if(l>1)throw TypeError("Generator is already running");for(s&&1===f&&v(f,y),c=f,a=y;(t=c<2?r:a)||!s;){i||(c?c<3?(c>1&&(p.n=-1),v(c,a)):p.n=a:p.v=a);try{if(l=2,i){if(c||(o="next"),t=i[o]){if(!(t=t.call(i,a)))throw TypeError("iterator result is not an object");if(!t.done)return t;a=t.value,c<2&&(c=0)}else 1===c&&(t=i.return)&&t.call(i),c<2&&(a=TypeError("The iterator does not provide a '"+o+"' method"),c=1);i=r}else if((t=(s=p.n<0)?a:n.call(e,p))!==u)break}catch(t){i=r,c=1,a=t}finally{l=1}}return{value:t,done:s}}}(n,o,i),!0),f}var u={};function l(){}function f(){}function s(){}t=Object.getPrototypeOf;var p=[][e]?t(t([][e]())):(c(t={},e,function(){return this}),t),v=s.prototype=l.prototype=Object.create(p);function y(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,s):(r.__proto__=s,c(r,o,"GeneratorFunction")),r.prototype=Object.create(v),r}return f.prototype=s,c(v,"constructor",s),c(s,"constructor",f),f.displayName="GeneratorFunction",c(s,o,"GeneratorFunction"),c(v),c(v,o,"Generator"),c(v,e,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),(i=function(){return{w:a,m:y}})()}function c(r,t,n,e){var o=Object.defineProperty;try{o({},"",{})}catch(r){o=0}c=function(r,t,n,e){function i(t,n){c(r,t,function(r){return this._invoke(t,n,r)})}t?o?o(r,t,{value:n,enumerable:!e,configurable:!e,writable:!e}):r[t]=n:(i("next",0),i("throw",1),i("return",2))},c(r,t,n,e)}function a(r,t,n,e,o,i,c){try{var a=r[i](c),u=a.value}catch(r){return void n(r)}a.done?t(u):Promise.resolve(u).then(e,o)}function u(r){return function(){var t=this,n=arguments;return new Promise(function(e,o){var i=r.apply(t,n);function c(r){a(i,e,o,c,u,"next",r)}function u(r){a(i,e,o,c,u,"throw",r)}c(void 0)})}}function l(r){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(r){return typeof r}:function(r){return r&&"function"==typeof Symbol&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},l(r)}System.register(["./index-legacy-Cw3EU-FN.js","./App-legacy-92jDSsGS.js"],function(r,n){"use strict";var o,c;return{setters:[function(r){o=r.i},function(r){c=r.h}],execute:function(){var n={"Некорректный тип коллекции":"collections.errors.invalidType","Тип коллекции обязателен":"collections.errors.typeRequired","Некорректное название элемента":"collections.errors.invalidName","Название элемента обязательно":"collections.errors.nameRequired","Некорректное значение элемента":"collections.errors.invalidValue","Значение элемента обязательно":"collections.errors.valueRequired","Значение элемента не может быть пустым":"collections.errors.valueRequired","Ошибка валидации":"collections.errors.generalValidation","Ссылка на тему Telegram должна иметь формат https://t.me/c/<id>/<topic>":"collections.errors.invalidTelegramTopicUrl"},a={departments:{"Значение элемента обязательно":"collections.errors.departmentsMustHaveDivisions"}},f=function(r){try{return JSON.parse(r)}catch(t){return}},s=function(r,t){var e;if(!r)return"";var i=r.trim();if(!i)return"";var c=null==t?void 0:t.collectionType,u=c&&(null===(e=a[c])||void 0===e?void 0:e[i]),l=null!=u?u:n[i];return l?o.t(l):i},p=function(r,t){if(null==r||!r.length)return[];var n=r.map(function(r){var n="string"==typeof(null==r?void 0:r.msg)?r.msg:"string"==typeof(null==r?void 0:r.message)?r.message:"";return s(n,t)}).filter(Boolean);return n.length?n:[o.t("collections.errors.generalValidation")]},v=function(r,t){if(!r)return[];if(Array.isArray(r)){var n=r.filter(function(r){return Boolean(r&&"object"===l(r)&&"msg"in r)});if(n.length)return p(n,t);var e=r.map(function(r){return"string"==typeof r?s(r,t):""}).filter(Boolean);if(e.length)return e}if("string"==typeof r){var o=f(r);if(void 0!==o){var i=v(o,t);if(i.length)return i}var c=s(r,t);return c?[c]:[]}return[]},y=function(r,t,n){var e=429===r?o.t("collections.fallback.rateLimited"):403===r?o.t("collections.fallback.forbidden"):o.t("collections.fallback.loadFailed");if(t){var i=f(t);if(i){var c=p(i.errors,n);if(c.length)return Array.from(new Set(c)).join(". ");var a=v(i.detail,n);if(a.length)return Array.from(new Set(a)).join(". ");var u=s(i.error,n)||s(i.message,n);if(u)return u}else{var l=s(t,n);if(l)return l}}return e},m=r("f",function(){var r=u(i().m(function r(t){var n,e,o,a,u,l=arguments;return i().w(function(r){for(;;)switch(r.n){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:"",e=l.length>2&&void 0!==l[2]?l[2]:1,o=l.length>3&&void 0!==l[3]?l[3]:10,r.n=1,c("/api/v1/collections?type=".concat(t,"&page=").concat(e,"&limit=").concat(o).concat(n?"&search=".concat(encodeURIComponent(n)):""));case 1:if((a=r.v).ok){r.n=3;break}return r.n=2,a.text().catch(function(){return""});case 2:throw u=r.v,new Error(y(a.status,u,{collectionType:t}));case 3:return r.a(2,a.json())}},r)}));return function(t){return r.apply(this,arguments)}}()),h=function(r){return"number"==typeof r&&Number.isFinite(r)};r("a",function(){var r=u(i().m(function r(t){var n,o,c,a,u,l,f,s,p,v=arguments;return i().w(function(r){for(;;)switch(r.n){case 0:n=v.length>1&&void 0!==v[1]?v[1]:"",c=(o=v.length>2&&void 0!==v[2]?v[2]:200)>0?o:200,a=[],u=1,l=0,f=100;case 1:if(!(u<=f)){r.n=6;break}return r.n=2,m(t,n,u,c);case 2:if(s=r.v,(p=Array.isArray(s.items)?s.items:[]).length||0!==a.length||h(s.total)){r.n=3;break}return r.a(2,[]);case 3:if(a.push.apply(a,e(p)),h(s.total)&&(l=Math.max(l,s.total)),!(p.length<c)){r.n=4;break}return r.a(3,6);case 4:if(!(l&&a.length>=l)){r.n=5;break}return r.a(3,6);case 5:u+=1,r.n=1;break;case 6:if(!(l&&a.length>l)){r.n=7;break}return r.a(2,a.slice(0,l));case 7:return r.a(2,a)}},r)}));return function(t){return r.apply(this,arguments)}}()),r("c",function(r,n){return c("/api/v1/collections",{method:"POST",confirmed:!0,headers:{"Content-Type":"application/json"},body:JSON.stringify(t({type:r},n))}).then(function(){var t=u(i().m(function t(n){var e;return i().w(function(t){for(;;)switch(t.n){case 0:if(n.ok){t.n=2;break}return t.n=1,n.text().catch(function(){return""});case 1:throw e=t.v,new Error(y(n.status,e,{collectionType:r}));case 2:return t.a(2,n.json())}},t)}));return function(r){return t.apply(this,arguments)}}())}),r("u",function(r,t,n){return c("/api/v1/collections/".concat(r),{method:"PUT",confirmed:!0,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(){var r=u(i().m(function r(t){var e;return i().w(function(r){for(;;)switch(r.n){case 0:if(t.ok){r.n=2;break}return r.n=1,t.text().catch(function(){return""});case 1:throw e=r.v,new Error(y(t.status,e,n));case 2:return r.a(2,t.json())}},r)}));return function(t){return r.apply(this,arguments)}}())}),r("r",function(){var r=u(i().m(function r(t){var n,e;return i().w(function(r){for(;;)switch(r.n){case 0:return r.n=1,c("/api/v1/collections/".concat(t),{method:"DELETE",confirmed:!0});case 1:if((n=r.v).ok){r.n=3;break}return r.n=2,n.text().catch(function(){return""});case 2:throw e=r.v,new Error(y(n.status,e));case 3:return r.a(2,n.json())}},r)}));return function(t){return r.apply(this,arguments)}}())}}})}();
//# sourceMappingURL=collections-legacy-B3aPJpmz.js.map
