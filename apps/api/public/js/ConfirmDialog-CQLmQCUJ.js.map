{"version":3,"file":"ConfirmDialog-CQLmQCUJ.js","sources":["../../../web/src/components/ConfirmDialog.tsx"],"sourcesContent":["// Назначение: модалка подтверждения действий\n// Основные модули: React, Modal\nimport React from 'react';\n\nimport { Button } from '@/components/ui/button';\nimport Modal from './Modal';\n\ninterface ConfirmDialogProps {\n  open: boolean;\n  message: string;\n  onConfirm: () => void | Promise<void>;\n  onCancel: () => void;\n  confirmText?: string;\n  cancelText?: string;\n}\n\nexport default function ConfirmDialog({\n  open,\n  message,\n  onConfirm,\n  onCancel,\n  confirmText = 'Подтвердить',\n  cancelText = 'Отмена',\n}: ConfirmDialogProps) {\n  const [pending, setPending] = React.useState(false);\n\n  const handleConfirm = React.useCallback(() => {\n    if (pending) return;\n    try {\n      const result = onConfirm();\n      if (result && typeof (result as Promise<unknown>).then === 'function') {\n        setPending(true);\n        (result as Promise<unknown>)\n          .catch((error) => {\n            console.error(error);\n          })\n          .finally(() => setPending(false));\n      }\n    } catch (error) {\n      setPending(false);\n      console.error(error);\n    }\n  }, [onConfirm, pending]);\n\n  return (\n    <Modal open={open} onClose={onCancel}>\n      <p>{message}</p>\n      <div className=\"mt-4 flex justify-end gap-2\">\n        <Button\n          variant=\"outline\"\n          size=\"pill\"\n          onClick={onCancel}\n          disabled={pending}\n        >\n          {cancelText}\n        </Button>\n        <Button\n          variant=\"destructive\"\n          size=\"pill\"\n          onClick={handleConfirm}\n          disabled={pending}\n        >\n          {confirmText}\n        </Button>\n      </div>\n    </Modal>\n  );\n}\n"],"names":["ConfirmDialog","open","message","onConfirm","onCancel","confirmText","cancelText","pending","setPending","React","handleConfirm","result","error","jsxs","Modal","jsx","Button"],"mappings":"8HAgBA,SAAwBA,EAAc,CACpC,KAAAC,EACA,QAAAC,EACA,UAAAC,EACA,SAAAC,EACA,YAAAC,EAAc,cACd,WAAAC,EAAa,QACf,EAAuB,CACrB,KAAM,CAACC,EAASC,CAAU,EAAIC,EAAM,SAAS,EAAK,EAE5CC,EAAgBD,EAAM,YAAY,IAAM,CAC5C,GAAI,CAAAF,EACJ,GAAI,CACF,MAAMI,EAASR,EAAA,EACXQ,GAAU,OAAQA,EAA4B,MAAS,aACzDH,EAAW,EAAI,EACdG,EACE,MAAOC,GAAU,CAChB,QAAQ,MAAMA,CAAK,CACrB,CAAC,EACA,QAAQ,IAAMJ,EAAW,EAAK,CAAC,EAEtC,OAASI,EAAO,CACdJ,EAAW,EAAK,EAChB,QAAQ,MAAMI,CAAK,CACrB,CACF,EAAG,CAACT,EAAWI,CAAO,CAAC,EAEvB,OACEM,EAAAA,KAACC,EAAA,CAAM,KAAAb,EAAY,QAASG,EAC1B,SAAA,CAAAW,EAAAA,IAAC,KAAG,SAAAb,CAAA,CAAQ,EACZW,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAE,EAAAA,IAACC,EAAA,CACC,QAAQ,UACR,KAAK,OACL,QAASZ,EACT,SAAUG,EAET,SAAAD,CAAA,CAAA,EAEHS,EAAAA,IAACC,EAAA,CACC,QAAQ,cACR,KAAK,OACL,QAASN,EACT,SAAUH,EAET,SAAAF,CAAA,CAAA,CACH,CAAA,CACF,CAAA,EACF,CAEJ"}