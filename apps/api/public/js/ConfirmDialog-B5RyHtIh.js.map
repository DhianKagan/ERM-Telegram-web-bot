{"version":3,"file":"ConfirmDialog-B5RyHtIh.js","sources":["../../../web/src/components/ConfirmDialog.tsx"],"sourcesContent":["// Назначение: модалка подтверждения действий\r\n// Основные модули: React, Modal\r\nimport React from \"react\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport Modal from \"./Modal\";\r\n\r\ninterface ConfirmDialogProps {\r\n  open: boolean;\r\n  message: string;\r\n  onConfirm: () => void | Promise<void>;\r\n  onCancel: () => void;\r\n  confirmText?: string;\r\n  cancelText?: string;\r\n}\r\n\r\nexport default function ConfirmDialog({\r\n  open,\r\n  message,\r\n  onConfirm,\r\n  onCancel,\r\n  confirmText = \"Подтвердить\",\r\n  cancelText = \"Отмена\",\r\n}: ConfirmDialogProps) {\r\n  const [pending, setPending] = React.useState(false);\r\n\r\n  const handleConfirm = React.useCallback(() => {\r\n    if (pending) return;\r\n    try {\r\n      const result = onConfirm();\r\n      if (result && typeof (result as Promise<unknown>).then === \"function\") {\r\n        setPending(true);\r\n        (result as Promise<unknown>)\r\n          .catch((error) => {\r\n            console.error(error);\r\n          })\r\n          .finally(() => setPending(false));\r\n      }\r\n    } catch (error) {\r\n      setPending(false);\r\n      console.error(error);\r\n    }\r\n  }, [onConfirm, pending]);\r\n\r\n  return (\r\n    <Modal open={open} onClose={onCancel}>\r\n      <p>{message}</p>\r\n      <div className=\"mt-4 flex justify-end gap-2\">\r\n        <Button\r\n          variant=\"outline\"\r\n          size=\"pill\"\r\n          onClick={onCancel}\r\n          disabled={pending}\r\n        >\r\n          {cancelText}\r\n        </Button>\r\n        <Button\r\n          variant=\"destructive\"\r\n          size=\"pill\"\r\n          onClick={handleConfirm}\r\n          disabled={pending}\r\n        >\r\n          {confirmText}\r\n        </Button>\r\n      </div>\r\n    </Modal>\r\n  );\r\n}\r\n"],"names":["ConfirmDialog","open","message","onConfirm","onCancel","confirmText","cancelText","pending","setPending","React","handleConfirm","result","error","jsxs","Modal","jsx","Button"],"mappings":"8HAgBA,SAAwBA,EAAc,CACpC,KAAAC,EACA,QAAAC,EACA,UAAAC,EACA,SAAAC,EACA,YAAAC,EAAc,cACd,WAAAC,EAAa,QACf,EAAuB,CACrB,KAAM,CAACC,EAASC,CAAU,EAAIC,EAAM,SAAS,EAAK,EAE5CC,EAAgBD,EAAM,YAAY,IAAM,CAC5C,GAAI,CAAAF,EACJ,GAAI,CACF,MAAMI,EAASR,EAAA,EACXQ,GAAU,OAAQA,EAA4B,MAAS,aACzDH,EAAW,EAAI,EACdG,EACE,MAAOC,GAAU,CAChB,QAAQ,MAAMA,CAAK,CACrB,CAAC,EACA,QAAQ,IAAMJ,EAAW,EAAK,CAAC,EAEtC,OAASI,EAAO,CACdJ,EAAW,EAAK,EAChB,QAAQ,MAAMI,CAAK,CACrB,CACF,EAAG,CAACT,EAAWI,CAAO,CAAC,EAEvB,OACEM,EAAAA,KAACC,EAAA,CAAM,KAAAb,EAAY,QAASG,EAC1B,SAAA,CAAAW,EAAAA,IAAC,KAAG,SAAAb,CAAA,CAAQ,EACZW,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAE,EAAAA,IAACC,EAAA,CACC,QAAQ,UACR,KAAK,OACL,QAASZ,EACT,SAAUG,EAET,SAAAD,CAAA,CAAA,EAEHS,EAAAA,IAACC,EAAA,CACC,QAAQ,cACR,KAAK,OACL,QAASN,EACT,SAAUH,EAET,SAAAF,CAAA,CAAA,CACH,CAAA,CACF,CAAA,EACF,CAEJ"}