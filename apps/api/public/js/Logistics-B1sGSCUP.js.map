{"version":3,"file":"Logistics-B1sGSCUP.js","sources":["../../../web/src/components/SkeletonCard.tsx","../../../web/src/services/routePlans.ts","../../../web/src/pages/Logistics.tsx"],"sourcesContent":["// Карточка-заглушка во время загрузки\nexport default function SkeletonCard() {\n  return (\n    <div className=\"border-stroke bg-gray animate-pulse rounded border p-4\">\n      <div className=\"bg-gray-2 mb-4 h-6 w-1/3 rounded\" />\n      <div className=\"bg-gray-2 mb-2 h-4 w-full rounded\" />\n      <div className=\"bg-gray-2 mb-2 h-4 w-full rounded\" />\n      <div className=\"bg-gray-2 h-4 w-2/3 rounded\" />\n    </div>\n  );\n}\n","// Назначение: HTTP-запросы для работы с маршрутными планами.\n// Основные модули: authFetch, shared\n\nimport type { RoutePlan, RoutePlanRoute, RoutePlanStatus } from 'shared';\nimport authFetch from '../utils/authFetch';\n\nconst normalizeRoutes = (routes?: RoutePlanRoute[]): RoutePlanRoute[] => {\n  if (!Array.isArray(routes)) return [];\n  return routes.map((route) => ({\n    ...route,\n    tasks: Array.isArray(route.tasks) ? route.tasks : [],\n    stops: Array.isArray(route.stops) ? route.stops : [],\n    metrics: route.metrics ?? {},\n  }));\n};\n\nconst normalizePlan = (plan: RoutePlan): RoutePlan => {\n  const routes = normalizeRoutes(plan.routes);\n  const tasks = Array.isArray(plan.tasks) ? plan.tasks : [];\n  const totalStops = routes.reduce(\n    (sum, route) => sum + (route.stops?.length ?? 0),\n    0,\n  );\n  const totalTasks =\n    plan.metrics?.totalTasks ??\n    (tasks.length ||\n      routes.reduce((sum, route) => sum + route.tasks.length, 0));\n\n  return {\n    ...plan,\n    routes,\n    tasks,\n    metrics: plan.metrics ?? {\n      totalDistanceKm: null,\n      totalRoutes: routes.length,\n      totalTasks,\n      totalStops,\n      totalEtaMinutes: null,\n      totalLoad: null,\n    },\n  };\n};\n\ntype RoutePlanListResponsePayload = {\n  items?: RoutePlan[];\n  total?: number;\n};\n\nexport interface RoutePlanUpdatePayload {\n  title?: string;\n  notes?: string | null;\n  routes?: Array<{\n    id?: string;\n    order?: number;\n    vehicleId?: string | null;\n    vehicleName?: string | null;\n    driverId?: number | string | null;\n    driverName?: string | null;\n    notes?: string | null;\n    tasks: string[];\n  }>;\n}\n\nexport interface RoutePlanListResponse {\n  items: RoutePlan[];\n  total: number;\n}\n\nexport async function listRoutePlans(\n  status?: RoutePlanStatus,\n  limit?: number,\n  page?: number,\n): Promise<RoutePlanListResponse> {\n  const params = new URLSearchParams();\n  if (status) params.set('status', status);\n  if (limit) params.set('limit', String(limit));\n  if (page) params.set('page', String(page));\n  const response = await authFetch(`/api/v1/route-plans?${params.toString()}`);\n  if (!response.ok) {\n    throw new Error('Не удалось загрузить маршрутные планы');\n  }\n  const payload = (await response.json()) as RoutePlanListResponsePayload;\n  const items = Array.isArray(payload.items)\n    ? payload.items.map(normalizePlan)\n    : [];\n  const total =\n    typeof payload.total === 'number' ? payload.total : items.length;\n  return { items, total };\n}\n\nexport async function getRoutePlan(id: string): Promise<RoutePlan> {\n  const response = await authFetch(`/api/v1/route-plans/${id}`);\n  if (!response.ok) {\n    throw new Error('Маршрутный план не найден');\n  }\n  const data = await response.json();\n  return normalizePlan(data.plan as RoutePlan);\n}\n\nexport async function updateRoutePlan(\n  id: string,\n  payload: RoutePlanUpdatePayload,\n): Promise<RoutePlan> {\n  const response = await authFetch(`/api/v1/route-plans/${id}`, {\n    method: 'PATCH',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(payload),\n  });\n  if (!response.ok) {\n    throw new Error('Не удалось сохранить маршрутный план');\n  }\n  const data = await response.json();\n  return normalizePlan(data.plan as RoutePlan);\n}\n\nexport async function changeRoutePlanStatus(\n  id: string,\n  status: RoutePlanStatus,\n): Promise<RoutePlan> {\n  const response = await authFetch(`/api/v1/route-plans/${id}/status`, {\n    method: 'PATCH',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({ status }),\n  });\n  if (!response.ok) {\n    throw new Error('Не удалось обновить статус маршрутного плана');\n  }\n  const data = await response.json();\n  return normalizePlan(data.plan as RoutePlan);\n}\n\nexport async function deleteRoutePlan(id: string): Promise<void> {\n  const response = await authFetch(`/api/v1/route-plans/${id}`, {\n    method: 'DELETE',\n  });\n  if (!response.ok) {\n    throw new Error('Не удалось удалить маршрутный план');\n  }\n}\n\nexport default {\n  listRoutePlans,\n  getRoutePlan,\n  updateRoutePlan,\n  changeRoutePlanStatus,\n  deleteRoutePlan,\n};\n","// Страница отображения маршрутных планов в виде карточек\n// Основные модули: React, listRoutePlans, компоненты интерфейса\nimport React from 'react';\nimport type {\n  RoutePlan,\n  RoutePlanRoute,\n  RoutePlanStatus,\n  RoutePlanTaskRef,\n} from 'shared';\n\nimport { Button } from '@/components/ui/button';\nimport Breadcrumbs from '../components/Breadcrumbs';\nimport SkeletonCard from '../components/SkeletonCard';\nimport { useAuth } from '../context/useAuth';\nimport { useToast } from '../context/useToast';\nimport { listRoutePlans } from '../services/routePlans';\nimport { ACCESS_ADMIN, ACCESS_MANAGER, hasAccess } from '../utils/access';\n\nconst STATUS_LABELS: Record<RoutePlanStatus | 'cancelled', string> = {\n  draft: 'Новый',\n  approved: 'В работе',\n  completed: 'Выполнен',\n  cancelled: 'Отменен',\n};\n\nconst STATUS_STYLES: Record<RoutePlanStatus | 'cancelled', string> = {\n  draft: 'bg-blue-100 text-blue-800',\n  approved: 'bg-amber-100 text-amber-800',\n  completed: 'bg-emerald-100 text-emerald-800',\n  cancelled: 'bg-rose-100 text-rose-800',\n};\n\nconst STATUS_OPTIONS: Array<{\n  value: RoutePlanStatus | 'cancelled' | 'all';\n  label: string;\n}> = [\n  { value: 'all', label: 'Все' },\n  { value: 'draft', label: STATUS_LABELS.draft },\n  { value: 'approved', label: STATUS_LABELS.approved },\n  { value: 'completed', label: STATUS_LABELS.completed },\n  { value: 'cancelled', label: STATUS_LABELS.cancelled },\n];\n\nconst formatDate = (value?: string): string => {\n  if (!value) return '—';\n  try {\n    return new Intl.DateTimeFormat('ru-RU', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n    }).format(new Date(value));\n  } catch {\n    return value;\n  }\n};\n\nconst collectTasks = (routes: RoutePlanRoute[]): string[] => {\n  const names = new Set<string>();\n  routes.forEach((route) => {\n    route.tasks.forEach((task: RoutePlanTaskRef) => {\n      const label = task.title?.trim() || task.taskId;\n      if (label) {\n        names.add(label);\n      }\n    });\n  });\n  return Array.from(names);\n};\n\nconst collectDrivers = (routes: RoutePlanRoute[]): string => {\n  const drivers = new Set<string>();\n  routes.forEach((route) => {\n    if (route.driverName) {\n      drivers.add(route.driverName);\n    }\n  });\n  return drivers.size > 0 ? Array.from(drivers).join(', ') : 'Не назначен';\n};\n\nconst collectVehicles = (routes: RoutePlanRoute[]): string => {\n  const vehicles = new Set<string>();\n  routes.forEach((route) => {\n    if (route.vehicleName) {\n      vehicles.add(route.vehicleName);\n    }\n  });\n  return vehicles.size > 0 ? Array.from(vehicles).join(', ') : 'Не назначено';\n};\n\nconst normalizeStatus = (\n  status?: RoutePlanStatus | string,\n): RoutePlanStatus | 'cancelled' => {\n  if (status === 'draft' || status === 'approved' || status === 'completed') {\n    return status;\n  }\n  return 'cancelled';\n};\n\nexport default function Logistics() {\n  const [plans, setPlans] = React.useState<RoutePlan[]>([]);\n  const [loading, setLoading] = React.useState(true);\n  const [error, setError] = React.useState<string | null>(null);\n  const [statusFilter, setStatusFilter] = React.useState<\n    RoutePlanStatus | 'cancelled' | 'all'\n  >('all');\n  const { addToast } = useToast();\n  const { user } = useAuth();\n\n  const loadPlans = React.useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    try {\n      const data = await listRoutePlans();\n      setPlans(Array.isArray(data.items) ? data.items : []);\n    } catch (err) {\n      const message =\n        err instanceof Error\n          ? err.message\n          : 'Не удалось загрузить маршрутные планы';\n      setError(message);\n      addToast(message);\n    } finally {\n      setLoading(false);\n    }\n  }, [addToast]);\n\n  React.useEffect(() => {\n    void loadPlans();\n  }, [loadPlans]);\n\n  const filteredPlans = React.useMemo(() => {\n    if (statusFilter === 'all') return plans;\n    return plans.filter(\n      (plan) => normalizeStatus(plan.status) === statusFilter,\n    );\n  }, [plans, statusFilter]);\n\n  const access = typeof user?.access === 'number' ? user.access : 0;\n  const isAdmin = user?.role === 'admin' || hasAccess(access, ACCESS_ADMIN);\n  const isManager = hasAccess(access, ACCESS_MANAGER);\n\n  return (\n    <div className=\"space-y-6\">\n      <Breadcrumbs\n        items={[\n          { label: 'Логистика', href: '/logistics' },\n          { label: 'Маршрутные планы' },\n        ]}\n      />\n      <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between\">\n        <div className=\"space-y-1\">\n          <h2 className=\"text-xl font-semibold\">Маршрутные планы</h2>\n          <p className=\"max-w-2xl text-sm text-muted-foreground\">\n            Просматривайте планы доставки без привязки к карте: задачи,\n            назначенные водители и транспорт, статус и детали плана.\n          </p>\n        </div>\n        <div className=\"flex flex-col gap-2 sm:flex-row sm:items-end\">\n          <label\n            className=\"flex flex-col text-sm font-medium text-foreground\"\n            htmlFor=\"logistics-status-filter\"\n          >\n            Статус\n            <select\n              id=\"logistics-status-filter\"\n              className=\"mt-1 min-w-[160px] rounded-md border border-border bg-background px-3 py-2 text-sm focus:border-accentPrimary focus:outline-none\"\n              value={statusFilter}\n              onChange={(event) =>\n                setStatusFilter(\n                  event.target.value as RoutePlanStatus | 'cancelled' | 'all',\n                )\n              }\n            >\n              {STATUS_OPTIONS.map((option) => (\n                <option key={option.value} value={option.value}>\n                  {option.label}\n                </option>\n              ))}\n            </select>\n          </label>\n          <Button\n            onClick={() => void loadPlans()}\n            disabled={loading}\n            variant=\"outline\"\n            className=\"sm:self-end\"\n          >\n            {loading ? 'Обновляем…' : 'Обновить'}\n          </Button>\n        </div>\n      </div>\n      {!isAdmin && !isManager && (\n        <p className=\"text-sm text-muted-foreground\">\n          Управление маршрутными планами доступно администраторам и менеджерам.\n          Остальные пользователи могут просматривать список.\n        </p>\n      )}\n      {error && (\n        <div\n          className=\"rounded-lg border border-destructive bg-destructive/10 p-3 text-sm text-destructive\"\n          role=\"alert\"\n        >\n          {error}\n        </div>\n      )}\n      {loading ? (\n        <SkeletonCard />\n      ) : filteredPlans.length === 0 ? (\n        <div className=\"rounded-lg border border-border bg-card p-4 text-sm text-muted-foreground\">\n          Маршрутные планы отсутствуют.\n        </div>\n      ) : (\n        <div className=\"grid gap-3 md:grid-cols-2 xl:grid-cols-3\">\n          {filteredPlans.map((plan) => {\n            const status = normalizeStatus(plan.status);\n            const tasks = collectTasks(plan.routes ?? []);\n            const drivers = collectDrivers(plan.routes ?? []);\n            const vehicles = collectVehicles(plan.routes ?? []);\n            const statusLabel = STATUS_LABELS[status];\n            const statusColor = STATUS_STYLES[status];\n\n            return (\n              <article\n                key={plan.id}\n                className=\"flex h-full flex-col gap-3 rounded-lg border border-border bg-card p-4 shadow-sm\"\n              >\n                <div className=\"flex items-start justify-between gap-3\">\n                  <div>\n                    <p className=\"text-xs text-muted-foreground\">\n                      Создан: {formatDate(plan.createdAt)}\n                    </p>\n                    <h3 className=\"text-lg font-semibold leading-6\">\n                      {plan.title}\n                    </h3>\n                  </div>\n                  <span\n                    className={`rounded-full px-3 py-1 text-xs font-semibold leading-5 ${statusColor}`}\n                    aria-label={`Статус: ${statusLabel}`}\n                  >\n                    {statusLabel}\n                  </span>\n                </div>\n                {plan.notes && (\n                  <p\n                    className=\"text-sm text-foreground\"\n                    aria-label=\"Описание плана\"\n                  >\n                    {plan.notes}\n                  </p>\n                )}\n                <div className=\"space-y-1 text-sm text-foreground\">\n                  <p>\n                    <span className=\"font-medium\">Водитель: </span>\n                    {drivers}\n                  </p>\n                  <p>\n                    <span className=\"font-medium\">Авто: </span>\n                    {vehicles}\n                  </p>\n                </div>\n                <div className=\"space-y-2\">\n                  <p className=\"text-sm font-medium text-foreground\">Задачи</p>\n                  {tasks.length > 0 ? (\n                    <ul className=\"list-disc space-y-1 pl-5 text-sm text-foreground\">\n                      {tasks.map((task) => (\n                        <li key={task}>{task}</li>\n                      ))}\n                    </ul>\n                  ) : (\n                    <p className=\"text-sm text-muted-foreground\">\n                      Задачи не назначены\n                    </p>\n                  )}\n                </div>\n              </article>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["SkeletonCard","jsxs","jsx","normalizeRoutes","routes","route","_a","normalizePlan","plan","tasks","totalStops","sum","_b","totalTasks","_c","listRoutePlans","status","limit","page","params","response","authFetch","payload","items","total","STATUS_LABELS","STATUS_STYLES","STATUS_OPTIONS","formatDate","value","e","collectTasks","names","task","label","collectDrivers","drivers","collectVehicles","vehicles","normalizeStatus","Logistics","plans","setPlans","React","loading","setLoading","error","setError","statusFilter","setStatusFilter","addToast","useToast","user","useAuth","loadPlans","data","err","message","filteredPlans","access","isAdmin","hasAccess","ACCESS_ADMIN","isManager","ACCESS_MANAGER","Breadcrumbs","event","option","Button","statusLabel","statusColor"],"mappings":"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"}